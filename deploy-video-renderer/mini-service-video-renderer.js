// @bun
var tJ=Object.create;var{getPrototypeOf:aJ,defineProperty:i9,getOwnPropertyNames:eJ}=Object;var $q=Object.prototype.hasOwnProperty;var T6=($,X,Y)=>{Y=$!=null?tJ(aJ($)):{};let Q=X||!$||!$.__esModule?i9(Y,"default",{value:$,enumerable:!0}):Y;for(let J of eJ($))if(!$q.call(Q,J))i9(Q,J,{get:()=>$[J],enumerable:!0});return Q};var u=($,X)=>()=>(X||$((X={exports:{}}).exports,X),X.exports);var Xq=($,X)=>{for(var Y in X)i9($,Y,{get:X[Y],enumerable:!0,configurable:!0,set:(Q)=>X[Y]=()=>Q})};var e=import.meta.require;var g7=u((LN,y7)=>{y7.exports=f7;f7.sync=Qq;var k7=e("fs");function Yq($,X){var Y=X.pathExt!==void 0?X.pathExt:process.env.PATHEXT;if(!Y)return!0;if(Y=Y.split(";"),Y.indexOf("")!==-1)return!0;for(var Q=0;Q<Y.length;Q++){var J=Y[Q].toLowerCase();if(J&&$.substr(-J.length).toLowerCase()===J)return!0}return!1}function h7($,X,Y){if(!$.isSymbolicLink()&&!$.isFile())return!1;return Yq(X,Y)}function f7($,X,Y){k7.stat($,function(Q,J){Y(Q,Q?!1:h7(J,$,X))})}function Qq($,X){return h7(k7.statSync($),$,X)}});var l7=u((RN,d7)=>{d7.exports=u7;u7.sync=Jq;var m7=e("fs");function u7($,X,Y){m7.stat($,function(Q,J){Y(Q,Q?!1:c7(J,X))})}function Jq($,X){return c7(m7.statSync($),X)}function c7($,X){return $.isFile()&&qq($,X)}function qq($,X){var{mode:Y,uid:Q,gid:J}=$,q=X.uid!==void 0?X.uid:process.getuid&&process.getuid(),W=X.gid!==void 0?X.gid:process.getgid&&process.getgid(),H=parseInt("100",8),G=parseInt("010",8),_=parseInt("001",8),j=H|G,V=Y&_||Y&G&&J===W||Y&H&&Q===q||Y&j&&q===0;return V}});var n7=u((zN,p7)=>{var FN=e("fs"),j2;if(process.platform==="win32"||global.TESTING_WINDOWS)j2=g7();else j2=l7();p7.exports=s9;s9.sync=Wq;function s9($,X,Y){if(typeof X==="function")Y=X,X={};if(!Y){if(typeof Promise!=="function")throw TypeError("callback not provided");return new Promise(function(Q,J){s9($,X||{},function(q,W){if(q)J(q);else Q(W)})})}j2($,X||{},function(Q,J){if(Q){if(Q.code==="EACCES"||X&&X.ignoreErrors)Q=null,J=!1}Y(Q,J)})}function Wq($,X){try{return j2.sync($,X||{})}catch(Y){if(X&&X.ignoreErrors||Y.code==="EACCES")return!1;else throw Y}}});var e7=u((IN,a7)=>{var b1=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",i7=e("path"),Hq=b1?";":":",s7=n7(),o7=($)=>Object.assign(Error(`not found: ${$}`),{code:"ENOENT"}),r7=($,X)=>{let Y=X.colon||Hq,Q=$.match(/\//)||b1&&$.match(/\\/)?[""]:[...b1?[process.cwd()]:[],...(X.path||process.env.PATH||"").split(Y)],J=b1?X.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",q=b1?J.split(Y):[""];if(b1){if($.indexOf(".")!==-1&&q[0]!=="")q.unshift("")}return{pathEnv:Q,pathExt:q,pathExtExe:J}},t7=($,X,Y)=>{if(typeof X==="function")Y=X,X={};if(!X)X={};let{pathEnv:Q,pathExt:J,pathExtExe:q}=r7($,X),W=[],H=(_)=>new Promise((j,V)=>{if(_===Q.length)return X.all&&W.length?j(W):V(o7($));let U=Q[_],B=/^".*"$/.test(U)?U.slice(1,-1):U,M=i7.join(B,$),O=!B&&/^\.[\\\/]/.test($)?$.slice(0,2)+M:M;j(G(O,_,0))}),G=(_,j,V)=>new Promise((U,B)=>{if(V===J.length)return U(H(j+1));let M=J[V];s7(_+M,{pathExt:q},(O,N)=>{if(!O&&N)if(X.all)W.push(_+M);else return U(_+M);return U(G(_,j,V+1))})});return Y?H(0).then((_)=>Y(null,_),Y):H(0)},Gq=($,X)=>{X=X||{};let{pathEnv:Y,pathExt:Q,pathExtExe:J}=r7($,X),q=[];for(let W=0;W<Y.length;W++){let H=Y[W],G=/^".*"$/.test(H)?H.slice(1,-1):H,_=i7.join(G,$),j=!G&&/^\.[\\\/]/.test($)?$.slice(0,2)+_:_;for(let V=0;V<Q.length;V++){let U=j+Q[V];try{if(s7.sync(U,{pathExt:J}))if(X.all)q.push(U);else return U}catch(B){}}}if(X.all&&q.length)return q;if(X.nothrow)return null;throw o7($)};a7.exports=t7;t7.sync=Gq});var r9=u((vN,o9)=>{var $5=($={})=>{let X=$.env||process.env;if(($.platform||process.platform)!=="win32")return"PATH";return Object.keys(X).reverse().find((Q)=>Q.toUpperCase()==="PATH")||"Path"};o9.exports=$5;o9.exports.default=$5});var J5=u((PN,Q5)=>{var X5=e("path"),_q=e7(),jq=r9();function Y5($,X){let Y=$.options.env||process.env,Q=process.cwd(),J=$.options.cwd!=null,q=J&&process.chdir!==void 0&&!process.chdir.disabled;if(q)try{process.chdir($.options.cwd)}catch(H){}let W;try{W=_q.sync($.command,{path:Y[jq({env:Y})],pathExt:X?X5.delimiter:void 0})}catch(H){}finally{if(q)process.chdir(Q)}if(W)W=X5.resolve(J?$.options.cwd:"",W);return W}function Vq($){return Y5($)||Y5($,!0)}Q5.exports=Vq});var q5=u((wq,a9)=>{var t9=/([()\][%!^"`<>&|;, *?])/g;function Kq($){return $=$.replace(t9,"^$1"),$}function Uq($,X){if($=`${$}`,$=$.replace(/(?=(\\+?)?)\1"/g,"$1$1\\\""),$=$.replace(/(?=(\\+?)?)\1$/,"$1$1"),$=`"${$}"`,$=$.replace(t9,"^$1"),X)$=$.replace(t9,"^$1");return $}wq.command=Kq;wq.argument=Uq});var H5=u((xN,W5)=>{W5.exports=/^#!(.*)/});var _5=u((TN,G5)=>{var Nq=H5();G5.exports=($="")=>{let X=$.match(Nq);if(!X)return null;let[Y,Q]=X[0].replace(/#! ?/,"").split(" "),J=Y.split("/").pop();if(J==="env")return Q;return Q?`${J} ${Q}`:J}});var V5=u((bN,j5)=>{var e9=e("fs"),Mq=_5();function Dq($){let Y=Buffer.alloc(150),Q;try{Q=e9.openSync($,"r"),e9.readSync(Q,Y,0,150,0),e9.closeSync(Q)}catch(J){}return Mq(Y.toString())}j5.exports=Dq});var B5=u((ZN,w5)=>{var Eq=e("path"),K5=J5(),U5=q5(),Aq=V5(),Lq=process.platform==="win32",Rq=/\.(?:com|exe)$/i,Fq=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function zq($){$.file=K5($);let X=$.file&&Aq($.file);if(X)return $.args.unshift($.file),$.command=X,K5($);return $.file}function Iq($){if(!Lq)return $;let X=zq($),Y=!Rq.test(X);if($.options.forceShell||Y){let Q=Fq.test(X);$.command=Eq.normalize($.command),$.command=U5.command($.command),$.args=$.args.map((q)=>U5.argument(q,Q));let J=[$.command].concat($.args).join(" ");$.args=["/d","/s","/c",`"${J}"`],$.command=process.env.comspec||"cmd.exe",$.options.windowsVerbatimArguments=!0}return $}function vq($,X,Y){if(X&&!Array.isArray(X))Y=X,X=null;X=X?X.slice(0):[],Y=Object.assign({},Y);let Q={command:$,args:X,options:Y,file:void 0,original:{command:$,args:X}};return Y.shell?Q:Iq(Q)}w5.exports=vq});var M5=u((CN,N5)=>{var $3=process.platform==="win32";function X3($,X){return Object.assign(Error(`${X} ${$.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${X} ${$.command}`,path:$.command,spawnargs:$.args})}function Pq($,X){if(!$3)return;let Y=$.emit;$.emit=function(Q,J){if(Q==="exit"){let q=O5(J,X);if(q)return Y.call($,"error",q)}return Y.apply($,arguments)}}function O5($,X){if($3&&$===1&&!X.file)return X3(X.original,"spawn");return null}function xq($,X){if($3&&$===1&&!X.file)return X3(X.original,"spawnSync");return null}N5.exports={hookChildProcess:Pq,verifyENOENT:O5,verifyENOENTSync:xq,notFoundError:X3}});var A5=u((SN,Z1)=>{var D5=e("child_process"),Y3=B5(),Q3=M5();function E5($,X,Y){let Q=Y3($,X,Y),J=D5.spawn(Q.command,Q.args,Q.options);return Q3.hookChildProcess(J,Q),J}function Tq($,X,Y){let Q=Y3($,X,Y),J=D5.spawnSync(Q.command,Q.args,Q.options);return J.error=J.error||Q3.verifyENOENTSync(J.status,Q),J}Z1.exports=E5;Z1.exports.spawn=E5;Z1.exports.sync=Tq;Z1.exports._parse=Y3;Z1.exports._enoent=Q3});var R5=u((kN,L5)=>{L5.exports=($)=>{let X=typeof $==="string"?`
`:`
`.charCodeAt(),Y=typeof $==="string"?"\r":"\r".charCodeAt();if($[$.length-1]===X)$=$.slice(0,$.length-1);if($[$.length-1]===Y)$=$.slice(0,$.length-1);return $}});var I5=u((hN,N8)=>{var O8=e("path"),F5=r9(),z5=($)=>{$={cwd:process.cwd(),path:process.env[F5()],execPath:process.execPath,...$};let X,Y=O8.resolve($.cwd),Q=[];while(X!==Y)Q.push(O8.join(Y,"node_modules/.bin")),X=Y,Y=O8.resolve(Y,"..");let J=O8.resolve($.cwd,$.execPath,"..");return Q.push(J),Q.concat($.path).join(O8.delimiter)};N8.exports=z5;N8.exports.default=z5;N8.exports.env=($)=>{$={env:process.env,...$};let X={...$.env},Y=F5({env:X});return $.path=X[Y],X[Y]=N8.exports($),X}});var P5=u((fN,J3)=>{var v5=($,X)=>{for(let Y of Reflect.ownKeys(X))Object.defineProperty($,Y,Object.getOwnPropertyDescriptor(X,Y));return $};J3.exports=v5;J3.exports.default=v5});var T5=u((yN,K2)=>{var bq=P5(),V2=new WeakMap,x5=($,X={})=>{if(typeof $!=="function")throw TypeError("Expected a function");let Y,Q=0,J=$.displayName||$.name||"<anonymous>",q=function(...W){if(V2.set(q,++Q),Q===1)Y=$.apply(this,W),$=null;else if(X.throw===!0)throw Error(`Function \`${J}\` can only be called once`);return Y};return bq(q,$),V2.set(q,Q),q};K2.exports=x5;K2.exports.default=x5;K2.exports.callCount=($)=>{if(!V2.has($))throw Error(`The given function \`${$.name}\` is not wrapped by the \`onetime\` package`);return V2.get($)}});var C5=u((b5)=>{Object.defineProperty(b5,"__esModule",{value:!0});b5.SIGNALS=void 0;var Zq=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];b5.SIGNALS=Zq});var q3=u((h5)=>{Object.defineProperty(h5,"__esModule",{value:!0});h5.SIGRTMAX=h5.getRealtimeSignals=void 0;var Cq=function(){let $=k5-S5+1;return Array.from({length:$},Sq)};h5.getRealtimeSignals=Cq;var Sq=function($,X){return{name:`SIGRT${X+1}`,number:S5+X,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},S5=34,k5=64;h5.SIGRTMAX=k5});var m5=u((y5)=>{Object.defineProperty(y5,"__esModule",{value:!0});y5.getSignals=void 0;var hq=e("os"),fq=C5(),yq=q3(),gq=function(){let $=(0,yq.getRealtimeSignals)();return[...fq.SIGNALS,...$].map(mq)};y5.getSignals=gq;var mq=function({name:$,number:X,description:Y,action:Q,forced:J=!1,standard:q}){let{signals:{[$]:W}}=hq.constants,H=W!==void 0;return{name:$,number:H?W:X,description:Y,supported:H,action:Q,forced:J,standard:q}}});var l5=u((c5)=>{Object.defineProperty(c5,"__esModule",{value:!0});c5.signalsByNumber=c5.signalsByName=void 0;var uq=e("os"),u5=m5(),cq=q3(),dq=function(){return(0,u5.getSignals)().reduce(lq,{})},lq=function($,{name:X,number:Y,description:Q,supported:J,action:q,forced:W,standard:H}){return{...$,[X]:{name:X,number:Y,description:Q,supported:J,action:q,forced:W,standard:H}}},pq=dq();c5.signalsByName=pq;var nq=function(){let $=(0,u5.getSignals)(),X=cq.SIGRTMAX+1,Y=Array.from({length:X},(Q,J)=>iq(J,$));return Object.assign({},...Y)},iq=function($,X){let Y=sq($,X);if(Y===void 0)return{};let{name:Q,description:J,supported:q,action:W,forced:H,standard:G}=Y;return{[$]:{name:Q,number:$,description:J,supported:q,action:W,forced:H,standard:G}}},sq=function($,X){let Y=X.find(({name:Q})=>uq.constants.signals[Q]===$);if(Y!==void 0)return Y;return X.find((Q)=>Q.number===$)},oq=nq();c5.signalsByNumber=oq});var n5=u((dN,p5)=>{var{signalsByName:tq}=l5(),aq=({timedOut:$,timeout:X,errorCode:Y,signal:Q,signalDescription:J,exitCode:q,isCanceled:W})=>{if($)return`timed out after ${X} milliseconds`;if(W)return"was canceled";if(Y!==void 0)return`failed with ${Y}`;if(Q!==void 0)return`was killed with ${Q} (${J})`;if(q!==void 0)return`failed with exit code ${q}`;return"failed"},eq=({stdout:$,stderr:X,all:Y,error:Q,signal:J,exitCode:q,command:W,escapedCommand:H,timedOut:G,isCanceled:_,killed:j,parsed:{options:{timeout:V}}})=>{q=q===null?void 0:q,J=J===null?void 0:J;let U=J===void 0?void 0:tq[J].description,B=Q&&Q.code,O=`Command ${aq({timedOut:G,timeout:V,errorCode:B,signal:J,signalDescription:U,exitCode:q,isCanceled:_})}: ${W}`,N=Object.prototype.toString.call(Q)==="[object Error]",A=N?`${O}
${Q.message}`:O,R=[A,X,$].filter(Boolean).join(`
`);if(N)Q.originalMessage=Q.message,Q.message=R;else Q=Error(R);if(Q.shortMessage=A,Q.command=W,Q.escapedCommand=H,Q.exitCode=q,Q.signal=J,Q.signalDescription=U,Q.stdout=$,Q.stderr=X,Y!==void 0)Q.all=Y;if("bufferedData"in Q)delete Q.bufferedData;return Q.failed=!0,Q.timedOut=Boolean(G),Q.isCanceled=_,Q.killed=j&&!G,Q};p5.exports=eq});var s5=u((lN,W3)=>{var U2=["stdin","stdout","stderr"],$W=($)=>U2.some((X)=>$[X]!==void 0),i5=($)=>{if(!$)return;let{stdio:X}=$;if(X===void 0)return U2.map((Q)=>$[Q]);if($W($))throw Error(`It's not possible to provide \`stdio\` in combination with one of ${U2.map((Q)=>`\`${Q}\``).join(", ")}`);if(typeof X==="string")return X;if(!Array.isArray(X))throw TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof X}\``);let Y=Math.max(X.length,U2.length);return Array.from({length:Y},(Q,J)=>X[J])};W3.exports=i5;W3.exports.node=($)=>{let X=i5($);if(X==="ipc")return"ipc";if(X===void 0||typeof X==="string")return[X,X,X,"ipc"];if(X.includes("ipc"))return X;return[...X,"ipc"]}});var o5=u((pN,w2)=>{w2.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];if(process.platform!=="win32")w2.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");if(process.platform==="linux")w2.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var r5=u((nN,S1)=>{var F0=global.process,K1=function($){return $&&typeof $==="object"&&typeof $.removeListener==="function"&&typeof $.emit==="function"&&typeof $.reallyExit==="function"&&typeof $.listeners==="function"&&typeof $.kill==="function"&&typeof $.pid==="number"&&typeof $.on==="function"};if(!K1(F0))S1.exports=function(){return function(){}};else{if(H3=e("assert"),U1=o5(),G3=/^win/i.test(F0.platform),C1=e("events"),typeof C1!=="function")C1=C1.EventEmitter;if(F0.__signal_exit_emitter__)Z0=F0.__signal_exit_emitter__;else Z0=F0.__signal_exit_emitter__=new C1,Z0.count=0,Z0.emitted={};if(!Z0.infinite)Z0.setMaxListeners(1/0),Z0.infinite=!0;S1.exports=function($,X){if(!K1(global.process))return function(){};if(H3.equal(typeof $,"function","a callback must be provided for exit handler"),w1===!1)B2();var Y="exit";if(X&&X.alwaysLast)Y="afterexit";var Q=function(){if(Z0.removeListener(Y,$),Z0.listeners("exit").length===0&&Z0.listeners("afterexit").length===0)M8()};return Z0.on(Y,$),Q},M8=function(){if(!w1||!K1(global.process))return;w1=!1,U1.forEach(function(X){try{F0.removeListener(X,D8[X])}catch(Y){}}),F0.emit=E8,F0.reallyExit=O2,Z0.count-=1},S1.exports.unload=M8,l6=function(X,Y,Q){if(Z0.emitted[X])return;Z0.emitted[X]=!0,Z0.emit(X,Y,Q)},D8={},U1.forEach(function($){D8[$]=function(){if(!K1(global.process))return;var Y=F0.listeners($);if(Y.length===Z0.count){if(M8(),l6("exit",null,$),l6("afterexit",null,$),G3&&$==="SIGHUP")$="SIGINT";F0.kill(F0.pid,$)}}}),S1.exports.signals=function(){return U1},w1=!1,B2=function(){if(w1||!K1(global.process))return;w1=!0,Z0.count+=1,U1=U1.filter(function(X){try{return F0.on(X,D8[X]),!0}catch(Y){return!1}}),F0.emit=j3,F0.reallyExit=_3},S1.exports.load=B2,O2=F0.reallyExit,_3=function(X){if(!K1(global.process))return;F0.exitCode=X||0,l6("exit",F0.exitCode,null),l6("afterexit",F0.exitCode,null),O2.call(F0,F0.exitCode)},E8=F0.emit,j3=function(X,Y){if(X==="exit"&&K1(global.process)){if(Y!==void 0)F0.exitCode=Y;var Q=E8.apply(this,arguments);return l6("exit",F0.exitCode,null),l6("afterexit",F0.exitCode,null),Q}else return E8.apply(this,arguments)}}var H3,U1,G3,C1,Z0,M8,l6,D8,w1,B2,O2,_3,E8,j3});var a5=u((iN,t5)=>{var XW=e("os"),YW=r5(),QW=($,X="SIGTERM",Y={})=>{let Q=$(X);return JW($,X,Y,Q),Q},JW=($,X,Y,Q)=>{if(!qW(X,Y,Q))return;let J=HW(Y),q=setTimeout(()=>{$("SIGKILL")},J);if(q.unref)q.unref()},qW=($,{forceKillAfterTimeout:X},Y)=>{return WW($)&&X!==!1&&Y},WW=($)=>{return $===XW.constants.signals.SIGTERM||typeof $==="string"&&$.toUpperCase()==="SIGTERM"},HW=({forceKillAfterTimeout:$=!0})=>{if($===!0)return 5000;if(!Number.isFinite($)||$<0)throw TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${$}\` (${typeof $})`);return $},GW=($,X)=>{if($.kill())X.isCanceled=!0},_W=($,X,Y)=>{$.kill(X),Y(Object.assign(Error("Timed out"),{timedOut:!0,signal:X}))},jW=($,{timeout:X,killSignal:Y="SIGTERM"},Q)=>{if(X===0||X===void 0)return Q;let J,q=new Promise((H,G)=>{J=setTimeout(()=>{_W($,Y,G)},X)}),W=Q.finally(()=>{clearTimeout(J)});return Promise.race([q,W])},VW=({timeout:$})=>{if($!==void 0&&(!Number.isFinite($)||$<0))throw TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${$}\` (${typeof $})`)},KW=async($,{cleanup:X,detached:Y},Q)=>{if(!X||Y)return Q;let J=YW(()=>{$.kill()});return Q.finally(()=>{J()})};t5.exports={spawnedKill:QW,spawnedCancel:GW,setupTimeout:jW,validateTimeout:VW,setExitHandler:KW}});var $$=u((sN,e5)=>{var E6=($)=>$!==null&&typeof $==="object"&&typeof $.pipe==="function";E6.writable=($)=>E6($)&&$.writable!==!1&&typeof $._write==="function"&&typeof $._writableState==="object";E6.readable=($)=>E6($)&&$.readable!==!1&&typeof $._read==="function"&&typeof $._readableState==="object";E6.duplex=($)=>E6.writable($)&&E6.readable($);E6.transform=($)=>E6.duplex($)&&typeof $._transform==="function";e5.exports=E6});var Y$=u((oN,X$)=>{var{PassThrough:UW}=e("stream");X$.exports=($)=>{$={...$};let{array:X}=$,{encoding:Y}=$,Q=Y==="buffer",J=!1;if(X)J=!(Y||Q);else Y=Y||"utf8";if(Q)Y=null;let q=new UW({objectMode:J});if(Y)q.setEncoding(Y);let W=0,H=[];return q.on("data",(G)=>{if(H.push(G),J)W=H.length;else W+=G.length}),q.getBufferedValue=()=>{if(X)return H;return Q?Buffer.concat(H,W):H.join("")},q.getBufferedLength=()=>W,q}});var Q$=u((rN,A8)=>{var{constants:wW}=e("buffer"),BW=e("stream"),{promisify:OW}=e("util"),NW=Y$(),MW=OW(BW.pipeline);class V3 extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function K3($,X){if(!$)throw Error("Expected a stream");X={maxBuffer:1/0,...X};let{maxBuffer:Y}=X,Q=NW(X);return await new Promise((J,q)=>{let W=(H)=>{if(H&&Q.getBufferedLength()<=wW.MAX_LENGTH)H.bufferedData=Q.getBufferedValue();q(H)};(async()=>{try{await MW($,Q),J()}catch(H){W(H)}})(),Q.on("data",()=>{if(Q.getBufferedLength()>Y)W(new V3)})}),Q.getBufferedValue()}A8.exports=K3;A8.exports.buffer=($,X)=>K3($,{...X,encoding:"buffer"});A8.exports.array=($,X)=>K3($,{...X,array:!0});A8.exports.MaxBufferError=V3});var q$=u((tN,J$)=>{var{PassThrough:DW}=e("stream");J$.exports=function(){var $=[],X=new DW({objectMode:!0});return X.setMaxListeners(0),X.add=Y,X.isEmpty=Q,X.on("unpipe",J),Array.prototype.slice.call(arguments).forEach(Y),X;function Y(q){if(Array.isArray(q))return q.forEach(Y),this;return $.push(q),q.once("end",J.bind(null,q)),q.once("error",X.emit.bind(X,"error")),q.pipe(X,{end:!1}),this}function Q(){return $.length==0}function J(q){if($=$.filter(function(W){return W!==q}),!$.length&&X.readable)X.end()}}});var _$=u((aN,G$)=>{var H$=$$(),W$=Q$(),EW=q$(),AW=($,X)=>{if(X===void 0||$.stdin===void 0)return;if(H$(X))X.pipe($.stdin);else $.stdin.end(X)},LW=($,{all:X})=>{if(!X||!$.stdout&&!$.stderr)return;let Y=EW();if($.stdout)Y.add($.stdout);if($.stderr)Y.add($.stderr);return Y},U3=async($,X)=>{if(!$)return;$.destroy();try{return await X}catch(Y){return Y.bufferedData}},w3=($,{encoding:X,buffer:Y,maxBuffer:Q})=>{if(!$||!Y)return;if(X)return W$($,{encoding:X,maxBuffer:Q});return W$.buffer($,{maxBuffer:Q})},RW=async({stdout:$,stderr:X,all:Y},{encoding:Q,buffer:J,maxBuffer:q},W)=>{let H=w3($,{encoding:Q,buffer:J,maxBuffer:q}),G=w3(X,{encoding:Q,buffer:J,maxBuffer:q}),_=w3(Y,{encoding:Q,buffer:J,maxBuffer:q*2});try{return await Promise.all([W,H,G,_])}catch(j){return Promise.all([{error:j,signal:j.signal,timedOut:j.timedOut},U3($,H),U3(X,G),U3(Y,_)])}},FW=({input:$})=>{if(H$($))throw TypeError("The `input` option cannot be a stream in sync mode")};G$.exports={handleInput:AW,makeAllStream:LW,getSpawnedResult:RW,validateInputSync:FW}});var V$=u((eN,j$)=>{var zW=(async()=>{})().constructor.prototype,IW=["then","catch","finally"].map(($)=>[$,Reflect.getOwnPropertyDescriptor(zW,$)]),vW=($,X)=>{for(let[Y,Q]of IW){let J=typeof X==="function"?(...q)=>Reflect.apply(Q.value,X(),q):Q.value.bind(X);Reflect.defineProperty($,Y,{...Q,value:J})}return $},PW=($)=>{return new Promise((X,Y)=>{if($.on("exit",(Q,J)=>{X({exitCode:Q,signal:J})}),$.on("error",(Q)=>{Y(Q)}),$.stdin)$.stdin.on("error",(Q)=>{Y(Q)})})};j$.exports={mergePromise:vW,getSpawnedPromise:PW}});var w$=u(($M,U$)=>{var K$=($,X=[])=>{if(!Array.isArray(X))return[$];return[$,...X]},xW=/^[\w.-]+$/,TW=/"/g,bW=($)=>{if(typeof $!=="string"||xW.test($))return $;return`"${$.replace(TW,"\\\"")}"`},ZW=($,X)=>{return K$($,X).join(" ")},CW=($,X)=>{return K$($,X).map((Y)=>bW(Y)).join(" ")},SW=/ +/g,kW=($)=>{let X=[];for(let Y of $.trim().split(SW)){let Q=X[X.length-1];if(Q&&Q.endsWith("\\"))X[X.length-1]=`${Q.slice(0,-1)} ${Y}`;else X.push(Y)}return X};U$.exports={joinCommand:ZW,getEscapedCommand:CW,parseCommand:kW}});var O3=u((XM,k1)=>{var hW=e("path"),B3=e("child_process"),fW=A5(),yW=R5(),gW=I5(),mW=T5(),N2=n5(),O$=s5(),{spawnedKill:uW,spawnedCancel:cW,setupTimeout:dW,validateTimeout:lW,setExitHandler:pW}=a5(),{handleInput:nW,getSpawnedResult:iW,makeAllStream:sW,validateInputSync:oW}=_$(),{mergePromise:B$,getSpawnedPromise:rW}=V$(),{joinCommand:N$,parseCommand:M$,getEscapedCommand:D$}=w$(),tW=({env:$,extendEnv:X,preferLocal:Y,localDir:Q,execPath:J})=>{let q=X?{...process.env,...$}:$;if(Y)return gW.env({env:q,cwd:Q,execPath:J});return q},E$=($,X,Y={})=>{let Q=fW._parse($,X,Y);if($=Q.command,X=Q.args,Y=Q.options,Y={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:Y.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...Y},Y.env=tW(Y),Y.stdio=O$(Y),process.platform==="win32"&&hW.basename($,".exe")==="cmd")X.unshift("/q");return{file:$,args:X,options:Y,parsed:Q}},L8=($,X,Y)=>{if(typeof X!=="string"&&!Buffer.isBuffer(X))return Y===void 0?void 0:"";if($.stripFinalNewline)return yW(X);return X},M2=($,X,Y)=>{let Q=E$($,X,Y),J=N$($,X),q=D$($,X);lW(Q.options);let W;try{W=B3.spawn(Q.file,Q.args,Q.options)}catch(B){let M=new B3.ChildProcess,O=Promise.reject(N2({error:B,stdout:"",stderr:"",all:"",command:J,escapedCommand:q,parsed:Q,timedOut:!1,isCanceled:!1,killed:!1}));return B$(M,O)}let H=rW(W),G=dW(W,Q.options,H),_=pW(W,Q.options,G),j={isCanceled:!1};W.kill=uW.bind(null,W.kill.bind(W)),W.cancel=cW.bind(null,W,j);let U=mW(async()=>{let[{error:B,exitCode:M,signal:O,timedOut:N},A,R,L]=await iW(W,Q.options,_),v=L8(Q.options,A),F=L8(Q.options,R),I=L8(Q.options,L);if(B||M!==0||O!==null){let P=N2({error:B,exitCode:M,signal:O,stdout:v,stderr:F,all:I,command:J,escapedCommand:q,parsed:Q,timedOut:N,isCanceled:j.isCanceled,killed:W.killed});if(!Q.options.reject)return P;throw P}return{command:J,escapedCommand:q,exitCode:0,stdout:v,stderr:F,all:I,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return nW(W,Q.options.input),W.all=sW(W,Q.options),B$(W,U)};k1.exports=M2;k1.exports.sync=($,X,Y)=>{let Q=E$($,X,Y),J=N$($,X),q=D$($,X);oW(Q.options);let W;try{W=B3.spawnSync(Q.file,Q.args,Q.options)}catch(_){throw N2({error:_,stdout:"",stderr:"",all:"",command:J,escapedCommand:q,parsed:Q,timedOut:!1,isCanceled:!1,killed:!1})}let H=L8(Q.options,W.stdout,W.error),G=L8(Q.options,W.stderr,W.error);if(W.error||W.status!==0||W.signal!==null){let _=N2({stdout:H,stderr:G,error:W.error,signal:W.signal,exitCode:W.status,command:J,escapedCommand:q,parsed:Q,timedOut:W.error&&W.error.code==="ETIMEDOUT",isCanceled:!1,killed:W.signal!==null});if(!Q.options.reject)return _;throw _}return{command:J,escapedCommand:q,exitCode:0,stdout:H,stderr:G,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};k1.exports.command=($,X)=>{let[Y,...Q]=M$($);return M2(Y,Q,X)};k1.exports.commandSync=($,X)=>{let[Y,...Q]=M$($);return M2.sync(Y,Q,X)};k1.exports.node=($,X,Y={})=>{if(X&&!Array.isArray(X)&&typeof X==="object")Y=X,X=[];let Q=O$.node(Y),J=process.execArgv.filter((H)=>!H.startsWith("--inspect")),{nodePath:q=process.execPath,nodeOptions:W=J}=Y;return M2(q,[...W,$,...Array.isArray(X)?X:[]],{...Y,stdin:void 0,stdout:void 0,stderr:void 0,stdio:Q,shell:!1})}});var x$=u((RH)=>{var P$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");RH.encode=function($){if(0<=$&&$<P$.length)return P$[$];throw TypeError("Must be between 0 and 63: "+$)}});var E3=u((vH)=>{var zH=x$();function IH($){return $<0?(-$<<1)+1:($<<1)+0}vH.encode=function(X){let Y="",Q,J=IH(X);do{if(Q=J&31,J>>>=5,J>0)Q|=32;Y+=zH.encode(Q)}while(J>0);return Y}});var b$=u((WM,T$)=>{T$.exports=typeof URL==="function"?URL:e("url").URL});var z8=u((uH)=>{var n6=b$();function xH($,X,Y){if(X in $)return $[X];else if(arguments.length===3)return Y;throw Error('"'+X+'" is a required argument.')}uH.getArg=xH;var C$=function(){return!("__proto__"in Object.create(null))}();function S$($){return $}function TH($){if(k$($))return"$"+$;return $}uH.toSetString=C$?S$:TH;function bH($){if(k$($))return $.slice(1);return $}uH.fromSetString=C$?S$:bH;function k$($){if(!$)return!1;let X=$.length;if(X<9)return!1;if($.charCodeAt(X-1)!==95||$.charCodeAt(X-2)!==95||$.charCodeAt(X-3)!==111||$.charCodeAt(X-4)!==116||$.charCodeAt(X-5)!==111||$.charCodeAt(X-6)!==114||$.charCodeAt(X-7)!==112||$.charCodeAt(X-8)!==95||$.charCodeAt(X-9)!==95)return!1;for(let Y=X-10;Y>=0;Y--)if($.charCodeAt(Y)!==36)return!1;return!0}function Z$($,X){if($===X)return 0;if($===null)return 1;if(X===null)return-1;if($>X)return 1;return-1}function ZH($,X){let Y=$.generatedLine-X.generatedLine;if(Y!==0)return Y;if(Y=$.generatedColumn-X.generatedColumn,Y!==0)return Y;if(Y=Z$($.source,X.source),Y!==0)return Y;if(Y=$.originalLine-X.originalLine,Y!==0)return Y;if(Y=$.originalColumn-X.originalColumn,Y!==0)return Y;return Z$($.name,X.name)}uH.compareByGeneratedPositionsInflated=ZH;function CH($){return JSON.parse($.replace(/^\)]}'[^\n]*\n/,""))}uH.parseSourceMapInput=CH;var L3="http:",R8=`${L3}//host`;function R3($){return(X)=>{let Y=f1(X),Q=F3(X),J=new n6(X,Q);$(J);let q=J.toString();if(Y==="absolute")return q;else if(Y==="scheme-relative")return q.slice(L3.length);else if(Y==="path-absolute")return q.slice(R8.length);return z3(Q,q)}}function p6($,X){return new n6($,X).toString()}function SH($,X){let Y=0;do{let Q=$+Y++;if(X.indexOf(Q)===-1)return Q}while(!0)}function F3($){let X=$.split("..").length-1,Y=SH("p",$),Q=`${R8}/`;for(let J=0;J<X;J++)Q+=`${Y}/`;return Q}var kH=/^[A-Za-z0-9\+\-\.]+:/;function f1($){if($[0]==="/"){if($[1]==="/")return"scheme-relative";return"path-absolute"}return kH.test($)?"absolute":"path-relative"}function z3($,X){if(typeof $==="string")$=new n6($);if(typeof X==="string")X=new n6(X);let Y=X.pathname.split("/"),Q=$.pathname.split("/");if(Q.length>0&&!Q[Q.length-1])Q.pop();while(Y.length>0&&Q.length>0&&Y[0]===Q[0])Y.shift(),Q.shift();return Q.map(()=>"..").concat(Y).join("/")+X.search+X.hash}var hH=R3(($)=>{$.pathname=$.pathname.replace(/\/?$/,"/")}),fH=R3(($)=>{$.href=new n6(".",$.toString()).toString()}),F8=R3(($)=>{});uH.normalize=F8;function A3($,X){let Y=f1(X),Q=f1($);if($=hH($),Y==="absolute")return p6(X,void 0);if(Q==="absolute")return p6(X,$);if(Y==="scheme-relative")return F8(X);if(Q==="scheme-relative")return p6(X,p6($,R8)).slice(L3.length);if(Y==="path-absolute")return F8(X);if(Q==="path-absolute")return p6(X,p6($,R8)).slice(R8.length);let J=F3(X+$),q=p6(X,p6($,J));return z3(J,q)}uH.join=A3;function yH($,X){let Y=gH($,X);return typeof Y==="string"?Y:F8(X)}uH.relative=yH;function gH($,X){if(f1($)!==f1(X))return null;let Q=F3($+X),J=new n6($,Q),q=new n6(X,Q);try{new n6("",q.toString())}catch(W){return null}if(q.protocol!==J.protocol||q.user!==J.user||q.password!==J.password||q.hostname!==J.hostname||q.port!==J.port)return null;return z3(J,q)}function mH($,X,Y){if($&&f1(X)==="path-absolute")X=X.replace(/^\//,"");let Q=F8(X||"");if($)Q=A3($,Q);if(Y)Q=A3(fH(Y),Q);return Q}uH.computeSourceURL=mH});var v3=u((tH)=>{class I3{constructor(){this._array=[],this._set=new Map}static fromArray($,X){let Y=new I3;for(let Q=0,J=$.length;Q<J;Q++)Y.add($[Q],X);return Y}size(){return this._set.size}add($,X){let Y=this.has($),Q=this._array.length;if(!Y||X)this._array.push($);if(!Y)this._set.set($,Q)}has($){return this._set.has($)}indexOf($){let X=this._set.get($);if(X>=0)return X;throw Error('"'+$+'" is not in the set.')}at($){if($>=0&&$<this._array.length)return this._array[$];throw Error("No element indexed by "+$)}toArray(){return this._array.slice()}}tH.ArraySet=I3});var y$=u(($G)=>{var h$=z8();function eH($,X){let Y=$.generatedLine,Q=X.generatedLine,J=$.generatedColumn,q=X.generatedColumn;return Q>Y||Q==Y&&q>=J||h$.compareByGeneratedPositionsInflated($,X)<=0}class f${constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach($,X){this._array.forEach($,X)}add($){if(eH(this._last,$))this._last=$,this._array.push($);else this._sorted=!1,this._array.push($)}toArray(){if(!this._sorted)this._array.sort(h$.compareByGeneratedPositionsInflated),this._sorted=!0;return this._array}}$G.MappingList=f$});var P3=u((QG)=>{var I8=E3(),P0=z8(),F2=v3().ArraySet,YG=y$().MappingList;class z2{constructor($){if(!$)$={};this._file=P0.getArg($,"file",null),this._sourceRoot=P0.getArg($,"sourceRoot",null),this._skipValidation=P0.getArg($,"skipValidation",!1),this._sources=new F2,this._names=new F2,this._mappings=new YG,this._sourcesContents=null}static fromSourceMap($){let X=$.sourceRoot,Y=new z2({file:$.file,sourceRoot:X});return $.eachMapping(function(Q){let J={generated:{line:Q.generatedLine,column:Q.generatedColumn}};if(Q.source!=null){if(J.source=Q.source,X!=null)J.source=P0.relative(X,J.source);if(J.original={line:Q.originalLine,column:Q.originalColumn},Q.name!=null)J.name=Q.name}Y.addMapping(J)}),$.sources.forEach(function(Q){let J=Q;if(X!==null)J=P0.relative(X,Q);if(!Y._sources.has(J))Y._sources.add(J);let q=$.sourceContentFor(Q);if(q!=null)Y.setSourceContent(Q,q)}),Y}addMapping($){let X=P0.getArg($,"generated"),Y=P0.getArg($,"original",null),Q=P0.getArg($,"source",null),J=P0.getArg($,"name",null);if(!this._skipValidation)this._validateMapping(X,Y,Q,J);if(Q!=null){if(Q=String(Q),!this._sources.has(Q))this._sources.add(Q)}if(J!=null){if(J=String(J),!this._names.has(J))this._names.add(J)}this._mappings.add({generatedLine:X.line,generatedColumn:X.column,originalLine:Y!=null&&Y.line,originalColumn:Y!=null&&Y.column,source:Q,name:J})}setSourceContent($,X){let Y=$;if(this._sourceRoot!=null)Y=P0.relative(this._sourceRoot,Y);if(X!=null){if(!this._sourcesContents)this._sourcesContents=Object.create(null);this._sourcesContents[P0.toSetString(Y)]=X}else if(this._sourcesContents){if(delete this._sourcesContents[P0.toSetString(Y)],Object.keys(this._sourcesContents).length===0)this._sourcesContents=null}}applySourceMap($,X,Y){let Q=X;if(X==null){if($.file==null)throw Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);Q=$.file}let J=this._sourceRoot;if(J!=null)Q=P0.relative(J,Q);let q=this._mappings.toArray().length>0?new F2:this._sources,W=new F2;this._mappings.unsortedForEach(function(H){if(H.source===Q&&H.originalLine!=null){let j=$.originalPositionFor({line:H.originalLine,column:H.originalColumn});if(j.source!=null){if(H.source=j.source,Y!=null)H.source=P0.join(Y,H.source);if(J!=null)H.source=P0.relative(J,H.source);if(H.originalLine=j.line,H.originalColumn=j.column,j.name!=null)H.name=j.name}}let G=H.source;if(G!=null&&!q.has(G))q.add(G);let _=H.name;if(_!=null&&!W.has(_))W.add(_)},this),this._sources=q,this._names=W,$.sources.forEach(function(H){let G=$.sourceContentFor(H);if(G!=null){if(Y!=null)H=P0.join(Y,H);if(J!=null)H=P0.relative(J,H);this.setSourceContent(H,G)}},this)}_validateMapping($,X,Y,Q){if(X&&typeof X.line!=="number"&&typeof X.column!=="number")throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if($&&"line"in $&&"column"in $&&$.line>0&&$.column>=0&&!X&&!Y&&!Q);else if($&&"line"in $&&"column"in $&&X&&"line"in X&&"column"in X&&$.line>0&&$.column>=0&&X.line>0&&X.column>=0&&Y);else throw Error("Invalid mapping: "+JSON.stringify({generated:$,source:Y,original:X,name:Q}))}_serializeMappings(){let $=0,X=1,Y=0,Q=0,J=0,q=0,W="",H,G,_,j,V=this._mappings.toArray();for(let U=0,B=V.length;U<B;U++){if(G=V[U],H="",G.generatedLine!==X){$=0;while(G.generatedLine!==X)H+=";",X++}else if(U>0){if(!P0.compareByGeneratedPositionsInflated(G,V[U-1]))continue;H+=","}if(H+=I8.encode(G.generatedColumn-$),$=G.generatedColumn,G.source!=null){if(j=this._sources.indexOf(G.source),H+=I8.encode(j-q),q=j,H+=I8.encode(G.originalLine-1-Q),Q=G.originalLine-1,H+=I8.encode(G.originalColumn-Y),Y=G.originalColumn,G.name!=null)_=this._names.indexOf(G.name),H+=I8.encode(_-J),J=_}W+=H}return W}_generateSourcesContent($,X){return $.map(function(Y){if(!this._sourcesContents)return null;if(X!=null)Y=P0.relative(X,Y);let Q=P0.toSetString(Y);return Object.prototype.hasOwnProperty.call(this._sourcesContents,Q)?this._sourcesContents[Q]:null},this)}toJSON(){let $={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};if(this._file!=null)$.file=this._file;if(this._sourceRoot!=null)$.sourceRoot=this._sourceRoot;if(this._sourcesContents)$.sourcesContent=this._generateSourcesContent($.sources,$.sourceRoot);return $}toString(){return JSON.stringify(this.toJSON())}}z2.prototype._version=3;QG.SourceMapGenerator=z2});var m$=u((qG)=>{qG.GREATEST_LOWER_BOUND=1;qG.LEAST_UPPER_BOUND=2;function x3($,X,Y,Q,J,q){let W=Math.floor((X-$)/2)+$,H=J(Y,Q[W],!0);if(H===0)return W;else if(H>0){if(X-W>1)return x3(W,X,Y,Q,J,q);if(q==qG.LEAST_UPPER_BOUND)return X<Q.length?X:-1;return W}if(W-$>1)return x3($,W,Y,Q,J,q);if(q==qG.LEAST_UPPER_BOUND)return W;return $<0?-1:$}qG.search=function(X,Y,Q,J){if(Y.length===0)return-1;let q=x3(-1,Y.length,X,Y,Q,J||qG.GREATEST_LOWER_BOUND);if(q<0)return-1;while(q-1>=0){if(Q(Y[q],Y[q-1],!0)!==0)break;--q}return q}});var Z3=u((KM,b3)=>{var __dirname="/home/z/my-project/mini-services/video-renderer/node_modules/@remotion/renderer/node_modules/source-map/lib",HG=e("fs"),GG=e("path");b3.exports=function(){return new Promise((X,Y)=>{let Q=GG.join(__dirname,"mappings.wasm");HG.readFile(Q,null,(J,q)=>{if(J){Y(J);return}X(q.buffer)})})};b3.exports.initialize=($)=>{console.debug("SourceMapConsumer.initialize is a no-op when running in node.js")}});var c$=u((UM,u$)=>{var _G=Z3();function jG(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}var v8=null;u$.exports=function(){if(v8)return v8;let X=[];return v8=_G().then((Y)=>{return WebAssembly.instantiate(Y,{env:{mapping_callback(Q,J,q,W,H,G,_,j,V,U){let B=new jG;if(B.generatedLine=Q+1,B.generatedColumn=J,q)B.lastGeneratedColumn=W-1;if(H){if(B.source=G,B.originalLine=_+1,B.originalColumn=j,V)B.name=U}X[X.length-1](B)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})}).then((Y)=>{return{exports:Y.instance.exports,withMappingCallback:(Q,J)=>{X.push(Q);try{J()}finally{X.pop()}}}}).then(null,(Y)=>{throw v8=null,Y}),v8}});var d$=u((OG)=>{var K0=z8(),VG=m$(),C3=v3().ArraySet,wM=E3(),KG=Z3(),UG=c$(),S3=Symbol("smcInternal");class C0{constructor($,X){if($==S3)return Promise.resolve(this);return wG($,X)}static initialize($){KG.initialize($["lib/mappings.wasm"])}static fromSourceMap($,X){return BG($,X)}static async with($,X,Y){let Q=await new C0($,X);try{return await Y(Q)}finally{Q.destroy()}}eachMapping($,X,Y){throw Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor($){throw Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw Error("Subclasses must implement destroy")}}C0.prototype._version=3;C0.GENERATED_ORDER=1;C0.ORIGINAL_ORDER=2;C0.GREATEST_LOWER_BOUND=1;C0.LEAST_UPPER_BOUND=2;OG.SourceMapConsumer=C0;class y1 extends C0{constructor($,X){return super(S3).then((Y)=>{let Q=$;if(typeof $==="string")Q=K0.parseSourceMapInput($);let J=K0.getArg(Q,"version"),q=K0.getArg(Q,"sources").map(String),W=K0.getArg(Q,"names",[]),H=K0.getArg(Q,"sourceRoot",null),G=K0.getArg(Q,"sourcesContent",null),_=K0.getArg(Q,"mappings"),j=K0.getArg(Q,"file",null);if(J!=Y._version)throw Error("Unsupported version: "+J);return Y._sourceLookupCache=new Map,Y._names=C3.fromArray(W.map(String),!0),Y._sources=C3.fromArray(q,!0),Y._absoluteSources=C3.fromArray(Y._sources.toArray().map(function(V){return K0.computeSourceURL(H,V,X)}),!0),Y.sourceRoot=H,Y.sourcesContent=G,Y._mappings=_,Y._sourceMapURL=X,Y.file=j,Y._computedColumnSpans=!1,Y._mappingsPtr=0,Y._wasm=null,UG().then((V)=>{return Y._wasm=V,Y})})}_findSourceIndex($){let X=this._sourceLookupCache.get($);if(typeof X==="number")return X;let Y=K0.computeSourceURL(null,$,this._sourceMapURL);if(this._absoluteSources.has(Y)){let J=this._absoluteSources.indexOf(Y);return this._sourceLookupCache.set($,J),J}let Q=K0.computeSourceURL(this.sourceRoot,$,this._sourceMapURL);if(this._absoluteSources.has(Q)){let J=this._absoluteSources.indexOf(Q);return this._sourceLookupCache.set($,J),J}return-1}static fromSourceMap($,X){return new y1($.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){if(this._mappingsPtr===0)this._parseMappings();return this._mappingsPtr}_parseMappings(){let $=this._mappings,X=$.length,Y=this._wasm.exports.allocate_mappings(X),Q=new Uint8Array(this._wasm.exports.memory.buffer,Y,X);for(let q=0;q<X;q++)Q[q]=$.charCodeAt(q);let J=this._wasm.exports.parse_mappings(Y);if(!J){let q=this._wasm.exports.get_last_error(),W=`Error parsing mappings (code ${q}): `;switch(q){case 1:W+="the mappings contained a negative line, column, source index, or name index";break;case 2:W+="the mappings contained a number larger than 2**32";break;case 3:W+="reached EOF while in the middle of parsing a VLQ";break;case 4:W+="invalid base 64 character while parsing a VLQ";break;default:W+="unknown error code";break}throw Error(W)}this._mappingsPtr=J}eachMapping($,X,Y){let Q=X||null,J=Y||C0.GENERATED_ORDER;this._wasm.withMappingCallback((q)=>{if(q.source!==null){if(q.source=this._absoluteSources.at(q.source),q.name!==null)q.name=this._names.at(q.name)}if(this._computedColumnSpans&&q.lastGeneratedColumn===null)q.lastGeneratedColumn=1/0;$.call(Q,q)},()=>{switch(J){case C0.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case C0.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw Error("Unknown order of iteration.")}})}allGeneratedPositionsFor($){let X=K0.getArg($,"source"),Y=K0.getArg($,"line"),Q=$.column||0;if(X=this._findSourceIndex(X),X<0)return[];if(Y<1)throw Error("Line numbers must be >= 1");if(Q<0)throw Error("Column numbers must be >= 0");let J=[];return this._wasm.withMappingCallback((q)=>{let W=q.lastGeneratedColumn;if(this._computedColumnSpans&&W===null)W=1/0;J.push({line:q.generatedLine,column:q.generatedColumn,lastColumn:W})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),X,Y-1,"column"in $,Q)}),J}destroy(){if(this._mappingsPtr!==0)this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0}computeColumnSpans(){if(this._computedColumnSpans)return;this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0}originalPositionFor($){let X={generatedLine:K0.getArg($,"line"),generatedColumn:K0.getArg($,"column")};if(X.generatedLine<1)throw Error("Line numbers must be >= 1");if(X.generatedColumn<0)throw Error("Column numbers must be >= 0");let Y=K0.getArg($,"bias",C0.GREATEST_LOWER_BOUND);if(Y==null)Y=C0.GREATEST_LOWER_BOUND;let Q;if(this._wasm.withMappingCallback((J)=>Q=J,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),X.generatedLine-1,X.generatedColumn,Y)}),Q){if(Q.generatedLine===X.generatedLine){let J=K0.getArg(Q,"source",null);if(J!==null)J=this._absoluteSources.at(J);let q=K0.getArg(Q,"name",null);if(q!==null)q=this._names.at(q);return{source:J,line:K0.getArg(Q,"originalLine",null),column:K0.getArg(Q,"originalColumn",null),name:q}}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){if(!this.sourcesContent)return!1;return this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function($){return $==null})}sourceContentFor($,X){if(!this.sourcesContent)return null;let Y=this._findSourceIndex($);if(Y>=0)return this.sourcesContent[Y];if(X)return null;throw Error('"'+$+'" is not in the SourceMap.')}generatedPositionFor($){let X=K0.getArg($,"source");if(X=this._findSourceIndex(X),X<0)return{line:null,column:null,lastColumn:null};let Y={source:X,originalLine:K0.getArg($,"line"),originalColumn:K0.getArg($,"column")};if(Y.originalLine<1)throw Error("Line numbers must be >= 1");if(Y.originalColumn<0)throw Error("Column numbers must be >= 0");let Q=K0.getArg($,"bias",C0.GREATEST_LOWER_BOUND);if(Q==null)Q=C0.GREATEST_LOWER_BOUND;let J;if(this._wasm.withMappingCallback((q)=>J=q,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),Y.source,Y.originalLine-1,Y.originalColumn,Q)}),J){if(J.source===Y.source){let q=J.lastGeneratedColumn;if(this._computedColumnSpans&&q===null)q=1/0;return{line:K0.getArg(J,"generatedLine",null),column:K0.getArg(J,"generatedColumn",null),lastColumn:q}}}return{line:null,column:null,lastColumn:null}}}y1.prototype.consumer=C0;OG.BasicSourceMapConsumer=y1;class k3 extends C0{constructor($,X){return super(S3).then((Y)=>{let Q=$;if(typeof $==="string")Q=K0.parseSourceMapInput($);let J=K0.getArg(Q,"version"),q=K0.getArg(Q,"sections");if(J!=Y._version)throw Error("Unsupported version: "+J);let W={line:-1,column:0};return Promise.all(q.map((H)=>{if(H.url)throw Error("Support for url field in sections not implemented.");let G=K0.getArg(H,"offset"),_=K0.getArg(G,"line"),j=K0.getArg(G,"column");if(_<W.line||_===W.line&&j<W.column)throw Error("Section offsets must be ordered and non-overlapping.");return W=G,new C0(K0.getArg(H,"map"),X).then((U)=>{return{generatedOffset:{generatedLine:_+1,generatedColumn:j+1},consumer:U}})})).then((H)=>{return Y._sections=H,Y})})}get sources(){let $=[];for(let X=0;X<this._sections.length;X++)for(let Y=0;Y<this._sections[X].consumer.sources.length;Y++)$.push(this._sections[X].consumer.sources[Y]);return $}originalPositionFor($){let X={generatedLine:K0.getArg($,"line"),generatedColumn:K0.getArg($,"column")},Y=VG.search(X,this._sections,function(J,q){let W=J.generatedLine-q.generatedOffset.generatedLine;if(W)return W;return J.generatedColumn-q.generatedOffset.generatedColumn}),Q=this._sections[Y];if(!Q)return{source:null,line:null,column:null,name:null};return Q.consumer.originalPositionFor({line:X.generatedLine-(Q.generatedOffset.generatedLine-1),column:X.generatedColumn-(Q.generatedOffset.generatedLine===X.generatedLine?Q.generatedOffset.generatedColumn-1:0),bias:$.bias})}hasContentsOfAllSources(){return this._sections.every(function($){return $.consumer.hasContentsOfAllSources()})}sourceContentFor($,X){for(let Y=0;Y<this._sections.length;Y++){let J=this._sections[Y].consumer.sourceContentFor($,!0);if(J)return J}if(X)return null;throw Error('"'+$+'" is not in the SourceMap.')}_findSectionIndex($){for(let X=0;X<this._sections.length;X++){let{consumer:Y}=this._sections[X];if(Y._findSourceIndex($)!==-1)return X}return-1}generatedPositionFor($){let X=this._findSectionIndex(K0.getArg($,"source")),Y=X>=0?this._sections[X]:null,Q=X>=0&&X+1<this._sections.length?this._sections[X+1]:null,J=Y&&Y.consumer.generatedPositionFor($);if(J&&J.line!==null){let q=Y.generatedOffset.generatedLine-1,W=Y.generatedOffset.generatedColumn-1;if(J.line===1){if(J.column+=W,typeof J.lastColumn==="number")J.lastColumn+=W}if(J.lastColumn===1/0&&Q&&J.line===Q.generatedOffset.generatedLine)J.lastColumn=Q.generatedOffset.generatedColumn-2;return J.line+=q,J}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor($){let X=this._findSectionIndex(K0.getArg($,"source")),Y=X>=0?this._sections[X]:null,Q=X>=0&&X+1<this._sections.length?this._sections[X+1]:null;if(!Y)return[];return Y.consumer.allGeneratedPositionsFor($).map((J)=>{let q=Y.generatedOffset.generatedLine-1,W=Y.generatedOffset.generatedColumn-1;if(J.line===1){if(J.column+=W,typeof J.lastColumn==="number")J.lastColumn+=W}if(J.lastColumn===1/0&&Q&&J.line===Q.generatedOffset.generatedLine)J.lastColumn=Q.generatedOffset.generatedColumn-2;return J.line+=q,J})}eachMapping($,X,Y){this._sections.forEach((Q,J)=>{let q=J+1<this._sections.length?this._sections[J+1]:null,{generatedOffset:W}=Q,H=W.generatedLine-1,G=W.generatedColumn-1;Q.consumer.eachMapping(function(_){if(_.generatedLine===1){if(_.generatedColumn+=G,typeof _.lastGeneratedColumn==="number")_.lastGeneratedColumn+=G}if(_.lastGeneratedColumn===1/0&&q&&_.generatedLine===q.generatedOffset.generatedLine)_.lastGeneratedColumn=q.generatedOffset.generatedColumn-2;_.generatedLine+=H,$.call(this,_)},X,Y)})}computeColumnSpans(){for(let $=0;$<this._sections.length;$++)this._sections[$].consumer.computeColumnSpans()}destroy(){for(let $=0;$<this._sections.length;$++)this._sections[$].consumer.destroy()}}OG.IndexedSourceMapConsumer=k3;function wG($,X){let Y=$;if(typeof $==="string")Y=K0.parseSourceMapInput($);let Q=Y.sections!=null?new k3(Y,X):new y1(Y,X);return Promise.resolve(Q)}function BG($,X){return y1.fromSourceMap($,X)}});var l$=u((LG)=>{var EG=P3().SourceMapGenerator,I2=z8(),AG=/(\r?\n)/;class v2{constructor($,X,Y,Q,J){if(this.children=[],this.sourceContents={},this.line=$==null?null:$,this.column=X==null?null:X,this.source=Y==null?null:Y,this.name=J==null?null:J,this.$$$isSourceNode$$$=!0,Q!=null)this.add(Q)}static fromStringWithSourceMap($,X,Y){let Q=new v2,J=$.split(AG),q=0,W=function(){let U=M(),B=M()||"";return U+B;function M(){return q<J.length?J[q++]:void 0}},H=1,G=0,_=null,j;if(X.eachMapping(function(U){if(_!==null)if(H<U.generatedLine)V(_,W()),H++,G=0;else{j=J[q]||"";let B=j.substr(0,U.generatedColumn-G);J[q]=j.substr(U.generatedColumn-G),G=U.generatedColumn,V(_,B),_=U;return}while(H<U.generatedLine)Q.add(W()),H++;if(G<U.generatedColumn)j=J[q]||"",Q.add(j.substr(0,U.generatedColumn)),J[q]=j.substr(U.generatedColumn),G=U.generatedColumn;_=U},this),q<J.length){if(_)V(_,W());Q.add(J.splice(q).join(""))}return X.sources.forEach(function(U){let B=X.sourceContentFor(U);if(B!=null){if(Y!=null)U=I2.join(Y,U);Q.setSourceContent(U,B)}}),Q;function V(U,B){if(U===null||U.source===void 0)Q.add(B);else{let M=Y?I2.join(Y,U.source):U.source;Q.add(new v2(U.originalLine,U.originalColumn,M,B,U.name))}}}add($){if(Array.isArray($))$.forEach(function(X){this.add(X)},this);else if($.$$$isSourceNode$$$||typeof $==="string"){if($)this.children.push($)}else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+$);return this}prepend($){if(Array.isArray($))for(let X=$.length-1;X>=0;X--)this.prepend($[X]);else if($.$$$isSourceNode$$$||typeof $==="string")this.children.unshift($);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+$);return this}walk($){let X;for(let Y=0,Q=this.children.length;Y<Q;Y++)if(X=this.children[Y],X.$$$isSourceNode$$$)X.walk($);else if(X!=="")$(X,{source:this.source,line:this.line,column:this.column,name:this.name})}join($){let X,Y,Q=this.children.length;if(Q>0){X=[];for(Y=0;Y<Q-1;Y++)X.push(this.children[Y]),X.push($);X.push(this.children[Y]),this.children=X}return this}replaceRight($,X){let Y=this.children[this.children.length-1];if(Y.$$$isSourceNode$$$)Y.replaceRight($,X);else if(typeof Y==="string")this.children[this.children.length-1]=Y.replace($,X);else this.children.push("".replace($,X));return this}setSourceContent($,X){this.sourceContents[I2.toSetString($)]=X}walkSourceContents($){for(let Y=0,Q=this.children.length;Y<Q;Y++)if(this.children[Y].$$$isSourceNode$$$)this.children[Y].walkSourceContents($);let X=Object.keys(this.sourceContents);for(let Y=0,Q=X.length;Y<Q;Y++)$(I2.fromSetString(X[Y]),this.sourceContents[X[Y]])}toString(){let $="";return this.walk(function(X){$+=X}),$}toStringWithSourceMap($){let X={code:"",line:1,column:0},Y=new EG($),Q=!1,J=null,q=null,W=null,H=null;return this.walk(function(G,_){if(X.code+=G,_.source!==null&&_.line!==null&&_.column!==null){if(J!==_.source||q!==_.line||W!==_.column||H!==_.name)Y.addMapping({source:_.source,original:{line:_.line,column:_.column},generated:{line:X.line,column:X.column},name:_.name});J=_.source,q=_.line,W=_.column,H=_.name,Q=!0}else if(Q)Y.addMapping({generated:{line:X.line,column:X.column}}),J=null,Q=!1;for(let j=0,V=G.length;j<V;j++)if(G.charCodeAt(j)===10){if(X.line++,X.column=0,j+1===V)J=null,Q=!1;else if(Q)Y.addMapping({source:_.source,original:{line:_.line,column:_.column},generated:{line:X.line,column:X.column},name:_.name})}else X.column++}),this.walkSourceContents(function(G,_){Y.setSourceContent(G,_)}),{code:X.code,map:Y}}}LG.SourceNode=v2});var n$=u((MM,p$)=>{var g1=1000,m1=g1*60,u1=m1*60,B1=u1*24,IG=B1*7,vG=B1*365.25;p$.exports=function($,X){X=X||{};var Y=typeof $;if(Y==="string"&&$.length>0)return PG($);else if(Y==="number"&&isFinite($))return X.long?TG($):xG($);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify($))};function PG($){if($=String($),$.length>100)return;var X=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec($);if(!X)return;var Y=parseFloat(X[1]),Q=(X[2]||"ms").toLowerCase();switch(Q){case"years":case"year":case"yrs":case"yr":case"y":return Y*vG;case"weeks":case"week":case"w":return Y*IG;case"days":case"day":case"d":return Y*B1;case"hours":case"hour":case"hrs":case"hr":case"h":return Y*u1;case"minutes":case"minute":case"mins":case"min":case"m":return Y*m1;case"seconds":case"second":case"secs":case"sec":case"s":return Y*g1;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return Y;default:return}}function xG($){var X=Math.abs($);if(X>=B1)return Math.round($/B1)+"d";if(X>=u1)return Math.round($/u1)+"h";if(X>=m1)return Math.round($/m1)+"m";if(X>=g1)return Math.round($/g1)+"s";return $+"ms"}function TG($){var X=Math.abs($);if(X>=B1)return P2($,X,B1,"day");if(X>=u1)return P2($,X,u1,"hour");if(X>=m1)return P2($,X,m1,"minute");if(X>=g1)return P2($,X,g1,"second");return $+" ms"}function P2($,X,Y,Q){var J=X>=Y*1.5;return Math.round($/Y)+" "+Q+(J?"s":"")}});var h3=u((DM,i$)=>{function bG($){Y.debug=Y,Y.default=Y,Y.coerce=G,Y.disable=W,Y.enable=J,Y.enabled=H,Y.humanize=n$(),Y.destroy=_,Object.keys($).forEach((j)=>{Y[j]=$[j]}),Y.names=[],Y.skips=[],Y.formatters={};function X(j){let V=0;for(let U=0;U<j.length;U++)V=(V<<5)-V+j.charCodeAt(U),V|=0;return Y.colors[Math.abs(V)%Y.colors.length]}Y.selectColor=X;function Y(j){let V,U=null,B,M;function O(...N){if(!O.enabled)return;let A=O,R=Number(new Date),L=R-(V||R);if(A.diff=L,A.prev=V,A.curr=R,V=R,N[0]=Y.coerce(N[0]),typeof N[0]!=="string")N.unshift("%O");let v=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(I,P)=>{if(I==="%%")return"%";v++;let x=Y.formatters[P];if(typeof x==="function"){let S=N[v];I=x.call(A,S),N.splice(v,1),v--}return I}),Y.formatArgs.call(A,N),(A.log||Y.log).apply(A,N)}if(O.namespace=j,O.useColors=Y.useColors(),O.color=Y.selectColor(j),O.extend=Q,O.destroy=Y.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>{if(U!==null)return U;if(B!==Y.namespaces)B=Y.namespaces,M=Y.enabled(j);return M},set:(N)=>{U=N}}),typeof Y.init==="function")Y.init(O);return O}function Q(j,V){let U=Y(this.namespace+(typeof V>"u"?":":V)+j);return U.log=this.log,U}function J(j){Y.save(j),Y.namespaces=j,Y.names=[],Y.skips=[];let V=(typeof j==="string"?j:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let U of V)if(U[0]==="-")Y.skips.push(U.slice(1));else Y.names.push(U)}function q(j,V){let U=0,B=0,M=-1,O=0;while(U<j.length)if(B<V.length&&(V[B]===j[U]||V[B]==="*"))if(V[B]==="*")M=B,O=U,B++;else U++,B++;else if(M!==-1)B=M+1,O++,U=O;else return!1;while(B<V.length&&V[B]==="*")B++;return B===V.length}function W(){let j=[...Y.names,...Y.skips.map((V)=>"-"+V)].join(",");return Y.enable(""),j}function H(j){for(let V of Y.skips)if(q(j,V))return!1;for(let V of Y.names)if(q(j,V))return!0;return!1}function G(j){if(j instanceof Error)return j.stack||j.message;return j}function _(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return Y.enable(Y.load()),Y}i$.exports=bG});var o$=u((s$,x2)=>{s$.formatArgs=CG;s$.save=SG;s$.load=kG;s$.useColors=ZG;s$.storage=hG();s$.destroy=(()=>{let $=!1;return()=>{if(!$)$=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}})();s$.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ZG(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let $;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&($=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt($[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function CG($){if($[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+$[0]+(this.useColors?"%c ":" ")+"+"+x2.exports.humanize(this.diff),!this.useColors)return;let X="color: "+this.color;$.splice(1,0,X,"color: inherit");let Y=0,Q=0;$[0].replace(/%[a-zA-Z%]/g,(J)=>{if(J==="%%")return;if(Y++,J==="%c")Q=Y}),$.splice(Q,0,X)}s$.log=console.debug||console.log||(()=>{});function SG($){try{if($)s$.storage.setItem("debug",$);else s$.storage.removeItem("debug")}catch(X){}}function kG(){let $;try{$=s$.storage.getItem("debug")||s$.storage.getItem("DEBUG")}catch(X){}if(!$&&typeof process<"u"&&"env"in process)$=process.env.DEBUG;return $}function hG(){try{return localStorage}catch($){}}x2.exports=h3()(s$);var{formatters:fG}=x2.exports;fG.j=function($){try{return JSON.stringify($)}catch(X){return"[UnexpectedJSONParseError]: "+X.message}}});var t$=u((AM,r$)=>{r$.exports=($,X=process.argv)=>{let Y=$.startsWith("-")?"":$.length===1?"-":"--",Q=X.indexOf(Y+$),J=X.indexOf("--");return Q!==-1&&(J===-1||Q<J)}});var $X=u((LM,e$)=>{var pG=e("os"),a$=e("tty"),Y6=t$(),{env:k0}=process,T2;if(Y6("no-color")||Y6("no-colors")||Y6("color=false")||Y6("color=never"))T2=0;else if(Y6("color")||Y6("colors")||Y6("color=true")||Y6("color=always"))T2=1;function nG(){if("FORCE_COLOR"in k0){if(k0.FORCE_COLOR==="true")return 1;if(k0.FORCE_COLOR==="false")return 0;return k0.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(k0.FORCE_COLOR,10),3)}}function iG($){if($===0)return!1;return{level:$,hasBasic:!0,has256:$>=2,has16m:$>=3}}function sG($,{streamIsTTY:X,sniffFlags:Y=!0}={}){let Q=nG();if(Q!==void 0)T2=Q;let J=Y?T2:Q;if(J===0)return 0;if(Y){if(Y6("color=16m")||Y6("color=full")||Y6("color=truecolor"))return 3;if(Y6("color=256"))return 2}if($&&!X&&J===void 0)return 0;let q=J||0;if(k0.TERM==="dumb")return q;if(process.platform==="win32"){let W=pG.release().split(".");if(Number(W[0])>=10&&Number(W[2])>=10586)return Number(W[2])>=14931?3:2;return 1}if("CI"in k0){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some((W)=>(W in k0))||k0.CI_NAME==="codeship")return 1;return q}if("TEAMCITY_VERSION"in k0)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(k0.TEAMCITY_VERSION)?1:0;if(k0.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in k0){let W=Number.parseInt((k0.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(k0.TERM_PROGRAM){case"iTerm.app":return W>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(k0.TERM))return 2;if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(k0.TERM))return 1;if("COLORTERM"in k0)return 1;return q}function f3($,X={}){let Y=sG($,{streamIsTTY:$&&$.isTTY,...X});return iG(Y)}e$.exports={supportsColor:f3,stdout:f3({isTTY:a$.isatty(1)}),stderr:f3({isTTY:a$.isatty(2)})}});var JX=u((YX,Z2)=>{var oG=e("tty"),b2=e("util");YX.init=Y_;YX.log=eG;YX.formatArgs=tG;YX.save=$_;YX.load=X_;YX.useColors=rG;YX.destroy=b2.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");YX.colors=[6,2,3,4,5,1];try{let $=$X();if($&&($.stderr||$).level>=2)YX.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}catch($){}YX.inspectOpts=Object.keys(process.env).filter(($)=>{return/^debug_/i.test($)}).reduce(($,X)=>{let Y=X.substring(6).toLowerCase().replace(/_([a-z])/g,(J,q)=>{return q.toUpperCase()}),Q=process.env[X];if(/^(yes|on|true|enabled)$/i.test(Q))Q=!0;else if(/^(no|off|false|disabled)$/i.test(Q))Q=!1;else if(Q==="null")Q=null;else Q=Number(Q);return $[Y]=Q,$},{});function rG(){return"colors"in YX.inspectOpts?Boolean(YX.inspectOpts.colors):oG.isatty(process.stderr.fd)}function tG($){let{namespace:X,useColors:Y}=this;if(Y){let Q=this.color,J="\x1B[3"+(Q<8?Q:"8;5;"+Q),q=`  ${J};1m${X} \x1B[0m`;$[0]=q+$[0].split(`
`).join(`
`+q),$.push(J+"m+"+Z2.exports.humanize(this.diff)+"\x1B[0m")}else $[0]=aG()+X+" "+$[0]}function aG(){if(YX.inspectOpts.hideDate)return"";return new Date().toISOString()+" "}function eG(...$){return process.stderr.write(b2.formatWithOptions(YX.inspectOpts,...$)+`
`)}function $_($){if($)process.env.DEBUG=$;else delete process.env.DEBUG}function X_(){return process.env.DEBUG}function Y_($){$.inspectOpts={};let X=Object.keys(YX.inspectOpts);for(let Y=0;Y<X.length;Y++)$.inspectOpts[X[Y]]=YX.inspectOpts[X[Y]]}Z2.exports=h3()(YX);var{formatters:XX}=Z2.exports;XX.o=function($){return this.inspectOpts.colors=this.useColors,b2.inspect($,this.inspectOpts).split(`
`).map((X)=>X.trim()).join(" ")};XX.O=function($){return this.inspectOpts.colors=this.useColors,b2.inspect($,this.inspectOpts)}});var qX=u((FM,y3)=>{if(typeof process>"u"||process.type==="renderer"||!1||process.__nwjs)y3.exports=o$();else y3.exports=JX()});var GX=u((zM,HX)=>{HX.exports=WX;function WX($,X){if($&&X)return WX($)(X);if(typeof $!=="function")throw TypeError("need wrapper function");return Object.keys($).forEach(function(Q){Y[Q]=$[Q]}),Y;function Y(){var Q=Array(arguments.length);for(var J=0;J<Q.length;J++)Q[J]=arguments[J];var q=$.apply(this,Q),W=Q[Q.length-1];if(typeof q==="function"&&q!==W)Object.keys(W).forEach(function(H){q[H]=W[H]});return q}}});var m3=u((IM,g3)=>{var _X=GX();g3.exports=_X(C2);g3.exports.strict=_X(jX);C2.proto=C2(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return C2(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return jX(this)},configurable:!0})});function C2($){var X=function(){if(X.called)return X.value;return X.called=!0,X.value=$.apply(this,arguments)};return X.called=!1,X}function jX($){var X=function(){if(X.called)throw Error(X.onceError);return X.called=!0,X.value=$.apply(this,arguments)},Y=$.name||"Function wrapped with `once`";return X.onceError=Y+" shouldn't be called more than once",X.called=!1,X}});var UX=u((vM,KX)=>{var j_=m3(),V_=function(){},K_=global.Bare?queueMicrotask:process.nextTick.bind(process),U_=function($){return $.setHeader&&typeof $.abort==="function"},w_=function($){return $.stdio&&Array.isArray($.stdio)&&$.stdio.length===3},VX=function($,X,Y){if(typeof X==="function")return VX($,null,X);if(!X)X={};Y=j_(Y||V_);var{_writableState:Q,_readableState:J}=$,q=X.readable||X.readable!==!1&&$.readable,W=X.writable||X.writable!==!1&&$.writable,H=!1,G=function(){if(!$.writable)_()},_=function(){if(W=!1,!q)Y.call($)},j=function(){if(q=!1,!W)Y.call($)},V=function(N){Y.call($,N?Error("exited with error code: "+N):null)},U=function(N){Y.call($,N)},B=function(){K_(M)},M=function(){if(H)return;if(q&&!(J&&(J.ended&&!J.destroyed)))return Y.call($,Error("premature close"));if(W&&!(Q&&(Q.ended&&!Q.destroyed)))return Y.call($,Error("premature close"))},O=function(){$.req.on("finish",_)};if(U_($))if($.on("complete",_),$.on("abort",B),$.req)O();else $.on("request",O);else if(W&&!Q)$.on("end",G),$.on("close",G);if(w_($))$.on("exit",V);if($.on("end",j),$.on("finish",_),X.error!==!1)$.on("error",U);return $.on("close",B),function(){if(H=!0,$.removeListener("complete",_),$.removeListener("abort",B),$.removeListener("request",O),$.req)$.req.removeListener("finish",_);$.removeListener("end",G),$.removeListener("close",G),$.removeListener("finish",_),$.removeListener("exit",V),$.removeListener("end",j),$.removeListener("error",U),$.removeListener("close",B)}};KX.exports=VX});var OX=u((PM,BX)=>{var B_=m3(),O_=UX(),S2;try{S2=e("fs")}catch($){}var T8=function(){},N_=typeof process>"u"?!1:/^v?\.0/.test(process.version),k2=function($){return typeof $==="function"},M_=function($){if(!N_)return!1;if(!S2)return!1;return($ instanceof(S2.ReadStream||T8)||$ instanceof(S2.WriteStream||T8))&&k2($.close)},D_=function($){return $.setHeader&&k2($.abort)},E_=function($,X,Y,Q){Q=B_(Q);var J=!1;$.on("close",function(){J=!0}),O_($,{readable:X,writable:Y},function(W){if(W)return Q(W);J=!0,Q()});var q=!1;return function(W){if(J)return;if(q)return;if(q=!0,M_($))return $.close(T8);if(D_($))return $.abort();if(k2($.destroy))return $.destroy();Q(W||Error("stream was destroyed"))}},wX=function($){$()},A_=function($,X){return $.pipe(X)},L_=function(){var $=Array.prototype.slice.call(arguments),X=k2($[$.length-1]||T8)&&$.pop()||T8;if(Array.isArray($[0]))$=$[0];if($.length<2)throw Error("pump requires two streams per minimum");var Y,Q=$.map(function(J,q){var W=q<$.length-1,H=q>0;return E_(J,W,H,function(G){if(!Y)Y=G;if(G)Q.forEach(wX);if(W)return;Q.forEach(wX),X(Y)})});return $.reduce(A_)};BX.exports=L_});var MX=u((xM,NX)=>{var{PassThrough:R_}=e("stream");NX.exports=($)=>{$={...$};let{array:X}=$,{encoding:Y}=$,Q=Y==="buffer",J=!1;if(X)J=!(Y||Q);else Y=Y||"utf8";if(Q)Y=null;let q=new R_({objectMode:J});if(Y)q.setEncoding(Y);let W=0,H=[];return q.on("data",(G)=>{if(H.push(G),J)W=H.length;else W+=G.length}),q.getBufferedValue=()=>{if(X)return H;return Q?Buffer.concat(H,W):H.join("")},q.getBufferedLength=()=>W,q}});var DX=u((TM,c1)=>{var{constants:F_}=e("buffer"),z_=OX(),I_=MX();class u3 extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function h2($,X){if(!$)return Promise.reject(Error("Expected a stream"));X={maxBuffer:1/0,...X};let{maxBuffer:Y}=X,Q;return await new Promise((J,q)=>{let W=(H)=>{if(H&&Q.getBufferedLength()<=F_.MAX_LENGTH)H.bufferedData=Q.getBufferedValue();q(H)};Q=z_($,I_(X),(H)=>{if(H){W(H);return}J()}),Q.on("data",()=>{if(Q.getBufferedLength()>Y)W(new u3)})}),Q.getBufferedValue()}c1.exports=h2;c1.exports.default=h2;c1.exports.buffer=($,X)=>h2($,{...X,encoding:"buffer"});c1.exports.array=($,X)=>h2($,{...X,array:!0});c1.exports.MaxBufferError=u3});var RX=u((bM,LX)=>{LX.exports=f2;function f2(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}f2.prototype.go=function($){if(this.pending<this.max)AX(this,$);else this.waiting.push($)};f2.prototype.wait=function($){if(this.pending===0)$(this.error);else this.listeners.push($)};f2.prototype.hold=function(){return EX(this)};function EX($){$.pending+=1;var X=!1;return Y;function Y(J){if(X)throw Error("callback called twice");if(X=!0,$.error=$.error||J,$.pending-=1,$.waiting.length>0&&$.pending<$.max)AX($,$.waiting.shift());else if($.pending===0){var q=$.listeners;$.listeners=[],q.forEach(Q)}}function Q(J){J($.error)}}function AX($,X){X(EX($))}});var zX=u((b_)=>{var b8=e("fs"),y2=e("util"),c3=e("stream"),FX=c3.Readable,d3=c3.Writable,v_=c3.PassThrough,P_=RX(),g2=e("events").EventEmitter;b_.createFromBuffer=x_;b_.createFromFd=T_;b_.BufferSlicer=Z6;b_.FdSlicer=b6;y2.inherits(b6,g2);function b6($,X){X=X||{},g2.call(this),this.fd=$,this.pend=new P_,this.pend.max=1,this.refCount=0,this.autoClose=!!X.autoClose}b6.prototype.read=function($,X,Y,Q,J){var q=this;q.pend.go(function(W){b8.read(q.fd,$,X,Y,Q,function(H,G,_){W(),J(H,G,_)})})};b6.prototype.write=function($,X,Y,Q,J){var q=this;q.pend.go(function(W){b8.write(q.fd,$,X,Y,Q,function(H,G,_){W(),J(H,G,_)})})};b6.prototype.createReadStream=function($){return new m2(this,$)};b6.prototype.createWriteStream=function($){return new u2(this,$)};b6.prototype.ref=function(){this.refCount+=1};b6.prototype.unref=function(){var $=this;if($.refCount-=1,$.refCount>0)return;if($.refCount<0)throw Error("invalid unref");if($.autoClose)b8.close($.fd,X);function X(Y){if(Y)$.emit("error",Y);else $.emit("close")}};y2.inherits(m2,FX);function m2($,X){X=X||{},FX.call(this,X),this.context=$,this.context.ref(),this.start=X.start||0,this.endOffset=X.end,this.pos=this.start,this.destroyed=!1}m2.prototype._read=function($){var X=this;if(X.destroyed)return;var Y=Math.min(X._readableState.highWaterMark,$);if(X.endOffset!=null)Y=Math.min(Y,X.endOffset-X.pos);if(Y<=0){X.destroyed=!0,X.push(null),X.context.unref();return}X.context.pend.go(function(Q){if(X.destroyed)return Q();var J=new Buffer(Y);b8.read(X.context.fd,J,0,Y,X.pos,function(q,W){if(q)X.destroy(q);else if(W===0)X.destroyed=!0,X.push(null),X.context.unref();else X.pos+=W,X.push(J.slice(0,W));Q()})})};m2.prototype.destroy=function($){if(this.destroyed)return;$=$||Error("stream destroyed"),this.destroyed=!0,this.emit("error",$),this.context.unref()};y2.inherits(u2,d3);function u2($,X){X=X||{},d3.call(this,X),this.context=$,this.context.ref(),this.start=X.start||0,this.endOffset=X.end==null?1/0:+X.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}u2.prototype._write=function($,X,Y){var Q=this;if(Q.destroyed)return;if(Q.pos+$.length>Q.endOffset){var J=Error("maximum file length exceeded");J.code="ETOOBIG",Q.destroy(),Y(J);return}Q.context.pend.go(function(q){if(Q.destroyed)return q();b8.write(Q.context.fd,$,0,$.length,Q.pos,function(W,H){if(W)Q.destroy(),q(),Y(W);else Q.bytesWritten+=H,Q.pos+=H,Q.emit("progress"),q(),Y()})})};u2.prototype.destroy=function(){if(this.destroyed)return;this.destroyed=!0,this.context.unref()};y2.inherits(Z6,g2);function Z6($,X){g2.call(this),X=X||{},this.refCount=0,this.buffer=$,this.maxChunkSize=X.maxChunkSize||Number.MAX_SAFE_INTEGER}Z6.prototype.read=function($,X,Y,Q,J){var q=Q+Y,W=q-this.buffer.length,H=W>0?W:Y;this.buffer.copy($,X,Q,q),setImmediate(function(){J(null,H)})};Z6.prototype.write=function($,X,Y,Q,J){$.copy(this.buffer,Q,X,X+Y),setImmediate(function(){J(null,Y,$)})};Z6.prototype.createReadStream=function($){$=$||{};var X=new v_($);X.destroyed=!1,X.start=$.start||0,X.endOffset=$.end,X.pos=X.endOffset||this.buffer.length;var Y=this.buffer.slice(X.start,X.pos),Q=0;while(!0){var J=Q+this.maxChunkSize;if(J>=Y.length){if(Q<Y.length)X.write(Y.slice(Q,Y.length));break}X.write(Y.slice(Q,J)),Q=J}return X.end(),X.destroy=function(){X.destroyed=!0},X};Z6.prototype.createWriteStream=function($){var X=this;$=$||{};var Y=new d3($);return Y.start=$.start||0,Y.endOffset=$.end==null?this.buffer.length:+$.end,Y.bytesWritten=0,Y.pos=Y.start,Y.destroyed=!1,Y._write=function(Q,J,q){if(Y.destroyed)return;var W=Y.pos+Q.length;if(W>Y.endOffset){var H=Error("maximum file length exceeded");H.code="ETOOBIG",Y.destroyed=!0,q(H);return}Q.copy(X.buffer,Y.pos,0,Q.length),Y.bytesWritten+=Q.length,Y.pos=W,Y.emit("progress"),q()},Y.destroy=function(){Y.destroyed=!0},Y};Z6.prototype.ref=function(){this.refCount+=1};Z6.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw Error("invalid unref")};function x_($,X){return new Z6($,X)}function T_($,X){return new b6($,X)}});var PX=u((CM,vX)=>{var i6=e("buffer").Buffer,l3=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918000,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];if(typeof Int32Array<"u")l3=new Int32Array(l3);function IX($){if(i6.isBuffer($))return $;var X=typeof i6.alloc==="function"&&typeof i6.from==="function";if(typeof $==="number")return X?i6.alloc($):new i6($);else if(typeof $==="string")return X?i6.from($):new i6($);else throw Error("input must be buffer, number, or string, received "+typeof $)}function h_($){var X=IX(4);return X.writeInt32BE($,0),X}function p3($,X){if($=IX($),i6.isBuffer(X))X=X.readUInt32BE(0);var Y=~~X^-1;for(var Q=0;Q<$.length;Q++)Y=l3[(Y^$[Q])&255]^Y>>>8;return Y^-1}function n3(){return h_(p3.apply(null,arguments))}n3.signed=function(){return p3.apply(null,arguments)};n3.unsigned=function(){return p3.apply(null,arguments)>>>0};vX.exports=n3});var kX=u((d_)=>{var i3=e("fs"),f_=e("zlib"),xX=zX(),y_=PX(),l2=e("util"),p2=e("events").EventEmitter,TX=e("stream").Transform,s3=e("stream").PassThrough,g_=e("stream").Writable;d_.open=m_;d_.fromFd=bX;d_.fromBuffer=u_;d_.fromRandomAccessReader=o3;d_.dosDateTimeToDate=CX;d_.validateFileName=SX;d_.ZipFile=s6;d_.Entry=Z8;d_.RandomAccessReader=o6;function m_($,X,Y){if(typeof X==="function")Y=X,X=null;if(X==null)X={};if(X.autoClose==null)X.autoClose=!0;if(X.lazyEntries==null)X.lazyEntries=!1;if(X.decodeStrings==null)X.decodeStrings=!0;if(X.validateEntrySizes==null)X.validateEntrySizes=!0;if(X.strictFileNames==null)X.strictFileNames=!1;if(Y==null)Y=d2;i3.open($,"r",function(Q,J){if(Q)return Y(Q);bX(J,X,function(q,W){if(q)i3.close(J,d2);Y(q,W)})})}function bX($,X,Y){if(typeof X==="function")Y=X,X=null;if(X==null)X={};if(X.autoClose==null)X.autoClose=!1;if(X.lazyEntries==null)X.lazyEntries=!1;if(X.decodeStrings==null)X.decodeStrings=!0;if(X.validateEntrySizes==null)X.validateEntrySizes=!0;if(X.strictFileNames==null)X.strictFileNames=!1;if(Y==null)Y=d2;i3.fstat($,function(Q,J){if(Q)return Y(Q);var q=xX.createFromFd($,{autoClose:!0});o3(q,J.size,X,Y)})}function u_($,X,Y){if(typeof X==="function")Y=X,X=null;if(X==null)X={};if(X.autoClose=!1,X.lazyEntries==null)X.lazyEntries=!1;if(X.decodeStrings==null)X.decodeStrings=!0;if(X.validateEntrySizes==null)X.validateEntrySizes=!0;if(X.strictFileNames==null)X.strictFileNames=!1;var Q=xX.createFromBuffer($,{maxChunkSize:65536});o3(Q,$.length,X,Y)}function o3($,X,Y,Q){if(typeof Y==="function")Q=Y,Y=null;if(Y==null)Y={};if(Y.autoClose==null)Y.autoClose=!0;if(Y.lazyEntries==null)Y.lazyEntries=!1;if(Y.decodeStrings==null)Y.decodeStrings=!0;var J=!!Y.decodeStrings;if(Y.validateEntrySizes==null)Y.validateEntrySizes=!0;if(Y.strictFileNames==null)Y.strictFileNames=!1;if(Q==null)Q=d2;if(typeof X!=="number")throw Error("expected totalSize parameter to be a number");if(X>Number.MAX_SAFE_INTEGER)throw Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");$.ref();var q=22,W=65535,H=Math.min(q+W,X),G=A6(H),_=X-G.length;d1($,G,0,H,_,function(j){if(j)return Q(j);for(var V=H-q;V>=0;V-=1){if(G.readUInt32LE(V)!==101010256)continue;var U=G.slice(V),B=U.readUInt16LE(4);if(B!==0)return Q(Error("multi-disk zip files are not supported: found disk number: "+B));var M=U.readUInt16LE(10),O=U.readUInt32LE(16),N=U.readUInt16LE(20),A=U.length-q;if(N!==A)return Q(Error("invalid comment length. expected: "+A+". found: "+N));var R=J?c2(U,22,U.length,!1):U.slice(22);if(!(M===65535||O===4294967295))return Q(null,new s6($,O,X,M,R,Y.autoClose,Y.lazyEntries,J,Y.validateEntrySizes,Y.strictFileNames));var L=A6(20),v=_+V-L.length;d1($,L,0,L.length,v,function(F){if(F)return Q(F);if(L.readUInt32LE(0)!==117853008)return Q(Error("invalid zip64 end of central directory locator signature"));var I=l1(L,8),P=A6(56);d1($,P,0,P.length,I,function(x){if(x)return Q(x);if(P.readUInt32LE(0)!==101075792)return Q(Error("invalid zip64 end of central directory record signature"));return M=l1(P,32),O=l1(P,48),Q(null,new s6($,O,X,M,R,Y.autoClose,Y.lazyEntries,J,Y.validateEntrySizes,Y.strictFileNames))})});return}Q(Error("end of central directory record signature not found"))})}l2.inherits(s6,p2);function s6($,X,Y,Q,J,q,W,H,G,_){var j=this;if(p2.call(j),j.reader=$,j.reader.on("error",function(V){ZX(j,V)}),j.reader.once("close",function(){j.emit("close")}),j.readEntryCursor=X,j.fileSize=Y,j.entryCount=Q,j.comment=J,j.entriesRead=0,j.autoClose=!!q,j.lazyEntries=!!W,j.decodeStrings=!!H,j.validateEntrySizes=!!G,j.strictFileNames=!!_,j.isOpen=!0,j.emittedError=!1,!j.lazyEntries)j._readEntry()}s6.prototype.close=function(){if(!this.isOpen)return;this.isOpen=!1,this.reader.unref()};function G6($,X){if($.autoClose)$.close();ZX($,X)}function ZX($,X){if($.emittedError)return;$.emittedError=!0,$.emit("error",X)}s6.prototype.readEntry=function(){if(!this.lazyEntries)throw Error("readEntry() called without lazyEntries:true");this._readEntry()};s6.prototype._readEntry=function(){var $=this;if($.entryCount===$.entriesRead){setImmediate(function(){if($.autoClose)$.close();if($.emittedError)return;$.emit("end")});return}if($.emittedError)return;var X=A6(46);d1($.reader,X,0,X.length,$.readEntryCursor,function(Y){if(Y)return G6($,Y);if($.emittedError)return;var Q=new Z8,J=X.readUInt32LE(0);if(J!==33639248)return G6($,Error("invalid central directory file header signature: 0x"+J.toString(16)));if(Q.versionMadeBy=X.readUInt16LE(4),Q.versionNeededToExtract=X.readUInt16LE(6),Q.generalPurposeBitFlag=X.readUInt16LE(8),Q.compressionMethod=X.readUInt16LE(10),Q.lastModFileTime=X.readUInt16LE(12),Q.lastModFileDate=X.readUInt16LE(14),Q.crc32=X.readUInt32LE(16),Q.compressedSize=X.readUInt32LE(20),Q.uncompressedSize=X.readUInt32LE(24),Q.fileNameLength=X.readUInt16LE(28),Q.extraFieldLength=X.readUInt16LE(30),Q.fileCommentLength=X.readUInt16LE(32),Q.internalFileAttributes=X.readUInt16LE(36),Q.externalFileAttributes=X.readUInt32LE(38),Q.relativeOffsetOfLocalHeader=X.readUInt32LE(42),Q.generalPurposeBitFlag&64)return G6($,Error("strong encryption is not supported"));$.readEntryCursor+=46,X=A6(Q.fileNameLength+Q.extraFieldLength+Q.fileCommentLength),d1($.reader,X,0,X.length,$.readEntryCursor,function(q){if(q)return G6($,q);if($.emittedError)return;var W=(Q.generalPurposeBitFlag&2048)!==0;Q.fileName=$.decodeStrings?c2(X,0,Q.fileNameLength,W):X.slice(0,Q.fileNameLength);var H=Q.fileNameLength+Q.extraFieldLength,G=X.slice(Q.fileNameLength,H);Q.extraFields=[];var _=0;while(_<G.length-3){var j=G.readUInt16LE(_+0),V=G.readUInt16LE(_+2),U=_+4,B=U+V;if(B>G.length)return G6($,Error("extra field length exceeds extra field buffer size"));var M=A6(V);G.copy(M,0,U,B),Q.extraFields.push({id:j,data:M}),_=B}if(Q.fileComment=$.decodeStrings?c2(X,H,H+Q.fileCommentLength,W):X.slice(H,H+Q.fileCommentLength),Q.comment=Q.fileComment,$.readEntryCursor+=X.length,$.entriesRead+=1,Q.uncompressedSize===4294967295||Q.compressedSize===4294967295||Q.relativeOffsetOfLocalHeader===4294967295){var O=null;for(var _=0;_<Q.extraFields.length;_++){var N=Q.extraFields[_];if(N.id===1){O=N.data;break}}if(O==null)return G6($,Error("expected zip64 extended information extra field"));var A=0;if(Q.uncompressedSize===4294967295){if(A+8>O.length)return G6($,Error("zip64 extended information extra field does not include uncompressed size"));Q.uncompressedSize=l1(O,A),A+=8}if(Q.compressedSize===4294967295){if(A+8>O.length)return G6($,Error("zip64 extended information extra field does not include compressed size"));Q.compressedSize=l1(O,A),A+=8}if(Q.relativeOffsetOfLocalHeader===4294967295){if(A+8>O.length)return G6($,Error("zip64 extended information extra field does not include relative header offset"));Q.relativeOffsetOfLocalHeader=l1(O,A),A+=8}}if($.decodeStrings)for(var _=0;_<Q.extraFields.length;_++){var N=Q.extraFields[_];if(N.id===28789){if(N.data.length<6)continue;if(N.data.readUInt8(0)!==1)continue;var R=N.data.readUInt32LE(1);if(y_.unsigned(X.slice(0,Q.fileNameLength))!==R)continue;Q.fileName=c2(N.data,5,N.data.length,!0);break}}if($.validateEntrySizes&&Q.compressionMethod===0){var L=Q.uncompressedSize;if(Q.isEncrypted())L+=12;if(Q.compressedSize!==L){var v="compressed/uncompressed size mismatch for stored file: "+Q.compressedSize+" != "+Q.uncompressedSize;return G6($,Error(v))}}if($.decodeStrings){if(!$.strictFileNames)Q.fileName=Q.fileName.replace(/\\/g,"/");var F=SX(Q.fileName,$.validateFileNameOptions);if(F!=null)return G6($,Error(F))}if($.emit("entry",Q),!$.lazyEntries)$._readEntry()})})};s6.prototype.openReadStream=function($,X,Y){var Q=this,J=0,q=$.compressedSize;if(Y==null)Y=X,X={};else{if(X.decrypt!=null){if(!$.isEncrypted())throw Error("options.decrypt can only be specified for encrypted entries");if(X.decrypt!==!1)throw Error("invalid options.decrypt value: "+X.decrypt);if($.isCompressed()){if(X.decompress!==!1)throw Error("entry is encrypted and compressed, and options.decompress !== false")}}if(X.decompress!=null){if(!$.isCompressed())throw Error("options.decompress can only be specified for compressed entries");if(!(X.decompress===!1||X.decompress===!0))throw Error("invalid options.decompress value: "+X.decompress)}if(X.start!=null||X.end!=null){if($.isCompressed()&&X.decompress!==!1)throw Error("start/end range not allowed for compressed entry without options.decompress === false");if($.isEncrypted()&&X.decrypt!==!1)throw Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(X.start!=null){if(J=X.start,J<0)throw Error("options.start < 0");if(J>$.compressedSize)throw Error("options.start > entry.compressedSize")}if(X.end!=null){if(q=X.end,q<0)throw Error("options.end < 0");if(q>$.compressedSize)throw Error("options.end > entry.compressedSize");if(q<J)throw Error("options.end < options.start")}}if(!Q.isOpen)return Y(Error("closed"));if($.isEncrypted()){if(X.decrypt!==!1)return Y(Error("entry is encrypted, and options.decrypt !== false"))}Q.reader.ref();var W=A6(30);d1(Q.reader,W,0,W.length,$.relativeOffsetOfLocalHeader,function(H){try{if(H)return Y(H);var G=W.readUInt32LE(0);if(G!==67324752)return Y(Error("invalid local file header signature: 0x"+G.toString(16)));var _=W.readUInt16LE(26),j=W.readUInt16LE(28),V=$.relativeOffsetOfLocalHeader+W.length+_+j,U;if($.compressionMethod===0)U=!1;else if($.compressionMethod===8)U=X.decompress!=null?X.decompress:!0;else return Y(Error("unsupported compression method: "+$.compressionMethod));var B=V,M=B+$.compressedSize;if($.compressedSize!==0){if(M>Q.fileSize)return Y(Error("file data overflows file bounds: "+B+" + "+$.compressedSize+" > "+Q.fileSize))}var O=Q.reader.createReadStream({start:B+J,end:B+q}),N=O;if(U){var A=!1,R=f_.createInflateRaw();if(O.on("error",function(L){setImmediate(function(){if(!A)R.emit("error",L)})}),O.pipe(R),Q.validateEntrySizes)N=new C8($.uncompressedSize),R.on("error",function(L){setImmediate(function(){if(!A)N.emit("error",L)})}),R.pipe(N);else N=R;N.destroy=function(){if(A=!0,R!==N)R.unpipe(N);O.unpipe(R),O.destroy()}}Y(null,N)}finally{Q.reader.unref()}})};function Z8(){}Z8.prototype.getLastModDate=function(){return CX(this.lastModFileDate,this.lastModFileTime)};Z8.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Z8.prototype.isCompressed=function(){return this.compressionMethod===8};function CX($,X){var Y=$&31,Q=($>>5&15)-1,J=($>>9&127)+1980,q=0,W=(X&31)*2,H=X>>5&63,G=X>>11&31;return new Date(J,Q,Y,G,H,W,q)}function SX($){if($.indexOf("\\")!==-1)return"invalid characters in fileName: "+$;if(/^[a-zA-Z]:/.test($)||/^\//.test($))return"absolute path: "+$;if($.split("/").indexOf("..")!==-1)return"invalid relative path: "+$;return null}function d1($,X,Y,Q,J,q){if(Q===0)return setImmediate(function(){q(null,A6(0))});$.read(X,Y,Q,J,function(W,H){if(W)return q(W);if(H<Q)return q(Error("unexpected EOF"));q()})}l2.inherits(C8,TX);function C8($){TX.call(this),this.actualByteCount=0,this.expectedByteCount=$}C8.prototype._transform=function($,X,Y){if(this.actualByteCount+=$.length,this.actualByteCount>this.expectedByteCount){var Q="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return Y(Error(Q))}Y(null,$)};C8.prototype._flush=function($){if(this.actualByteCount<this.expectedByteCount){var X="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return $(Error(X))}$()};l2.inherits(o6,p2);function o6(){p2.call(this),this.refCount=0}o6.prototype.ref=function(){this.refCount+=1};o6.prototype.unref=function(){var $=this;if($.refCount-=1,$.refCount>0)return;if($.refCount<0)throw Error("invalid unref");$.close(X);function X(Y){if(Y)return $.emit("error",Y);$.emit("close")}};o6.prototype.createReadStream=function($){var{start:X,end:Y}=$;if(X===Y){var Q=new s3;return setImmediate(function(){Q.end()}),Q}var J=this._readStreamForRange(X,Y),q=!1,W=new n2(this);J.on("error",function(G){setImmediate(function(){if(!q)W.emit("error",G)})}),W.destroy=function(){J.unpipe(W),W.unref(),J.destroy()};var H=new C8(Y-X);return W.on("error",function(G){setImmediate(function(){if(!q)H.emit("error",G)})}),H.destroy=function(){q=!0,W.unpipe(H),W.destroy()},J.pipe(W).pipe(H)};o6.prototype._readStreamForRange=function($,X){throw Error("not implemented")};o6.prototype.read=function($,X,Y,Q,J){var q=this.createReadStream({start:Q,end:Q+Y}),W=new g_,H=0;W._write=function(G,_,j){G.copy($,X+H,0,G.length),H+=G.length,j()},W.on("finish",J),q.on("error",function(G){J(G)}),q.pipe(W)};o6.prototype.close=function($){setImmediate($)};l2.inherits(n2,s3);function n2($){s3.call(this),this.context=$,this.context.ref(),this.unreffedYet=!1}n2.prototype._flush=function($){this.unref(),$()};n2.prototype.unref=function($){if(this.unreffedYet)return;this.unreffedYet=!0,this.context.unref()};var c_="\x00\u263A\u263B\u2665\u2666\u2663\u2660\u2022\u25D8\u25CB\u25D9\u2642\u2640\u266A\u266B\u263C\u25BA\u25C4\u2195\u203C\xB6\xA7\u25AC\u21A8\u2191\u2193\u2192\u2190\u221F\u2194\u25B2\u25BC !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\u2302\xC7\xFC\xE9\xE2\xE4\xE0\xE5\xE7\xEA\xEB\xE8\xEF\xEE\xEC\xC4\xC5\xC9\xE6\xC6\xF4\xF6\xF2\xFB\xF9\xFF\xD6\xDC\xA2\xA3\xA5\u20A7\u0192\xE1\xED\xF3\xFA\xF1\xD1\xAA\xBA\xBF\u2310\xAC\xBD\xBC\xA1\xAB\xBB\u2591\u2592\u2593\u2502\u2524\u2561\u2562\u2556\u2555\u2563\u2551\u2557\u255D\u255C\u255B\u2510\u2514\u2534\u252C\u251C\u2500\u253C\u255E\u255F\u255A\u2554\u2569\u2566\u2560\u2550\u256C\u2567\u2568\u2564\u2565\u2559\u2558\u2552\u2553\u256B\u256A\u2518\u250C\u2588\u2584\u258C\u2590\u2580\u03B1\xDF\u0393\u03C0\u03A3\u03C3\xB5\u03C4\u03A6\u0398\u03A9\u03B4\u221E\u03C6\u03B5\u2229\u2261\xB1\u2265\u2264\u2320\u2321\xF7\u2248\xB0\u2219\xB7\u221A\u207F\xB2\u25A0\xA0";function c2($,X,Y,Q){if(Q)return $.toString("utf8",X,Y);else{var J="";for(var q=X;q<Y;q++)J+=c_[$[q]];return J}}function l1($,X){var Y=$.readUInt32LE(X),Q=$.readUInt32LE(X+4);return Q*4294967296+Y}var A6;if(typeof Buffer.allocUnsafe==="function")A6=function($){return Buffer.allocUnsafe($)};else A6=function($){return new Buffer($)};function d2($){if($)throw $}});var yX=u((kM,fX)=>{var _6=qX()("extract-zip"),{createWriteStream:e_,promises:p1}=e("fs"),$j=DX(),N1=e("path"),{promisify:r3}=e("util"),Xj=e("stream"),Yj=kX(),Qj=r3(Yj.open),Jj=r3(Xj.pipeline);class hX{constructor($,X){this.zipPath=$,this.opts=X}async extract(){return _6("opening",this.zipPath,"with opts",this.opts),this.zipfile=await Qj(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise(($,X)=>{this.zipfile.on("error",(Y)=>{this.canceled=!0,X(Y)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{if(!this.canceled)_6("zip extraction complete"),$()}),this.zipfile.on("entry",async(Y)=>{if(this.canceled){_6("skipping entry",Y.fileName,{cancelled:this.canceled});return}if(_6("zipfile entry",Y.fileName),Y.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}let Q=N1.dirname(N1.join(this.opts.dir,Y.fileName));try{await p1.mkdir(Q,{recursive:!0});let J=await p1.realpath(Q);if(N1.relative(this.opts.dir,J).split(N1.sep).includes(".."))throw Error(`Out of bound path "${J}" found while processing file ${Y.fileName}`);await this.extractEntry(Y),_6("finished processing",Y.fileName),this.zipfile.readEntry()}catch(J){this.canceled=!0,this.zipfile.close(),X(J)}})})}async extractEntry($){if(this.canceled){_6("skipping entry extraction",$.fileName,{cancelled:this.canceled});return}if(this.opts.onEntry)this.opts.onEntry($,this.zipfile);let X=N1.join(this.opts.dir,$.fileName),Y=$.externalFileAttributes>>16&65535,Q=61440,J=16384,q=40960,W=(Y&Q)===q,H=(Y&Q)===J;if(!H&&$.fileName.endsWith("/"))H=!0;let G=$.versionMadeBy>>8;if(!H)H=G===0&&$.externalFileAttributes===16;_6("extracting entry",{filename:$.fileName,isDir:H,isSymlink:W});let _=this.getExtractedMode(Y,H)&511,j=H?X:N1.dirname(X),V={recursive:!0};if(H)V.mode=_;if(_6("mkdir",{dir:j,...V}),await p1.mkdir(j,V),H)return;_6("opening read stream",X);let U=await r3(this.zipfile.openReadStream.bind(this.zipfile))($);if(W){let B=await $j(U);_6("creating symlink",B,X),await p1.symlink(B,X)}else await Jj(U,e_(X,{mode:_}))}getExtractedMode($,X){let Y=$;if(Y===0)if(X){if(this.opts.defaultDirMode)Y=parseInt(this.opts.defaultDirMode,10);if(!Y)Y=493}else{if(this.opts.defaultFileMode)Y=parseInt(this.opts.defaultFileMode,10);if(!Y)Y=420}return Y}}fX.exports=async function($,X){if(_6("creating target directory",X.dir),!N1.isAbsolute(X.dir))throw Error("Target directory is expected to be absolute");return await p1.mkdir(X.dir,{recursive:!0}),X.dir=await p1.realpath(X.dir),new hX($,X).extract()}});var gX=u((qj,i2)=>{(function(){function $(K,E){Object.defineProperty(Q.prototype,K,{get:function(){console.warn("%s(...) is deprecated in plain JavaScript React classes. %s",E[0],E[1])}})}function X(K){if(K===null||typeof K!=="object")return null;return K=z0&&K[z0]||K["@@iterator"],typeof K==="function"?K:null}function Y(K,E){K=(K=K.constructor)&&(K.displayName||K.name)||"ReactClass";var b=K+"."+E;_0[b]||(console.error("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",E,K),_0[b]=!0)}function Q(K,E,b){this.props=K,this.context=E,this.refs=Y0,this.updater=b||v0}function J(){}function q(K,E,b){this.props=K,this.context=E,this.refs=Y0,this.updater=b||v0}function W(){}function H(K){return""+K}function G(K){try{H(K);var E=!1}catch(l){E=!0}if(E){E=console;var b=E.error,k=typeof Symbol==="function"&&Symbol.toStringTag&&K[Symbol.toStringTag]||K.constructor.name||"Object";return b.call(E,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",k),H(K)}}function _(K){if(K==null)return null;if(typeof K==="function")return K.$$typeof===l0?null:K.displayName||K.name||null;if(typeof K==="string")return K;switch(K){case N0:return"Fragment";case C:return"Profiler";case z:return"StrictMode";case i:return"Suspense";case q0:return"SuspenseList";case w0:return"Activity"}if(typeof K==="object")switch(typeof K.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),K.$$typeof){case n:return"Portal";case r:return K.displayName||"Context";case d:return(K._context.displayName||"Context")+".Consumer";case E0:var E=K.render;return K=K.displayName,K||(K=E.displayName||E.name||"",K=K!==""?"ForwardRef("+K+")":"ForwardRef"),K;case O0:return E=K.displayName||null,E!==null?E:_(K.type)||"Memo";case M0:E=K._payload,K=K._init;try{return _(K(E))}catch(b){}}return null}function j(K){if(K===N0)return"<>";if(typeof K==="object"&&K!==null&&K.$$typeof===M0)return"<...>";try{var E=_(K);return E?"<"+E+">":"<...>"}catch(b){return"<...>"}}function V(){var K=a.A;return K===null?null:K.getOwner()}function U(){return Error("react-stack-top-frame")}function B(K){if(n0.call(K,"key")){var E=Object.getOwnPropertyDescriptor(K,"key").get;if(E&&E.isReactWarning)return!1}return K.key!==void 0}function M(K,E){function b(){i0||(i0=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",E))}b.isReactWarning=!0,Object.defineProperty(K,"key",{get:b,configurable:!0})}function O(){var K=_(this.type);return O6[K]||(O6[K]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),K=this.props.ref,K!==void 0?K:null}function N(K,E,b,k,l,J0){var W0=b.ref;return K={$$typeof:V0,type:K,key:E,props:b,_owner:k},(W0!==void 0?W0:null)!==null?Object.defineProperty(K,"ref",{enumerable:!1,get:O}):Object.defineProperty(K,"ref",{enumerable:!1,value:null}),K._store={},Object.defineProperty(K._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(K,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(K,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:l}),Object.defineProperty(K,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:J0}),Object.freeze&&(Object.freeze(K.props),Object.freeze(K)),K}function A(K,E){return E=N(K.type,E,K.props,K._owner,K._debugStack,K._debugTask),K._store&&(E._store.validated=K._store.validated),E}function R(K){L(K)?K._store&&(K._store.validated=1):typeof K==="object"&&K!==null&&K.$$typeof===M0&&(K._payload.status==="fulfilled"?L(K._payload.value)&&K._payload.value._store&&(K._payload.value._store.validated=1):K._store&&(K._store.validated=1))}function L(K){return typeof K==="object"&&K!==null&&K.$$typeof===V0}function v(K){var E={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(b){return E[b]})}function F(K,E){return typeof K==="object"&&K!==null&&K.key!=null?(G(K.key),v(""+K.key)):E.toString(36)}function I(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status==="string"?K.then(W,W):(K.status="pending",K.then(function(E){K.status==="pending"&&(K.status="fulfilled",K.value=E)},function(E){K.status==="pending"&&(K.status="rejected",K.reason=E)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function P(K,E,b,k,l){var J0=typeof K;if(J0==="undefined"||J0==="boolean")K=null;var W0=!1;if(K===null)W0=!0;else switch(J0){case"bigint":case"string":case"number":W0=!0;break;case"object":switch(K.$$typeof){case V0:case n:W0=!0;break;case M0:return W0=K._init,P(W0(K._payload),E,b,k,l)}}if(W0){W0=K,l=l(W0);var D0=k===""?"."+F(W0,0):k;return T0(l)?(b="",D0!=null&&(b=D0.replace(b0,"$&/")+"/"),P(l,E,b,"",function(g0){return g0})):l!=null&&(L(l)&&(l.key!=null&&(W0&&W0.key===l.key||G(l.key)),b=A(l,b+(l.key==null||W0&&W0.key===l.key?"":(""+l.key).replace(b0,"$&/")+"/")+D0),k!==""&&W0!=null&&L(W0)&&W0.key==null&&W0._store&&!W0._store.validated&&(b._store.validated=2),l=b),E.push(l)),1}if(W0=0,D0=k===""?".":k+":",T0(K))for(var $0=0;$0<K.length;$0++)k=K[$0],J0=D0+F(k,$0),W0+=P(k,E,b,J0,l);else if($0=X(K),typeof $0==="function")for($0===K.entries&&(_1||console.warn("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),_1=!0),K=$0.call(K),$0=0;!(k=K.next()).done;)k=k.value,J0=D0+F(k,$0++),W0+=P(k,E,b,J0,l);else if(J0==="object"){if(typeof K.then==="function")return P(I(K),E,b,k,l);throw E=String(K),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return W0}function x(K,E,b){if(K==null)return K;var k=[],l=0;return P(K,k,"","",function(J0){return E.call(b,J0,l++)}),k}function S(K){if(K._status===-1){var E=K._ioInfo;E!=null&&(E.start=E.end=performance.now()),E=K._result;var b=E();if(b.then(function(l){if(K._status===0||K._status===-1){K._status=1,K._result=l;var J0=K._ioInfo;J0!=null&&(J0.end=performance.now()),b.status===void 0&&(b.status="fulfilled",b.value=l)}},function(l){if(K._status===0||K._status===-1){K._status=2,K._result=l;var J0=K._ioInfo;J0!=null&&(J0.end=performance.now()),b.status===void 0&&(b.status="rejected",b.reason=l)}}),E=K._ioInfo,E!=null){E.value=b;var k=b.displayName;typeof k==="string"&&(E.name=k)}K._status===-1&&(K._status=0,K._result=b)}if(K._status===1)return E=K._result,E===void 0&&console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,E),"default"in E||console.error(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,E),E.default;throw K._result}function g(){var K=a.H;return K===null&&console.error(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://react.dev/link/invalid-hook-call for tips about how to debug and fix this problem.`),K}function h(){a.asyncTransitions--}function m(K){if(P6===null)try{var E=("require"+Math.random()).slice(0,7);P6=(i2&&i2[E]).call(i2,"timers").setImmediate}catch(b){P6=function(k){g6===!1&&(g6=!0,typeof MessageChannel>"u"&&console.error("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var l=new MessageChannel;l.port1.onmessage=k,l.port2.postMessage(void 0)}}return P6(K)}function p(K){return 1<K.length&&typeof AggregateError==="function"?AggregateError(K):K[0]}function X0(K,E){E!==$6-1&&console.error("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),$6=E}function G0(K,E,b){var k=a.actQueue;if(k!==null)if(k.length!==0)try{Q0(k),m(function(){return G0(K,E,b)});return}catch(l){a.thrownErrors.push(l)}else a.actQueue=null;0<a.thrownErrors.length?(k=p(a.thrownErrors),a.thrownErrors.length=0,b(k)):E(K)}function Q0(K){if(!j1){j1=!0;var E=0;try{for(;E<K.length;E++){var b=K[E];do{a.didUsePromise=!1;var k=b(!1);if(k!==null){if(a.didUsePromise){K[E]=b,K.splice(0,E);return}b=k}else break}while(1)}K.length=0}catch(l){K.splice(0,E+1),a.thrownErrors.push(l)}finally{j1=!1}}}typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());var V0=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),N0=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),r=Symbol.for("react.context"),E0=Symbol.for("react.forward_ref"),i=Symbol.for("react.suspense"),q0=Symbol.for("react.suspense_list"),O0=Symbol.for("react.memo"),M0=Symbol.for("react.lazy"),w0=Symbol.for("react.activity"),z0=Symbol.iterator,_0={},v0={isMounted:function(){return!1},enqueueForceUpdate:function(K){Y(K,"forceUpdate")},enqueueReplaceState:function(K){Y(K,"replaceState")},enqueueSetState:function(K){Y(K,"setState")}},R0=Object.assign,Y0={};Object.freeze(Y0),Q.prototype.isReactComponent={},Q.prototype.setState=function(K,E){if(typeof K!=="object"&&typeof K!=="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,E,"setState")},Q.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};var B0={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]};for(u6 in B0)B0.hasOwnProperty(u6)&&$(u6,B0[u6]);J.prototype=Q.prototype,B0=q.prototype=new J,B0.constructor=q,R0(B0,Q.prototype),B0.isPureReactComponent=!0;var T0=Array.isArray,l0=Symbol.for("react.client.reference"),a={H:null,A:null,T:null,S:null,actQueue:null,asyncTransitions:0,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1,didUsePromise:!1,thrownErrors:[],getCurrentStack:null,recentlyCreatedOwnerStacks:0},n0=Object.prototype.hasOwnProperty,I6=console.createTask?console.createTask:function(){return null};B0={react_stack_bottom_frame:function(K){return K()}};var i0,v6,O6={},q6=B0.react_stack_bottom_frame.bind(B0,U)(),N6=I6(j(U)),_1=!1,b0=/\/+/g,s0=typeof reportError==="function"?reportError:function(K){if(typeof window==="object"&&typeof window.ErrorEvent==="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K==="object"&&K!==null&&typeof K.message==="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(E))return}else if(typeof process==="object"&&typeof process.emit==="function"){process.emit("uncaughtException",K);return}console.error(K)},g6=!1,P6=null,$6=0,m6=!1,j1=!1,B8=typeof queueMicrotask==="function"?function(K){queueMicrotask(function(){return queueMicrotask(K)})}:m;B0=Object.freeze({__proto__:null,c:function(K){return g().useMemoCache(K)}});var u6={map:x,forEach:function(K,E,b){x(K,function(){E.apply(this,arguments)},b)},count:function(K){var E=0;return x(K,function(){E++}),E},toArray:function(K){return x(K,function(E){return E})||[]},only:function(K){if(!L(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};qj.Activity=w0,qj.Children=u6,qj.Component=Q,qj.Fragment=N0,qj.Profiler=C,qj.PureComponent=q,qj.StrictMode=z,qj.Suspense=i,qj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qj.__COMPILER_RUNTIME=B0,qj.act=function(K){var E=a.actQueue,b=$6;$6++;var k=a.actQueue=E!==null?E:[],l=!1;try{var J0=K()}catch($0){a.thrownErrors.push($0)}if(0<a.thrownErrors.length)throw X0(E,b),K=p(a.thrownErrors),a.thrownErrors.length=0,K;if(J0!==null&&typeof J0==="object"&&typeof J0.then==="function"){var W0=J0;return B8(function(){l||m6||(m6=!0,console.error("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),{then:function($0,g0){l=!0,W0.then(function(x6){if(X0(E,b),b===0){try{Q0(k),m(function(){return G0(x6,$0,g0)})}catch(W2){a.thrownErrors.push(W2)}if(0<a.thrownErrors.length){var q2=p(a.thrownErrors);a.thrownErrors.length=0,g0(q2)}}else $0(x6)},function(x6){X0(E,b),0<a.thrownErrors.length?(x6=p(a.thrownErrors),a.thrownErrors.length=0,g0(x6)):g0(x6)})}}}var D0=J0;if(X0(E,b),b===0&&(Q0(k),k.length!==0&&B8(function(){l||m6||(m6=!0,console.error("A component suspended inside an `act` scope, but the `act` call was not awaited. When testing React components that depend on asynchronous data, you must await the result:\n\nawait act(() => ...)"))}),a.actQueue=null),0<a.thrownErrors.length)throw K=p(a.thrownErrors),a.thrownErrors.length=0,K;return{then:function($0,g0){l=!0,b===0?(a.actQueue=k,m(function(){return G0(D0,$0,g0)})):$0(D0)}}},qj.cache=function(K){return function(){return K.apply(null,arguments)}},qj.cacheSignal=function(){return null},qj.captureOwnerStack=function(){var K=a.getCurrentStack;return K===null?null:K()},qj.cloneElement=function(K,E,b){if(K===null||K===void 0)throw Error("The argument must be a React element, but you passed "+K+".");var k=R0({},K.props),l=K.key,J0=K._owner;if(E!=null){var W0;$:{if(n0.call(E,"ref")&&(W0=Object.getOwnPropertyDescriptor(E,"ref").get)&&W0.isReactWarning){W0=!1;break $}W0=E.ref!==void 0}W0&&(J0=V()),B(E)&&(G(E.key),l=""+E.key);for(D0 in E)!n0.call(E,D0)||D0==="key"||D0==="__self"||D0==="__source"||D0==="ref"&&E.ref===void 0||(k[D0]=E[D0])}var D0=arguments.length-2;if(D0===1)k.children=b;else if(1<D0){W0=Array(D0);for(var $0=0;$0<D0;$0++)W0[$0]=arguments[$0+2];k.children=W0}k=N(K.type,l,k,J0,K._debugStack,K._debugTask);for(l=2;l<arguments.length;l++)R(arguments[l]);return k},qj.createContext=function(K){return K={$$typeof:r,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:d,_context:K},K._currentRenderer=null,K._currentRenderer2=null,K},qj.createElement=function(K,E,b){for(var k=2;k<arguments.length;k++)R(arguments[k]);k={};var l=null;if(E!=null)for($0 in v6||!("__self"in E)||"key"in E||(v6=!0,console.warn("Your app (or one of its dependencies) is using an outdated JSX transform. Update to the modern JSX transform for faster performance: https://react.dev/link/new-jsx-transform")),B(E)&&(G(E.key),l=""+E.key),E)n0.call(E,$0)&&$0!=="key"&&$0!=="__self"&&$0!=="__source"&&(k[$0]=E[$0]);var J0=arguments.length-2;if(J0===1)k.children=b;else if(1<J0){for(var W0=Array(J0),D0=0;D0<J0;D0++)W0[D0]=arguments[D0+2];Object.freeze&&Object.freeze(W0),k.children=W0}if(K&&K.defaultProps)for($0 in J0=K.defaultProps,J0)k[$0]===void 0&&(k[$0]=J0[$0]);l&&M(k,typeof K==="function"?K.displayName||K.name||"Unknown":K);var $0=1e4>a.recentlyCreatedOwnerStacks++;return N(K,l,k,V(),$0?Error("react-stack-top-frame"):q6,$0?I6(j(K)):N6)},qj.createRef=function(){var K={current:null};return Object.seal(K),K},qj.forwardRef=function(K){K!=null&&K.$$typeof===O0?console.error("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof K!=="function"?console.error("forwardRef requires a render function but was given %s.",K===null?"null":typeof K):K.length!==0&&K.length!==2&&console.error("forwardRef render functions accept exactly two parameters: props and ref. %s",K.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),K!=null&&K.defaultProps!=null&&console.error("forwardRef render functions do not support defaultProps. Did you accidentally pass a React component?");var E={$$typeof:E0,render:K},b;return Object.defineProperty(E,"displayName",{enumerable:!1,configurable:!0,get:function(){return b},set:function(k){b=k,K.name||K.displayName||(Object.defineProperty(K,"name",{value:k}),K.displayName=k)}}),E},qj.isValidElement=L,qj.lazy=function(K){K={_status:-1,_result:K};var E={$$typeof:M0,_payload:K,_init:S},b={name:"lazy",start:-1,end:-1,value:null,owner:null,debugStack:Error("react-stack-top-frame"),debugTask:console.createTask?console.createTask("lazy()"):null};return K._ioInfo=b,E._debugInfo=[{awaited:b}],E},qj.memo=function(K,E){K==null&&console.error("memo: The first argument must be a component. Instead received: %s",K===null?"null":typeof K),E={$$typeof:O0,type:K,compare:E===void 0?null:E};var b;return Object.defineProperty(E,"displayName",{enumerable:!1,configurable:!0,get:function(){return b},set:function(k){b=k,K.name||K.displayName||(Object.defineProperty(K,"name",{value:k}),K.displayName=k)}}),E},qj.startTransition=function(K){var E=a.T,b={};b._updatedFibers=new Set,a.T=b;try{var k=K(),l=a.S;l!==null&&l(b,k),typeof k==="object"&&k!==null&&typeof k.then==="function"&&(a.asyncTransitions++,k.then(h,h),k.then(W,s0))}catch(J0){s0(J0)}finally{E===null&&b._updatedFibers&&(K=b._updatedFibers.size,b._updatedFibers.clear(),10<K&&console.warn("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table.")),E!==null&&b.types!==null&&(E.types!==null&&E.types!==b.types&&console.error("We expected inner Transitions to have transferred the outer types set and that you cannot add to the outer Transition while inside the inner.This is a bug in React."),E.types=b.types),a.T=E}},qj.unstable_useCacheRefresh=function(){return g().useCacheRefresh()},qj.use=function(K){return g().use(K)},qj.useActionState=function(K,E,b){return g().useActionState(K,E,b)},qj.useCallback=function(K,E){return g().useCallback(K,E)},qj.useContext=function(K){var E=g();return K.$$typeof===d&&console.error("Calling useContext(Context.Consumer) is not supported and will cause bugs. Did you mean to call useContext(Context) instead?"),E.useContext(K)},qj.useDebugValue=function(K,E){return g().useDebugValue(K,E)},qj.useDeferredValue=function(K,E){return g().useDeferredValue(K,E)},qj.useEffect=function(K,E){return K==null&&console.warn("React Hook useEffect requires an effect callback. Did you forget to pass a callback to the hook?"),g().useEffect(K,E)},qj.useEffectEvent=function(K){return g().useEffectEvent(K)},qj.useId=function(){return g().useId()},qj.useImperativeHandle=function(K,E,b){return g().useImperativeHandle(K,E,b)},qj.useInsertionEffect=function(K,E){return K==null&&console.warn("React Hook useInsertionEffect requires an effect callback. Did you forget to pass a callback to the hook?"),g().useInsertionEffect(K,E)},qj.useLayoutEffect=function(K,E){return K==null&&console.warn("React Hook useLayoutEffect requires an effect callback. Did you forget to pass a callback to the hook?"),g().useLayoutEffect(K,E)},qj.useMemo=function(K,E){return g().useMemo(K,E)},qj.useOptimistic=function(K,E){return g().useOptimistic(K,E)},qj.useReducer=function(K,E,b){return g().useReducer(K,E,b)},qj.useRef=function(K){return g().useRef(K)},qj.useState=function(K){return g().useState(K)},qj.useSyncExternalStore=function(K,E,b){return g().useSyncExternalStore(K,E,b)},qj.useTransition=function(){return g().useTransition()},qj.version="19.2.4",typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop==="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error())})()});var n1=u((Wj)=>{var M1=T6(gX());(function(){function $(z){if(z==null)return null;if(typeof z==="function")return z.$$typeof===g?null:z.displayName||z.name||null;if(typeof z==="string")return z;switch(z){case O:return"Fragment";case A:return"Profiler";case N:return"StrictMode";case F:return"Suspense";case I:return"SuspenseList";case S:return"Activity"}if(typeof z==="object")switch(typeof z.tag==="number"&&console.error("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),z.$$typeof){case M:return"Portal";case L:return z.displayName||"Context";case R:return(z._context.displayName||"Context")+".Consumer";case v:var C=z.render;return z=z.displayName,z||(z=C.displayName||C.name||"",z=z!==""?"ForwardRef("+z+")":"ForwardRef"),z;case P:return C=z.displayName||null,C!==null?C:$(z.type)||"Memo";case x:C=z._payload,z=z._init;try{return $(z(C))}catch(d){}}return null}function X(z){return""+z}function Y(z){try{X(z);var C=!1}catch(E0){C=!0}if(C){C=console;var d=C.error,r=typeof Symbol==="function"&&Symbol.toStringTag&&z[Symbol.toStringTag]||z.constructor.name||"Object";return d.call(C,"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.",r),X(z)}}function Q(z){if(z===O)return"<>";if(typeof z==="object"&&z!==null&&z.$$typeof===x)return"<...>";try{var C=$(z);return C?"<"+C+">":"<...>"}catch(d){return"<...>"}}function J(){var z=h.A;return z===null?null:z.getOwner()}function q(){return Error("react-stack-top-frame")}function W(z){if(m.call(z,"key")){var C=Object.getOwnPropertyDescriptor(z,"key").get;if(C&&C.isReactWarning)return!1}return z.key!==void 0}function H(z,C){function d(){G0||(G0=!0,console.error("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)",C))}d.isReactWarning=!0,Object.defineProperty(z,"key",{get:d,configurable:!0})}function G(){var z=$(this.type);return Q0[z]||(Q0[z]=!0,console.error("Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.")),z=this.props.ref,z!==void 0?z:null}function _(z,C,d,r,E0,i){var q0=d.ref;return z={$$typeof:B,type:z,key:C,props:d,_owner:r},(q0!==void 0?q0:null)!==null?Object.defineProperty(z,"ref",{enumerable:!1,get:G}):Object.defineProperty(z,"ref",{enumerable:!1,value:null}),z._store={},Object.defineProperty(z._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:0}),Object.defineProperty(z,"_debugInfo",{configurable:!1,enumerable:!1,writable:!0,value:null}),Object.defineProperty(z,"_debugStack",{configurable:!1,enumerable:!1,writable:!0,value:E0}),Object.defineProperty(z,"_debugTask",{configurable:!1,enumerable:!1,writable:!0,value:i}),Object.freeze&&(Object.freeze(z.props),Object.freeze(z)),z}function j(z,C,d,r,E0,i){var q0=C.children;if(q0!==void 0)if(r)if(p(q0)){for(r=0;r<q0.length;r++)V(q0[r]);Object.freeze&&Object.freeze(q0)}else console.error("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else V(q0);if(m.call(C,"key")){q0=$(z);var O0=Object.keys(C).filter(function(w0){return w0!=="key"});r=0<O0.length?"{key: someKey, "+O0.join(": ..., ")+": ...}":"{key: someKey}",N0[q0+r]||(O0=0<O0.length?"{"+O0.join(": ..., ")+": ...}":"{}",console.error(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,r,q0,O0,q0),N0[q0+r]=!0)}if(q0=null,d!==void 0&&(Y(d),q0=""+d),W(C)&&(Y(C.key),q0=""+C.key),"key"in C){d={};for(var M0 in C)M0!=="key"&&(d[M0]=C[M0])}else d=C;return q0&&H(d,typeof z==="function"?z.displayName||z.name||"Unknown":z),_(z,q0,d,J(),E0,i)}function V(z){U(z)?z._store&&(z._store.validated=1):typeof z==="object"&&z!==null&&z.$$typeof===x&&(z._payload.status==="fulfilled"?U(z._payload.value)&&z._payload.value._store&&(z._payload.value._store.validated=1):z._store&&(z._store.validated=1))}function U(z){return typeof z==="object"&&z!==null&&z.$$typeof===B}var B=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),L=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),g=Symbol.for("react.client.reference"),h=M1.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,m=Object.prototype.hasOwnProperty,p=Array.isArray,X0=console.createTask?console.createTask:function(){return null};M1={react_stack_bottom_frame:function(z){return z()}};var G0,Q0={},V0=M1.react_stack_bottom_frame.bind(M1,q)(),n=X0(Q(q)),N0={};Wj.Fragment=O,Wj.jsx=function(z,C,d){var r=1e4>h.recentlyCreatedOwnerStacks++;return j(z,C,d,!1,r?Error("react-stack-top-frame"):V0,r?X0(Q(z)):n)},Wj.jsxs=function(z,C,d){var r=1e4>h.recentlyCreatedOwnerStacks++;return j(z,C,d,!0,r?Error("react-stack-top-frame"):V0,r?X0(Q(z)):n)}})()});var xY=T6(O3(),1);import{createRequire as Uj}from"module";import{createWriteStream as Oj}from"fs";import uX from"fs";import Nj from"path";import*as Mj from"tty";import{execSync as cX}from"child_process";import a6,{rmSync as Ej}from"fs";import Aj from"os";import L6 from"path";var u0="4.0.424";import Lj from"fs";import N4 from"path";import kj from"https";import hj from"http";function aW($,X,Y,Q){let{extrapolateLeft:J,extrapolateRight:q,easing:W}=Q,H=$,[G,_]=X,[j,V]=Y;if(H<G){if(J==="identity")return H;if(J==="clamp")H=G;else if(J==="wrap"){let U=_-G;H=((H-G)%U+U)%U+G}}if(H>_){if(q==="identity")return H;if(q==="clamp")H=_;else if(q==="wrap"){let U=_-G;H=((H-G)%U+U)%U+G}}if(j===V)return j;return H=(H-G)/(_-G),H=W(H),H=H*(V-j)+j,H}function eW($,X){let Y;for(Y=1;Y<X.length-1;++Y)if(X[Y]>=$)break;return Y-1}function $H($){for(let X=1;X<$.length;++X)if(!($[X]>$[X-1]))throw Error(`inputRange must be strictly monotonically increasing but got [${$.join(",")}]`)}function A$($,X){if(X.length<2)throw Error($+" must have at least 2 elements");for(let Y of X){if(typeof Y!=="number")throw Error(`${$} must contain only numbers`);if(!Number.isFinite(Y))throw Error(`${$} must contain only finite numbers, but got [${X.join(",")}]`)}}function XH($,X,Y,Q){if(typeof $>"u")throw Error("input can not be undefined");if(typeof X>"u")throw Error("inputRange can not be undefined");if(typeof Y>"u")throw Error("outputRange can not be undefined");if(X.length!==Y.length)throw Error("inputRange ("+X.length+") and outputRange ("+Y.length+") must have the same length");A$("inputRange",X),A$("outputRange",Y),$H(X);let J=Q?.easing??((G)=>G),q="extend";if(Q?.extrapolateLeft!==void 0)q=Q.extrapolateLeft;let W="extend";if(Q?.extrapolateRight!==void 0)W=Q.extrapolateRight;if(typeof $!=="number")throw TypeError("Cannot interpolate an input which is not a number");let H=eW($,X);return aW($,[X[H],X[H+1]],[Y[H],Y[H+1]],{easing:J,extrapolateLeft:q,extrapolateRight:W})}function L$($){let X=$+1831565813;return X=Math.imul(X^X>>>15,X|1),X^=X+Math.imul(X^X>>>7,X|61),((X^X>>>14)>>>0)/4294967296}function YH($){let X=0,Y=0,Q=0;for(X=0;X<$.length;X++)Y=$.charCodeAt(X),Q=(Q<<5)-Q+Y,Q|=0;return Q}var v$=($,X)=>{if(X!==void 0)throw TypeError("random() takes only one argument");if($===null)return Math.random();if(typeof $==="string")return L$(YH($));if(typeof $==="number")return L$($*10000000000);throw Error("random() argument must be a number or a string")};function QH($){return Boolean($)}if(typeof window<"u"){if(window.remotion_renderReady=!1,!window.remotion_delayRenderTimeouts)window.remotion_delayRenderTimeouts={};window.remotion_delayRenderHandles=[]}var JH="The delayRender was called:",qH="Retries left: ",WH="- Rendering the frame will be retried.",HH="handle was cleared after",L2="remotion-date:",R2="remotion-file:",GH=({data:$,indent:X,staticBase:Y})=>{let Q=!1,J=!1,q=!1,W=!1;try{return{serializedString:JSON.stringify($,function(G,_){let j=this[G];if(j instanceof Date)return Q=!0,`${L2}${j.toISOString()}`;if(j instanceof Map)return q=!0,_;if(j instanceof Set)return W=!0,_;if(typeof j==="string"&&Y!==null&&j.startsWith(Y))return J=!0,`${R2}${j.replace(Y+"/","")}`;return _},X),customDateUsed:Q,customFileUsed:J,mapUsed:q,setUsed:W}}catch(H){throw Error("Could not serialize the passed input props to JSON: "+H.message)}},_H=($)=>{return JSON.parse($,(X,Y)=>{if(typeof Y==="string"&&Y.startsWith(L2))return new Date(Y.replace(L2,""));if(typeof Y==="string"&&Y.startsWith(R2))return`${window.remotion_staticBase}/${Y.replace(R2,"")}`;return Y})},H6="[-+]?\\d*\\.?\\d+",D2=H6+"%";function E2(...$){return"\\(\\s*("+$.join(")\\s*,\\s*(")+")\\s*\\)"}function jH(){let $={rgb:void 0,rgba:void 0,hsl:void 0,hsla:void 0,hex3:void 0,hex4:void 0,hex5:void 0,hex6:void 0,hex8:void 0};if($.rgb===void 0)$.rgb=new RegExp("rgb"+E2(H6,H6,H6)),$.rgba=new RegExp("rgba"+E2(H6,H6,H6,H6)),$.hsl=new RegExp("hsl"+E2(H6,D2,D2)),$.hsla=new RegExp("hsla"+E2(H6,D2,D2,H6)),$.hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,$.hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,$.hex6=/^#([0-9a-fA-F]{6})$/,$.hex8=/^#([0-9a-fA-F]{8})$/;return $}function N3($,X,Y){if(Y<0)Y+=1;if(Y>1)Y-=1;if(Y<0.16666666666666666)return $+(X-$)*6*Y;if(Y<0.5)return X;if(Y<0.6666666666666666)return $+(X-$)*(0.6666666666666666-Y)*6;return $}function R$($,X,Y){let Q=Y<0.5?Y*(1+X):Y+X-Y*X,J=2*Y-Q,q=N3(J,Q,$+0.3333333333333333),W=N3(J,Q,$),H=N3(J,Q,$-0.3333333333333333);return Math.round(q*255)<<24|Math.round(W*255)<<16|Math.round(H*255)<<8}function h1($){let X=Number.parseInt($,10);if(X<0)return 0;if(X>255)return 255;return X}function F$($){return(Number.parseFloat($)%360+360)%360/360}function z$($){let X=Number.parseFloat($);if(X<0)return 0;if(X>1)return 255;return Math.round(X*255)}function A2($){let X=Number.parseFloat($);if(X<0)return 0;if(X>100)return 1;return X/100}var D3={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199};function VH($){let X=jH(),Y;if(X.hex6){if(Y=X.hex6.exec($))return Number.parseInt(Y[1]+"ff",16)>>>0}if(D3[$]!==void 0)return D3[$];if(X.rgb){if(Y=X.rgb.exec($))return(h1(Y[1])<<24|h1(Y[2])<<16|h1(Y[3])<<8|255)>>>0}if(X.rgba){if(Y=X.rgba.exec($))return(h1(Y[1])<<24|h1(Y[2])<<16|h1(Y[3])<<8|z$(Y[4]))>>>0}if(X.hex3){if(Y=X.hex3.exec($))return Number.parseInt(Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]+"ff",16)>>>0}if(X.hex8){if(Y=X.hex8.exec($))return Number.parseInt(Y[1],16)>>>0}if(X.hex4){if(Y=X.hex4.exec($))return Number.parseInt(Y[1]+Y[1]+Y[2]+Y[2]+Y[3]+Y[3]+Y[4]+Y[4],16)>>>0}if(X.hsl){if(Y=X.hsl.exec($))return(R$(F$(Y[1]),A2(Y[2]),A2(Y[3]))|255)>>>0}if(X.hsla){if(Y=X.hsla.exec($))return(R$(F$(Y[1]),A2(Y[2]),A2(Y[3]))|z$(Y[4]))>>>0}throw Error(`invalid color string ${$} provided`)}function KH($){let X=VH($);return(X<<24|X>>>8)>>>0}var UH=["4444-xq","4444","hq","standard","light","proxy"],M3=!1,wH=({allowFloats:$,durationInFrames:X,frame:Y})=>{if(typeof Y>"u")throw TypeError('Argument missing for parameter "frame"');if(typeof Y!=="number")throw TypeError(`Argument passed for "frame" is not a number: ${Y}`);if(!Number.isFinite(Y))throw RangeError(`Frame ${Y} is not finite`);if(Y%1!==0&&!$)throw RangeError(`Argument for frame must be an integer, but got ${Y}`);if(Y<0&&Y<-X)throw RangeError(`Cannot use frame ${Y}: Duration of composition is ${X}, therefore the lowest frame that can be rendered is ${-X}`);if(Y>X-1)throw RangeError(`Cannot use frame ${Y}: Duration of composition is ${X}, therefore the highest frame that can be rendered is ${X-1}`)},I$=["h264","h265","vp8","vp9","mp3","aac","wav","prores","h264-mkv","h264-ts","gif"];function BH($,X,Y){if(typeof $>"u")return;if(typeof $!=="string")throw TypeError(`The "${Y}" prop ${X} must be a string, but you passed a value of type ${typeof $}.`);if(!I$.includes($))throw Error(`The "${Y}" prop ${X} must be one of ${I$.join(", ")}, but you passed ${$}.`)}var OH=($,X,Y)=>{if(!$)return;if(typeof $!=="object")throw Error(`"${X}" must be an object, but you passed a value of type ${typeof $}`);if(Array.isArray($))throw Error(`"${X}" must be an object, an array was passed ${Y?`for composition "${Y}"`:""}`)};function NH($,X,Y){if(typeof $!=="number")throw Error(`The "${X}" prop ${Y} must be a number, but you passed a value of type ${typeof $}`);if(isNaN($))throw TypeError(`The "${X}" prop ${Y} must not be NaN, but is NaN.`);if(!Number.isFinite($))throw TypeError(`The "${X}" prop ${Y} must be finite, but is ${$}.`);if($%1!==0)throw TypeError(`The "${X}" prop ${Y} must be an integer, but is ${$}.`);if($<=0)throw TypeError(`The "${X}" prop ${Y} must be positive, but got ${$}.`)}function MH($,X){let{allowFloats:Y,component:Q}=X;if(typeof $>"u")throw Error(`The "durationInFrames" prop ${Q} is missing.`);if(typeof $!=="number")throw Error(`The "durationInFrames" prop ${Q} must be a number, but you passed a value of type ${typeof $}`);if($<=0)throw TypeError(`The "durationInFrames" prop ${Q} must be positive, but got ${$}.`);if(!Y&&$%1!==0)throw TypeError(`The "durationInFrames" prop ${Q} must be an integer, but got ${$}.`);if(!Number.isFinite($))throw TypeError(`The "durationInFrames" prop ${Q} must be finite, but got ${$}.`)}function DH($,X,Y){if(typeof $!=="number")throw Error(`"fps" must be a number, but you passed a value of type ${typeof $} ${X}`);if(!Number.isFinite($))throw Error(`"fps" must be a finite, but you passed ${$} ${X}`);if(isNaN($))throw Error(`"fps" must not be NaN, but got ${$} ${X}`);if($<=0)throw TypeError(`"fps" must be positive, but got ${$} ${X}`);if(Y&&$>50)throw TypeError("The FPS for a GIF cannot be higher than 50. Use the --every-nth-frame option to lower the FPS: https://remotion.dev/docs/render-as-gif")}var EH=({frame:$,playbackRate:X,startFrom:Y})=>{return XH($,[-1,Y,Y+1],[-1,Y,Y+X])},AH=($)=>{if(typeof window>"u")return $;if($.startsWith("http://")||$.startsWith("https://")||$.startsWith("file://")||$.startsWith("blob:")||$.startsWith("data:"))return $;return new URL($,window.origin).href},LH=({src:$,transparent:X,currentTime:Y,toneMapped:Q})=>{return`http://localhost:${window.remotion_proxyPort}/proxy?src=${encodeURIComponent(AH($))}&time=${encodeURIComponent(Math.max(0,Y))}&transparent=${String(X)}&toneMapped=${String(Q)}`},s={processColor:KH,truthy:QH,validateFps:DH,validateDimension:NH,validateDurationInFrames:MH,validateDefaultAndInputProps:OH,validateFrame:wH,serializeJSONWithSpecialTypes:GH,bundleName:"bundle.js",bundleMapName:"bundle.js.map",deserializeJSONWithSpecialTypes:_H,DELAY_RENDER_CALLSTACK_TOKEN:JH,DELAY_RENDER_RETRY_TOKEN:WH,DELAY_RENDER_CLEAR_TOKEN:HH,DELAY_RENDER_ATTEMPT_TOKEN:qH,getOffthreadVideoSource:LH,getExpectedMediaFrameUncorrected:EH,ENABLE_V5_BREAKING_CHANGES:M3,MIN_NODE_VERSION:M3?18:16,MIN_BUN_VERSION:M3?"1.1.3":"1.0.3",colorNames:D3,DATE_TOKEN:L2,FILE_TOKEN:R2,validateCodec:BH,proResProfileOptions:UH};var XQ=T6(O3(),1);import*as E9 from"child_process";import{join as o2}from"path";import YV,{existsSync as QV}from"fs";import{promises as JV}from"dns";import{URL as qV}from"url";import WV from"ws";import{spawn as UV}from"child_process";import YQ from"path";import i1 from"path";import{accessSync as BV,chmodSync as OV,constants as NV,statSync as MV}from"fs";import{readFileSync as GQ}from"fs";import oX from"path";var FG=P3().SourceMapGenerator,P8=d$().SourceMapConsumer,zG=l$().SourceNode;var wQ=T6(yX(),1),Q7=T6(n1(),1),W7=T6(n1(),1);import uV from"fs";import cV from"os";import dV from"path";import XY from"fs";import*as x0 from"fs";import*as $1 from"os";import*as r0 from"path";import{promisify as pV}from"util";import*as BQ from"fs";import*as OQ from"os";import rV from"fs";import s1 from"path";import qY from"fs";import{execSync as HK}from"child_process";import{cpus as GK}from"os";import{freemem as t2}from"os";import{readFileSync as I9}from"fs";import{existsSync as OK,readFileSync as NK}from"fs";import{existsSync as RK}from"fs";import HY from"path";import GY from"fs";import FK,{extname as zK}from"path";import{extname as vK}from"path";import fK from"path";import{mkdirSync as XU}from"fs";import YU from"path";import{URLSearchParams as QU}from"url";var t3="remotion_buffer:",mX=($)=>{let X=new Uint8Array(t3.length);for(let G=0;G<t3.length;G++)X[G]=t3.charCodeAt(G);let Y=[],Q=new Uint8Array(0),J=null,q=()=>{let G=0;while(!0){let _=Q.indexOf(X[0],G);if(_===-1)return-1;if(Q.subarray(_,_+X.length).toString()!==X.toString()){G=_+1;continue}return _}},W=()=>{let G=q();if(G===-1)return;G+=X.length;let _="",j="",V="";while(!0){if(G>Q.length-1)return;let N=Q[G];if(G++,N===58)break;_+=String.fromCharCode(N)}while(!0){if(G>Q.length-1)return;let N=Q[G];if(G++,N===58)break;j+=String.fromCharCode(N)}while(!0){if(G>Q.length-1)return;let N=Q[G];if(N===58)break;G++,V+=String.fromCharCode(N)}let U=Number(j),B=Number(V),M=Q.length-G-1;if(M<U){J={dataMissing:U-M};return}let O=Q.subarray(G+1,G+1+Number(j));$(B===1?"error":"success",_,O),J=null,Q=Q.subarray(G+Number(j)+1),W()};return{onData:(G)=>{if(Y.push(G),J)J.dataMissing-=G.length;if(J&&J.dataMissing>0)return;let _=new Uint8Array(Q.length+Y.reduce((V,U)=>V+U.length,0));_.set(Q,0);let j=Q.length;for(let V of Y)_.set(V,j),j+=V.length;Q=_,Y=[],W()},getOutputBuffer:()=>Q,clear:()=>{Y=[],Q=new Uint8Array(0)}}};var G7=T6(n1(),1);import{spawn as JU}from"child_process";import qU from"path";import UY,{mkdirSync as VU}from"fs";import KU from"os";import UU from"path";import J4,{writeSync as o0}from"fs";import BU from"path";import MU from"path";import AU from"http";import LU from"net";import IU from"os";import{createReadStream as ZU,promises as T4}from"fs";import L1 from"path";import hQ from"path";import DY from"fs";import qw from"path";import{rmSync as tQ,writeFileSync as aQ}from"fs";import{join as eQ}from"path";import Fw from"path";import*as G9 from"assert";import Iw from"fs";function Hj($){if($.message.includes("Failed to fetch")||$.message.includes("Load failed")||$.message.includes("NetworkError when attempting to fetch resource"))return!0;return!1}var Gj="https://www.remotion.pro",_j=3,jj=($)=>{return 1000*2**($-1)},Vj=($)=>{return new Promise((X)=>{setTimeout(X,$)})},Kj=async({host:$,succeeded:X,event:Y,isStill:Q,isProduction:J,licenseKey:q})=>{let W,H=_j+1;for(let G=1;G<=H;G++){let _=new AbortController,j=setTimeout(()=>{_.abort()},1e4);try{let V=await fetch(`${Gj}/api/track/register-usage-point`,{method:"POST",body:JSON.stringify({event:Y,apiKey:q,host:$,succeeded:X,isStill:Q,isProduction:J}),headers:{"Content-Type":"application/json"},signal:_.signal});clearTimeout(j);let U=await V.json();if(U.success)return{billable:U.billable,classification:U.classification};if(!V.ok)throw Error(U.error);throw Error(`Unexpected response from server: ${JSON.stringify(U)}`)}catch(V){clearTimeout(j);let U=V,B=U.name==="AbortError";if(!(Hj(U)||B))throw V;if(W=B?Error("Request timed out after 10 seconds"):U,G<H){let O=jj(G);console.log(`Failed to send usage event (attempt ${G}/${H}), retrying in ${O}ms...`,V),await Vj(O)}}}throw W};var s2={internalRegisterUsageEvent:Kj};import V4 from"fs";import kw from"os";import q9 from"path";var E7=T6(n1(),1),A7=T6(n1(),1);import{cpSync as AY,promises as LY,rmSync as aw}from"fs";import K4 from"path";import U4 from"path";import ew from"url";import{cpSync as qB}from"fs";import HB from"path";import B4,{existsSync as jB}from"fs";import VB from"path";import hB,{statSync as fB}from"fs";import yB from"path";import{rmSync as vY}from"fs";import{join as PY}from"path";import{rmSync as iB,writeFileSync as sB}from"fs";import{join as oB}from"path";var wj=Object.defineProperty,Bj=($,X)=>{for(var Y in X)wj($,Y,{get:X[Y],enumerable:!0,configurable:!0,set:(Q)=>X[Y]=()=>Q})},D1=Uj(import.meta.url),d8=($)=>{let X=Nj.dirname($);if(!uX.existsSync(X))uX.mkdirSync(X,{recursive:!0})},c4=()=>{let $=process.env||{};if("NO_COLOR"in $)return!1;if("FORCE_COLOR"in $)return!0;let Q=process.platform==="win32",J=Mj?.isatty?.(1)&&$.TERM&&$.TERM!=="dumb",q="CI"in $&&(("GITHUB_ACTIONS"in $)||("GITLAB_CI"in $)||("CIRCLECI"in $));return Q||J||q},y=(()=>{let $={enabled:()=>c4(),visible:!0,styles:{},keys:{}},X=(q)=>{let W=`\x1B[${q.codes[0]}m`,H=`\x1B[${q.codes[1]}m`,G=new RegExp(`\\u001b\\[${q.codes[1]}m`,"g");return q.wrap=(_,j)=>{if(_.includes(H))_=_.replace(G,H+W);let V=W+_+H;return j?V.replace(/\r*\n/g,`${H}$&${W}`):V},q},Y=(q,W,H)=>{return q.wrap?.(W,H)},Q=(q,W)=>{if(q===""||q===null||q===void 0)return"";if($.enabled()===!1)return q;if($.visible===!1)return"";let H=String(q),G=H.includes(`
`),_=W.length;while(_-- >0)H=Y($.styles[W[_]],H,G);return H},J=(q,W,H)=>{$.styles[q]=X({name:q,codes:W}),($.keys[H]||($.keys[H]=[])).push(q),Reflect.defineProperty($,q,{configurable:!0,enumerable:!0,set(_){$.alias?.(q,_)},get(){let _=(j)=>Q(j,_.stack);return Reflect.setPrototypeOf(_,$),_.stack=this.stack?this.stack.concat(q):[q],_}})};return J("reset",[0,0],"modifier"),J("bold",[1,22],"modifier"),J("dim",[2,22],"modifier"),J("italic",[3,23],"modifier"),J("underline",[4,24],"modifier"),J("inverse",[7,27],"modifier"),J("hidden",[8,28],"modifier"),J("strikethrough",[9,29],"modifier"),J("black",[30,39],"color"),J("red",[31,39],"color"),J("green",[32,39],"color"),J("yellow",[33,39],"color"),J("blue",[34,39],"color"),J("magenta",[35,39],"color"),J("cyan",[36,39],"color"),J("white",[37,39],"color"),J("gray",[90,39],"color"),J("grey",[90,39],"color"),J("bgBlack",[40,49],"bg"),J("bgRed",[41,49],"bg"),J("bgGreen",[42,49],"bg"),J("bgYellow",[43,49],"bg"),J("bgBlue",[44,49],"bg"),J("bgMagenta",[45,49],"bg"),J("bgWhite",[47,49],"bg"),J("blackBright",[90,39],"bright"),J("redBright",[91,39],"bright"),J("greenBright",[92,39],"bright"),J("yellowBright",[93,39],"bright"),J("blueBright",[94,39],"bright"),J("magentaBright",[95,39],"bright"),J("whiteBright",[97,39],"bright"),J("bgBlackBright",[100,49],"bgBright"),J("bgRedBright",[101,49],"bgBright"),J("bgGreenBright",[102,49],"bgBright"),J("bgYellowBright",[103,49],"bgBright"),J("bgBlueBright",[104,49],"bgBright"),J("bgMagentaBright",[105,49],"bgBright"),J("bgWhiteBright",[107,49],"bgBright"),$.alias=(q,W)=>{let H=$[W];if(typeof H!=="function")throw TypeError("Expected alias to be the name of an existing color (string) or a function");if(!H.stack)Reflect.defineProperty(H,"name",{value:q}),$.styles[q]=H,H.stack=[q];Reflect.defineProperty($,q,{configurable:!0,enumerable:!0,set(G){$.alias?.(q,G)},get(){let G=(_)=>Q(_,G.stack);return Reflect.setPrototypeOf(G,$),G.stack=this.stack?this.stack.concat(H.stack):H.stack,G}})},$})(),TY=["trace","verbose","info","warn","error"],O4=($)=>{return TY.indexOf($)},Dj=($)=>{return O4($)>-1},t6=($,X)=>{return O4($)<=O4(X)},Rj=5,Fj=()=>{let $=process.cwd(),X="";for(let Y=0;Y<Rj;Y++){if(X=N4.join($,"package.json"),Lj.existsSync(X))return X;$=N4.dirname($)}return null},Y1=()=>{let $=Fj();if($===null)return process.cwd();return N4.dirname($)},l8=($)=>{if(typeof $>"u")throw Error("serveUrl is undefined");if($.startsWith("www.")||$.includes("amazonaws.com"))return!0;return $.startsWith("https://")||$.startsWith("http://")},zj=".remotionrepro",Ij="logs.txt",vj="bundle",Pj="output",xj=`
`,Tj=($)=>`remotion-repro-${$}-${Date.now()}.zip`,a3=($)=>{let X;try{X=a6.readdirSync($)}catch{return a6.mkdirSync($,{recursive:!0})}X.forEach((Y)=>{Y=L6.join($,Y),a6.rmSync(Y,{recursive:!0,force:!0})})},bj=({sourceFolder:$,targetZip:X,indent:Y,logLevel:Q})=>{let J=Aj.platform();try{if(D.info({indent:Y,logLevel:Q},"+ Creating reproduction ZIP"),J==="win32")cX(`powershell.exe Compress-Archive -Path "${$}" -DestinationPath "${X}"`);else cX(`zip -r "${X}" "${$}"`);Ej($,{recursive:!0}),D.info({indent:Y,logLevel:Q},`${y.blue(`+ Repro: ${X}`)}`)}catch(q){D.error({indent:Y,logLevel:Q},`Failed to zip repro folder, The repro folder is ${$}. You can try manually zip it.`),D.error({indent:Y,logLevel:Q},q)}},Zj=($)=>{let X=Y1(),Y=L6.join(X,zj),Q=L6.join(Y,Ij),J=L6.join(X,Tj($));a3(Y);let q=a6.createWriteStream(Q,{flags:"a"}),W=(j)=>JSON.stringify(j),H=(j,...V)=>{if(!V.length)return;let B=`[${new Date().toISOString()}] ${j} ${W(V)}`;q.write(B+xj)};return{start:({serveUrl:j,serializedInputPropsWithCustomSchema:V,serializedResolvedPropsWithCustomSchema:U})=>{if(!l8(j)){let N=L6.resolve(Y,vj);a3(N),a6.cpSync(j,N,{recursive:!0})}let M=L6.resolve(Y,"input-props.json");a6.writeFileSync(M,V);let O=L6.resolve(Y,"resolved-props.json");a6.writeFileSync(O,U),H("info",[`Args: ${JSON.stringify(process.argv)}`]),H("info",[`Node/Bun version: ${process.version}`]),H("info",[`OS: ${process.platform}-${process.arch}`]),H("info",[`Serve URL: ${j}`]),H("info",[`Remotion version: ${u0}`])},writeLine:H,onRenderSucceed:({indent:j,logLevel:V,output:U})=>{return new Promise((B,M)=>{try{if(U){let O=L6.resolve(Y,Pj);a3(O);let N=L6.basename(U),A=L6.join(O,N);a6.copyFileSync(U,A)}bY(),q.end(()=>{q.close(()=>{bj({sourceFolder:Y,targetZip:J,indent:j,logLevel:V}),B()})})}catch(O){D.error({indent:!1,logLevel:V},"repro render success error:"),D.error({indent:!1,logLevel:V},O),M(O)}})}}},M4=null,d4=()=>{if(!M4)throw Error("reproWriteInstance is not initialized");return M4},S8=($,...X)=>{if(ZY())d4().writeLine($,...X)},l4=!1,Cj=({serveUrl:$,compositionName:X,serializedInputPropsWithCustomSchema:Y,serializedResolvedPropsWithCustomSchema:Q})=>{l4=!0,M4=Zj(X),d4().start({serveUrl:$,serializedInputPropsWithCustomSchema:Y,serializedResolvedPropsWithCustomSchema:Q})},bY=()=>{l4=!1},ZY=()=>l4;function A0($){return Boolean($)}var CY=y.gray("\u2502"),Sj=($)=>{return c4()?y.bgBlack(` ${$} `):`[${$}]`},D={formatLogs:($,X,Y)=>{return[X.indent?CY:null,X.tag?Sj(X.tag):null].filter(A0).concat(Y.map((Q)=>{if($==="warn")return y.yellow(Q);if($==="error")return y.red(Q);if($==="verbose"||$==="trace")return y.gray(Q);return Q}))},trace:($,...X)=>{if(S8("trace",...X),t6($.logLevel,"trace")){if(X.length===0)return process.stdout.write(`
`);return console.log(...D.formatLogs("trace",$,X))}},verbose:($,...X)=>{if(S8("verbose",...X),t6($.logLevel,"verbose")){if(X.length===0)return process.stdout.write(`
`);return console.log(...D.formatLogs("verbose",$,X))}},info:($,...X)=>{if(S8("info",...X),t6($.logLevel,"info")){if(X.length===0)return process.stdout.write(`
`);return console.log(...D.formatLogs("info",$,X))}},warn:($,...X)=>{if(S8("warn",...X),t6($.logLevel,"warn")){if(X.length===0)return process.stdout.write(`
`);return console.warn(...D.formatLogs("warn",$,X))}},error:($,...X)=>{if(S8("error",...X),t6($.logLevel,"error")){if(X.length===0)return process.stdout.write(`
`);return console.error(...D.formatLogs("error",$,X))}}},SY=[301,302,303,307,308],fj=($)=>{if($.startsWith("https://"))return kj.get;if($.startsWith("http://"))return hj.get;throw Error(`Can only download URLs starting with http:// or https://, got "${$}"`)},yj=($)=>{return new Promise((X,Y)=>{let J=fj($)($,typeof Bun>"u"?{headers:{"user-agent":"Mozilla/5.0 (@remotion/renderer - https://remotion.dev)"}}:{},(q)=>{X({request:J,response:q})});J.on("error",(q)=>{return J.destroy(),Y(q)})})},p4=async($,X=0)=>{if(X>10)throw Error(`Too many redirects while downloading ${$}`);let{request:Y,response:Q}=await yj($);if(SY.includes(Q.statusCode)){if(!Q.headers.location)throw Error(`Received a status code ${Q.statusCode} but no "Location" header while calling ${Q.headers.location}`);let{origin:J}=new URL($),q=new URL(Q.headers.location,J).toString();return Y.destroy(),Q.destroy(),p4(q,X+1)}if(Q.statusCode>=400){let J=await gj(Q);throw Y.destroy(),Q.destroy(),Error([`Received a status code of ${Q.statusCode} while downloading file ${$}.`,J?"The response body was:":null,J?"---":null,J?J:null,J?"---":null].filter(A0).join(`
`))}return{request:Y,response:Q}},gj=async($)=>{let X=new Promise((J)=>{let q="";$.on("data",(W)=>{q+=W}),$.on("end",()=>{J(q)}),$.on("error",()=>J(q))}),Y=null,Q=await Promise.race([X,new Promise((J)=>{Y=setTimeout(()=>{J(null)},5000)})]);if(Y)clearTimeout(Y);return Q},kY="cancelled",hY="Download finished with",mj=({onProgress:$,url:X,to:Y,abortSignal:Q})=>{return new Promise((J,q)=>{let W=!1,H=!1,G,_=(O)=>{if(Q.removeEventListener("abort",M),H=!0,J(O),G)clearTimeout(G)},j=(O)=>{if(Q.removeEventListener("abort",M),G)clearTimeout(G);q(O),W=!0},V=()=>{if(G)clearTimeout(G);G=setTimeout(()=>{if(H)return;j(Error(`Tried to download file ${X}, but the server sent no data for 20 seconds`))},20000)};V();let U=!1,B=()=>{return},M=()=>{j(Error(kY)),B()};Q.addEventListener("abort",M),p4(X).then(({response:O,request:N})=>{if(B=()=>{N.destroy(),O.destroy()},Q.aborted){M();return}let A=O.headers["content-disposition"]??null,R=O.headers["content-type"]??null,L=Y(A,R);d8(L);let v=O.headers["content-length"],F=typeof v>"u"?null:Number(v),I=Oj(L),P=0;I.on("close",()=>{if(W)return;if(!U)$?.({downloaded:P,percent:1,totalSize:P});return V(),_({sizeInBytes:P,to:L})}),I.on("error",(x)=>j(x)),O.on("error",(x)=>{B(),j(x)}),O.pipe(I).on("error",(x)=>j(x)),O.on("data",(x)=>{V(),P+=x.length,V();let S=F===null?null:P/F;if($?.({downloaded:P,percent:S,totalSize:F}),S===1)U=!0}),O.on("close",()=>{if(F!==null&&P!==F)j(Error(`${hY} ${P} bytes, but expected ${F} bytes from 'Content-Length'.`));I.close(),B()})}).catch((O)=>{j(O)})})},O9=async($,X=2,Y=1)=>{try{return await mj($)}catch(Q){let{message:J}=Q;if(J===kY)throw Q;if(J==="aborted"||J.includes("ECONNRESET")||J.includes(hY)||J.includes("503")||J.includes("502")||J.includes("504")||J.includes("500")){if(X===0)throw Q;D.warn({indent:$.indent,logLevel:$.logLevel},`Downloading ${$.url} failed (will retry): ${J}`);let q=(Y+1)**2;return await new Promise((W)=>{setTimeout(()=>W(),q*1000)}),O9($,X-1,Y+1)}throw Q}},N9="chrome",h0=($,X)=>{if(!$)throw Error(X)},uj=($)=>{if($.preview)return cj($.preview);if($.type==="string"){if($.value.includes(s.DELAY_RENDER_CLEAR_TOKEN))return y.gray(`${$.value}`);return`${$.value}`}if($.type==="number")return y.yellow(`${$.value}`);if($.type==="bigint")return y.yellow(`${$.description}`);if($.type==="boolean")return y.yellow(`${$.value}`);if($.type==="function")return y.cyan(String($.description));if($.type==="object"){if($.subtype==="null")return"null";return y.reset("Object")}if($.type==="symbol")return y.green(`${$.description}`);if($.type==="undefined")return y.gray("undefined");throw Error("unhandled remote object")},cj=($)=>{if(typeof $>"u")return"";if($.type==="object"){if($.subtype==="date")return y.reset(`Date { ${y.magenta(String($.description))} }`);let X=$.properties.map((Y)=>{return y.reset(`${Y.name}: ${e3(Y)}`)});if($.subtype==="array"){if($.overflow)return y.reset(`[ ${$.properties.map((Y)=>e3(Y)).join(", ")}, \u2026]`);return y.reset(`[ ${$.properties.map((Y)=>e3(Y)).join(", ")} ]`)}if($.subtype==="arraybuffer")return y.reset(String($.description));if($.subtype==="dataview")return y.reset(String($.description));if($.subtype==="generator")return y.reset(String($.description));if($.subtype==="iterator")return y.reset(String($.description));if($.subtype==="map")return y.reset(String($.description));if($.subtype==="node")return y.magenta(`<${$.description}>`);if($.subtype==="null")return y.white(String($.description));if($.subtype==="promise")return y.reset(String($.description));if($.subtype==="proxy")return y.reset(String($.description));if($.subtype==="regexp")return y.red(String($.description));if($.subtype==="set")return y.reset(String($.description));if($.subtype==="typedarray")return y.reset(String($.description));if($.subtype==="error")return y.reset(String($.description));if($.subtype==="wasmvalue")return y.reset(String($.description));if($.subtype==="weakmap")return y.reset(String($.description));if($.subtype==="weakset")return y.reset(String($.description));if($.subtype==="webassemblymemory")return y.reset(String($.description));if(X.length===0)return y.reset("{}");if($.overflow)return y.reset(`{ ${X.join(", ")}, \u2026}`);return y.reset(`{ ${X.join(", ")} }`)}return""},e3=($)=>{if($.type==="string")return y.green(`"${$.value}"`);if($.type==="object"){if(!$.subtype&&$.value==="Object")return y.reset("{\u2026}");if($.subtype==="date")return y.reset(`Date { ${y.magenta(String($.value))} }`);if($.subtype==="arraybuffer")return y.reset(`${$.value}`);if($.subtype==="array")return y.reset(`${$.value}`);if($.subtype==="dataview")return y.reset(`${$.value}`);if($.subtype==="error")return y.reset(`${$.value}`);if($.subtype==="generator")return y.reset(`[generator ${$.value}]`);if($.subtype==="iterator")return y.reset(`${$.value}`);if($.subtype==="map")return y.reset(`${$.value}`);if($.subtype==="node")return y.reset(`${$.value}`);if($.subtype==="null")return y.white(`${$.value}`);if($.subtype==="promise")return y.reset(`${$.value}`);if($.subtype==="proxy")return y.reset(`${$.value}`);if($.subtype==="regexp")return y.reset(`${$.value}`);if($.subtype==="set")return y.reset(`${$.value}`);if($.subtype==="typedarray")return y.reset(`${$.value}`);if($.subtype==="wasmvalue")return y.reset(`${$.value}`);if($.subtype==="webassemblymemory")return y.reset(`${$.value}`);if($.subtype==="weakmap")return y.reset(`${$.value}`);if($.subtype==="weakset")return y.reset(`${$.value}`);return y.reset(`${$.value}`)}if($.type==="accessor")return y.gray("get()");if($.type==="bigint")return y.yellow(`${$.value}`);if($.type==="boolean")return y.yellow(`${$.value}`);if($.type==="function")return y.cyan("Function");if($.type==="number")return y.yellow(`${$.value}`);if($.type==="symbol")return y.green(`${$.value}`);if($.type==="undefined")return y.gray("undefined");throw Error("unexpected property type "+JSON.stringify($))};class D4{type;text;args;previewString;#$;logLevel;tag;constructor({type:$,text:X,args:Y,stackTraceLocations:Q,previewString:J,logLevel:q,tag:W}){this.type=$,this.text=X,this.args=Y,this.previewString=J,this.#$=Q,this.logLevel=q,this.tag=W}stackTrace(){return this.#$}}function dj($){return $=$||new Map,{all:$,on:(X,Y)=>{if(!$?.get(X)?.push(Y))$?.set(X,[Y])},off:(X,Y)=>{let Q=$?.get(X);if(Q)Q.splice(Q.indexOf(Y)>>>0,1)},emit:(X,Y)=>{($?.get(X)||[]).slice().forEach((Q)=>{Q(Y)}),($?.get("*")||[]).slice().forEach((Q)=>{Q(X,Y)})}}}class Q1{emitter;eventsMap=new Map;constructor(){this.emitter=dj(this.eventsMap)}on($,X){return this.emitter.on($,X),this}off($,X){return this.emitter.off($,X),this}addListener($,X){return this.on($,X),this}emit($,X){return this.emitter.emit($,X),this.eventListenersCount($)>0}once($,X){let Y=(Q)=>{X(Q),this.off($,Y)};return this.on($,Y)}listenerCount($){return this.eventListenersCount($)}removeAllListeners($){if($)this.eventsMap.delete($);else this.eventsMap.clear();return this}eventListenersCount($){return this.eventsMap.get($)?.length||0}}class n4 extends Error{constructor($){super($);this.name=this.constructor.name,Error.captureStackTrace(this,this.constructor)}}class p8 extends n4{}class M9 extends n4{code;originalMessage=""}var lj={Disconnected:Symbol("Connection.Disconnected")};class i4 extends Q1{transport;#$=0;#Y=new Map;#X=!1;#Q=new Map;constructor($){super();this.transport=$,this.transport.onmessage=this.#J.bind(this),this.transport.onclose=this.#W.bind(this)}static fromSession($){return $.connection()}session($){return this.#Y.get($)||null}send($,...X){let Y=X.length?X[0]:void 0,Q=this._rawSend({method:$,params:Y});return new Promise((J,q)=>{this.#Q.set(Q,{resolve:J,reject:q,method:$,returnSize:!0,stack:Error().stack??"",fn:$+JSON.stringify(Y)})})}_rawSend($){let X=++this.#$,Y=JSON.stringify({...$,id:X});return this.transport.send(Y),X}#J($){let X=JSON.parse($);if(X.method==="Target.attachedToTarget"){let{sessionId:Y}=X.params,Q=new yY(this,X.params.targetInfo.type,Y);this.#Y.set(Y,Q),this.emit("sessionattached",Q);let J=this.#Y.get(X.sessionId);if(J)J.emit("sessionattached",Q)}else if(X.method==="Target.detachedFromTarget"){let Y=this.#Y.get(X.params.sessionId);if(Y){Y._onClosed(),this.#Y.delete(X.params.sessionId),this.emit("sessiondetached",Y);let Q=this.#Y.get(X.sessionId);if(Q)Q.emit("sessiondetached",Y)}}if(X.sessionId){let Y=this.#Y.get(X.sessionId);if(Y)Y._onMessage(X,$.length)}else if(X.id){let Y=this.#Q.get(X.id);if(Y)if(this.#Q.delete(X.id),X.error)Y.reject(gY(Y.method,X));else if(Y.returnSize)Y.resolve({value:X.result,size:$.length});else Y.resolve(X.result)}else this.emit(X.method,X.params)}#W(){if(this.#X)return;this.transport.onmessage=void 0,this.transport.onclose=void 0;for(let $ of this.#Q.values())$.reject(s4(new M9,`Protocol error (${$.method}): Target closed. https://www.remotion.dev/docs/target-closed`));this.#Q.clear();for(let $ of this.#Y.values())$._onClosed();this.#Y.clear(),this.emit(lj.Disconnected)}dispose(){this.#W(),this.transport.close()}async createSession($){let{value:{sessionId:X}}=await this.send("Target.attachToTarget",{targetId:$.targetId,flatten:!0}),Y=this.#Y.get(X);if(!Y)throw Error("CDPSession creation failed.");return Y}}var fY={Disconnected:Symbol("CDPSession.Disconnected")};class yY extends Q1{#$;#Y;#X=new Map;#Q;constructor($,X,Y){super();this.#Q=$,this.#Y=X,this.#$=Y}connection(){return this.#Q}send($,...X){if(!this.#Q)return Promise.reject(Error(`Protocol error (${$}): Session closed. Most likely the ${this.#Y} has been closed.`));let Y=X.length?X[0]:void 0,Q=this.#Q._rawSend({sessionId:this.#$,method:$,params:Y});return new Promise((J,q)=>{if(this.#X.size>100){for(let W of this.#X.values())D.info({indent:!1,logLevel:"info"},W.fn);throw Error("Leak detected: Too many callbacks")}this.#X.set(Q,{resolve:J,reject:q,method:$,returnSize:!0,stack:Error().stack??"",fn:$+JSON.stringify(Y)})})}_onMessage($,X){let Y=$.id?this.#X.get($.id):void 0;if($.id&&Y)if(this.#X.delete($.id),$.error)Y.reject(gY(Y.method,$));else if(Y.returnSize)Y.resolve({value:$.result,size:X});else Y.resolve($.result);else this.emit($.method,$.params)}_onClosed(){this.#Q=void 0;for(let $ of this.#X.values())$.reject(s4(new M9,`Protocol error (${$.method}): Target closed. https://www.remotion.dev/docs/target-closed`));this.#X.clear(),this.emit(fY.Disconnected)}id(){return this.#$}}function gY($,X){let Y=`Protocol error (${$}): ${X.error.message}`;if("data"in X.error)Y+=` ${X.error.data}`;return s4(new M9,Y,X.error.message)}function s4($,X,Y){return $.message=X,$.originalMessage=Y??$.originalMessage,$}function dX($){if($.exception)return $.exception.description||$.exception.value;let X=$.text;if($.stackTrace)for(let Y of $.stackTrace.callFrames){let Q=Y.url+":"+Y.lineNumber+":"+Y.columnNumber,J=Y.functionName||"<anonymous>";X+=`
    at ${J} (${Q})`}return X}function _9($){if(h0(!$.objectId,"Cannot extract value when objectId is given"),$.unserializableValue){if($.type==="bigint"&&typeof BigInt<"u")return BigInt($.unserializableValue.replace("n",""));switch($.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw Error("Unsupported unserializable value: "+$.unserializableValue)}}return $.value}async function mY($,X){if(!X.objectId)return;await $.send("Runtime.releaseObject",{objectId:X.objectId}).catch(()=>{})}function X6($,X,Y){return $.on(X,Y),()=>$.off(X,Y)}function j9($){for(let X of $)X();$.length=0}var o4=($)=>{return typeof $==="string"||$ instanceof String};function D9($,...X){if(o4($))return h0(X.length===0,"Cannot evaluate a string with arguments"),$;function Y(Q){if(Object.is(Q,void 0))return"undefined";return JSON.stringify(Q)}return`(${$})(${X.map(Y).join(",")})`}function pj($,X,Y){function Q(J,q,W){window[J].callbacks.get(q).resolve(W),window[J].callbacks.delete(q)}return D9(Q,$,X,Y)}function nj($,X,Y,Q){function J(q,W,H,G){let _=Error(H);_.stack=G,window[q].callbacks.get(W).reject(_),window[q].callbacks.delete(W)}return D9(J,$,X,Y,Q)}function ij($,X,Y){function Q(J,q,W){window[J].callbacks.get(q).reject(W),window[J].callbacks.delete(q)}return D9(Q,$,X,Y)}async function sj($,X,Y,Q){let J,q=new p8(`waiting for ${X} failed: timeout ${Y}ms exceeded`),W=new Promise((G,_)=>{J=_}),H=null;if(Y)H=setTimeout(()=>{return J(q)},Y);try{return await Promise.race([new Promise((G,_)=>{Q.once("closed",()=>{return _()})}),$,W])}finally{if(H)clearTimeout(H)}}function u8($){return typeof $==="object"&&$!==null&&"name"in $&&"message"in $}function oj($){return u8($)&&(("errno"in $)||("code"in $)||("path"in $)||("syscall"in $))}class E4{#$;#Y=null;#X=null;#Q=!1;#J=new Set;get _waitTasks(){return this.#J}constructor($){this.#$=$,this._setContext(null)}frame(){return this.#$}_setContext($){if($){h0(this.#X,"Execution Context has already been set."),this.#X?.call(null,$),this.#X=null;for(let X of this._waitTasks)X.rerun()}else this.#Y=new Promise((X)=>{this.#X=X})}_hasContext(){return!this.#X}_detach(){this.#Q=!0;for(let $ of this._waitTasks)$.terminate(Error("waitForFunction failed: frame got detached."))}executionContext(){if(this.#Q)throw Error(`Execution context is not available in detached frame "${this.#$.url()}" (are you trying to evaluate?)`);if(this.#Y===null)throw Error("Execution content promise is missing");return this.#Y}async evaluateHandle($,...X){return(await this.executionContext()).evaluateHandle($,...X)}async evaluate($,...X){return(await this.executionContext()).evaluate($,...X)}waitForFunction({browser:$,timeout:X,pageFunction:Y,title:Q}){return new uY({domWorld:this,predicateBody:Y,title:Q,timeout:X,args:[],browser:$})}}var lX=()=>{return};class uY{#$;#Y;#X;#Q;#J=0;#W=lX;#q=lX;#_;#H=!1;#G;promise;constructor($){function X(Y){if(o4(Y))return`return (${Y});`;return`return (${Y})(...args);`}if(this.#$=$.domWorld,this.#Y=$.timeout,this.#X=X($.predicateBody),this.#Q=$.args,this.#J=0,this.#$._waitTasks.add(this),this.promise=new Promise((Y,Q)=>{this.#W=Y,this.#q=Q}),$.timeout){let Y=new p8(`waiting for ${$.title} failed: timeout ${$.timeout}ms exceeded`);this.#_=setTimeout(()=>{return this.#q(Y)},$.timeout)}this.#G=$.browser,this.#G.on("closed",this.onBrowserClose),this.#G.on("closed-silent",this.onBrowserCloseSilent),this.rerun()}onBrowserClose=()=>{return this.terminate(Error("Browser was closed"))};onBrowserCloseSilent=()=>{return this.terminate(null)};terminate($){if(this.#H=!0,$)this.#q($);this.#j()}async rerun(){let $=++this.#J,X=null,Y=null,Q=await this.#$.executionContext();if(this.#H||$!==this.#J)return;if(this.#H||$!==this.#J)return;try{X=await Q.evaluateHandle(rj,this.#X,this.#Y,...this.#Q)}catch(J){Y=J}if(this.#H||$!==this.#J){if(X)await X.dispose();return}if(!Y&&await this.#$.evaluate((J)=>{return!J},X).catch(()=>{return!0})){if(!X)throw Error("Assertion: result handle is not available");await X.dispose();return}if(Y){if(Y.message.includes("TypeError: binding is not a function"))return this.rerun();if(Y.message.includes("Execution context is not available in detached frame")){this.terminate(Error("waitForFunction failed: frame got detached."));return}if(Y.message.includes("Execution context was destroyed"))return;if(Y.message.includes("Cannot find context with specified id"))return;this.#q(Y)}else{if(!X)throw Error("Assertion: result handle is not available");this.#W(X)}this.#j()}#j(){if(this.#_!==void 0)clearTimeout(this.#_);if(this.#G.off("closed",this.onBrowserClose),this.#G.off("closed-silent",this.onBrowserCloseSilent),this.#$._waitTasks.size>100)throw Error("Leak detected: Too many WaitTasks");this.#$._waitTasks.delete(this)}}function rj($,X,...Y){let Q=Function("...args",$),J=!1;if(X)setTimeout(()=>{J=!0},X);return new Promise((q)=>{async function W(){if(J){q(void 0);return}let H=await Q(...Y);if(H)q(H);else requestAnimationFrame(W)}W()})}function A4($,X){let Y=$.frame();if(X.subtype==="node"&&Y)return new cY($,$._client,X);return new n8($,$._client,X)}class n8{#$;#Y=!1;#X;#Q;get _disposed(){return this.#Y}get _remoteObject(){return this.#Q}get _context(){return this.#X}constructor($,X,Y){this.#X=$,this.#$=X,this.#Q=Y}executionContext(){return this.#X}evaluateHandle($,...X){return this.executionContext().evaluateHandle($,this,...X)}asElement(){return null}async dispose(){if(this.#Y)return;this.#Y=!0,await mY(this.#$,this.#Q)}toString(){if(this.#Q.objectId)return"JSHandle@"+(this.#Q.subtype||this.#Q.type);return _9(this.#Q)}}class cY extends n8{asElement(){return this}}var dY="pptr://__puppeteer_evaluation_script__",tj=/^[\x20\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/m;class lY{_client;_world;_contextId;_contextName;constructor($,X,Y){this._client=$,this._world=Y,this._contextId=X.id,this._contextName=X.name}frame(){return this._world?this._world.frame():null}evaluate($,...X){return this.#$(!0,$,...X)}evaluateHandle($,...X){return this.#$(!1,$,...X)}async#$($,X,...Y){let Q=`//# sourceURL=${dY}`;if(o4(X)){let j=this._contextId,V=X,U=tj.test(V)?V:V+`
`+Q,{value:{exceptionDetails:B,result:M}}=await this._client.send("Runtime.evaluate",{expression:U,contextId:j,returnByValue:$,awaitPromise:!0,userGesture:!0}).catch(_);if(B)throw Error("Evaluation failed: "+dX(B));return $?_9(M):A4(this,M)}if(typeof X!=="function")throw Error(`Expected to get |string| or |function| as the first argument, but got "${X}" instead.`);let J=X.toString();try{Function("("+J+")")}catch(j){if(J.startsWith("async "))J="async function "+J.substring(6);else J="function "+J;try{Function("("+J+")")}catch(V){throw Error("Passed function is not well-serializable!")}}let q;try{q=this._client.send("Runtime.callFunctionOn",{functionDeclaration:J+`
`+Q+`
`,executionContextId:this._contextId,arguments:Y.map(G.bind(this)),returnByValue:$,awaitPromise:!0,userGesture:!0})}catch(j){if(j instanceof TypeError&&j.message.startsWith("Converting circular structure to JSON"))j.message+=" Recursive objects are not allowed.";throw j}let{value:{exceptionDetails:W,result:H}}=await q.catch(_);if(W)throw Error("Evaluation failed: "+dX(W));return $?_9(H):A4(this,H);function G(j){if(typeof j==="bigint")return{unserializableValue:`${j.toString()}n`};if(Object.is(j,-0))return{unserializableValue:"-0"};if(Object.is(j,1/0))return{unserializableValue:"Infinity"};if(Object.is(j,-1/0))return{unserializableValue:"-Infinity"};if(Object.is(j,NaN))return{unserializableValue:"NaN"};let V=j&&j instanceof n8?j:null;if(V){if(V._context!==this)throw Error("JSHandles can be evaluated only in the context they were created!");if(V._disposed)throw Error("JSHandle is disposed!");if(V._remoteObject.unserializableValue)return{unserializableValue:V._remoteObject.unserializableValue};if(!V._remoteObject.objectId)return{value:V._remoteObject.value};return{objectId:V._remoteObject.objectId}}return{value:j}}function _(j){if(j.message.includes("Object reference chain is too long"))return{value:{result:{type:"undefined"}},size:1};if(j.message.includes("Object couldn't be returned by value"))return{value:{result:{type:"undefined"}},size:1};if(j.message.endsWith("Cannot find context with specified id")||j.message.endsWith("Inspected target navigated or closed"))throw Error("Execution context was destroyed, most likely because of a navigation.");throw j}}}var aj=({extraInfo:$,logLevel:X,indent:Y,request:Q,event:J})=>{let q=$[0]??null;if(D.warn({indent:Y,logLevel:X},`Browser failed to load ${Q._url} (${J.type}): ${J.errorText}`),q)D.warn({indent:Y,logLevel:X},`HTTP status code: ${q.statusCode}, headers:`),D.warn({indent:Y,logLevel:X},JSON.stringify(q.headers,null,2));if(J.errorText==="net::ERR_FAILED"&&J.type==="Fetch"&&Q._url?.includes("/proxy"))D.warn({indent:Y,logLevel:X},"This could be caused by Chrome rejecting the request because the disk space is low."),D.warn({indent:Y,logLevel:X},"This could be caused by Chrome rejecting the request because the disk space is low."),D.warn({indent:Y,logLevel:X},"Consider increasing the disk size of your Lambda function.")};class pY{_requestId;_response=null;_url=null;_fromMemoryCache=!1;#$;#Y;constructor($,X){this._requestId=X.requestId,this.#$=X.requestId===X.loaderId&&X.type==="Document",this.#Y=$,this._url=X.request.url}response(){return this._response}frame(){return this.#Y}isNavigationRequest(){return this.#$}}class L4{#$;constructor($,X){this.#$=X?X.statusCode:$.status}status(){return this.#$}}class nY{#$=new Map;#Y=new Map;#X=new Map;#Q=new Map;#J=new Map;#W=new Map;#q=new Map;forget($){this.#$.delete($),this.#Y.delete($),this.#W.delete($),this.#J.delete($),this.#Q.delete($),this.#q.delete($)}queueFailedLoadInfo($,X){this.#q.set($,{event:X})}getFailedLoadInfo($){return this.#q.get($)?.event}getResponseExtraInfo($){if(!this.#Q.has($))this.#Q.set($,[]);return this.#Q.get($)}queuedRedirectInfo($){if(!this.#J.has($))this.#J.set($,[]);return this.#J.get($)}queueRedirectInfo($,X){this.queuedRedirectInfo($).push(X)}takeQueuedRedirectInfo($){return this.queuedRedirectInfo($).shift()}storeRequestWillBeSent($,X){this.#$.set($,X)}getRequestWillBeSent($){return this.#$.get($)}forgetRequestWillBeSent($){this.#$.delete($)}storeRequestPaused($,X){this.#Y.set($,X)}getRequest($){return this.#X.get($)}storeRequest($,X){this.#X.set($,X)}forgetRequest($){this.#X.delete($)}getQueuedEventGroup($){return this.#W.get($)}queueEventGroup($,X){this.#W.set($,X)}forgetQueuedEventGroup($){this.#W.delete($)}}var iY={Request:Symbol("NetworkManager.Request")};class sY extends Q1{#$;#Y;#X=new nY;#Q;#J;constructor($,X,Y,Q){super();this.#$=$,this.#Y=X,this.#Q=Y,this.#J=Q,this.#$.on("Fetch.requestPaused",this.#q.bind(this)),this.#$.on("Network.requestWillBeSent",this.#W.bind(this)),this.#$.on("Network.requestServedFromCache",this.#G.bind(this)),this.#$.on("Network.responseReceived",this.#U.bind(this)),this.#$.on("Network.loadingFinished",this.#w.bind(this)),this.#$.on("Network.loadingFailed",this.#M.bind(this)),this.#$.on("Network.responseReceivedExtraInfo",this.#N.bind(this))}async initialize(){await this.#$.send("Network.enable")}#W($){this.#H($,void 0)}#q($){let{networkId:X,requestId:Y}=$;if(!X)return;let Q=(()=>{let J=this.#X.getRequestWillBeSent(X);if(J&&(J.request.url!==$.request.url||J.request.method!==$.request.method)){this.#X.forgetRequestWillBeSent(X);return}return J})();if(Q)this.#_(Q,$),this.#H(Q,Y);else this.#X.storeRequestPaused(X,$)}#_($,X){$.request.headers={...$.request.headers,...X.request.headers}}#H($,X){if($.redirectResponse){let J=null;if($.redirectHasExtraInfo){if(J=this.#X.getResponseExtraInfo($.requestId).shift(),!J){this.#X.queueRedirectInfo($.requestId,{event:$,fetchRequestId:X});return}}let q=this.#X.getRequest($.requestId);if(q)this.#j(q,$.redirectResponse,J)}let Y=$.frameId?this.#Y.frame($.frameId):null,Q=new pY(Y,$);this.#X.storeRequest($.requestId,Q),this.emit(iY.Request,Q)}#G($){let X=this.#X.getRequest($.requestId);if(X)X._fromMemoryCache=!0}#j($,X,Y){let Q=new L4(X,Y);$._response=Q,this.#V($,!1)}#K($,X){let Y=this.#X.getRequest($.requestId);if(!Y)return;let Q=new L4($.response,X);Y._response=Q}#U($){let X=this.#X.getRequest($.requestId),Y=null;if(X&&!X._fromMemoryCache&&$.hasExtraInfo){if(Y=this.#X.getResponseExtraInfo($.requestId).shift(),!Y){this.#X.queueEventGroup($.requestId,{responseReceivedEvent:$});return}}this.#K($,Y)}#N($){let X=this.#X.takeQueuedRedirectInfo($.requestId);if(X){this.#X.getResponseExtraInfo($.requestId).push($),this.#H(X.event,X.fetchRequestId);return}let Y=this.#X.getQueuedEventGroup($.requestId);if(Y){if(this.#X.forgetQueuedEventGroup($.requestId),this.#K(Y.responseReceivedEvent,$),Y.loadingFinishedEvent)this.#B(Y.loadingFinishedEvent);if(Y.loadingFailedEvent)this.#O(Y.loadingFailedEvent);return}this.#X.getResponseExtraInfo($.requestId).push($)}#V($,X){let Y=$._requestId;if(this.#X.forgetRequest(Y),X)this.#X.forget(Y)}#w($){let X=this.#X.getQueuedEventGroup($.requestId);if(X)X.loadingFinishedEvent=$;else this.#B($)}#B($){let X=this.#X.getRequest($.requestId);if(!X)return;this.#V(X,!0)}#M($){let X=this.#X.getQueuedEventGroup($.requestId);if(X)X.loadingFailedEvent=$;else this.#O($)}#O($){let X=this.#X.getRequest($.requestId);if(!X)return;if($.canceled){this.#V(X,!0);return}let Y=this.#X.getResponseExtraInfo($.requestId);aj({extraInfo:Y,event:$,indent:this.#Q,logLevel:this.#J,request:X}),this.#V(X,!0)}}var ej=new Map([["load","load"]]),k8=()=>{return};class oY{#$;#Y;#X;#Q;#J=null;#W;#q=k8;#_=new Promise(($)=>{this.#q=$});#H=k8;#G=new Promise(($)=>{this.#H=$});#j=k8;#K=new Promise(($)=>{this.#j=$});#U=k8;#N=new Promise(($)=>{this.#U=$});#V;#w;#B;#M;#O;constructor($,X,Y,Q){let J=ej.get(Y);h0(J,"Unknown value for options.waitUntil: "+Y),this.#$=[Y],this.#Y=$,this.#X=X,this.#Q=Q,this.#W=[X6($._client,fY.Disconnected,this.#L.bind(this,Error("Navigation failed because browser has disconnected!"))),X6(this.#Y,Q6.LifecycleEvent,this.#E.bind(this)),X6(this.#Y,Q6.FrameNavigatedWithinDocument,this.#F.bind(this)),X6(this.#Y,Q6.FrameNavigated,this.#z.bind(this)),X6(this.#Y,Q6.FrameSwapped,this.#I.bind(this)),X6(this.#Y,Q6.FrameDetached,this.#D.bind(this)),X6(this.#Y.networkManager(),iY.Request,this.#A.bind(this))],this.#V=this.#R(),this.#E()}#A($){if($.frame()!==this.#X||!$.isNavigationRequest())return;this.#J=$}#D($){if(this.#X===$){this.#U.call(null,Error("Navigating frame was detached"));return}this.#E()}navigationResponse(){if(!this.#J)return null;return this.#J.response()}#L($){this.#U.call(null,$)}sameDocumentNavigationPromise(){return this.#_}newDocumentNavigationPromise(){return this.#K}lifecyclePromise(){return this.#G}timeoutOrTerminationPromise(){return Promise.race([this.#V,this.#N])}async#R(){if(!this.#Q)return new Promise(k8);let $="Navigation timeout of "+this.#Q+" ms exceeded";return await new Promise((X)=>{this.#w=setTimeout(X,this.#Q)}),new p8($)}#F($){if($!==this.#X)return;this.#B=!0,this.#E()}#z($){if($!==this.#X)return;this.#M=!0,this.#E()}#I($){if($!==this.#X)return;this.#O=!0,this.#E()}#E(){if(!$(this.#X,this.#$))return;if(this.#H(),this.#B)this.#q();if(this.#O||this.#M)this.#j();function $(X,Y){for(let Q of Y)if(!X._lifecycleEvents.has(Q))return!1;for(let Q of X.childFrames())if(Q._hasStartedLoading&&!$(Q,Y))return!1;return!0}}dispose(){if(j9(this.#W),this.#w!==void 0)clearTimeout(this.#w)}}var r4=($)=>{return $?.message?.includes("Target closed")||$?.message?.includes("Session closed")},$V=($)=>{return $?.message?.includes("ERR_CONNECTION_REFUSED")||$?.message?.includes("ERR_CONNECTION_RESET")||$?.message?.includes("ERR_CONNECTION_TIMED_OUT")||$?.message?.includes("ERR_INTERNET_DISCONNECTED")||$?.message?.includes("ERR_NAME_RESOLUTION_FAILED")||$?.message?.includes("ERR_ADDRESS_UNREACHABLE")||$?.message?.includes("ERR_NETWORK_CHANGED")},pX="__puppeteer_utility_world__",Q6={FrameNavigated:Symbol("FrameManager.FrameNavigated"),FrameDetached:Symbol("FrameManager.FrameDetached"),FrameSwapped:Symbol("FrameManager.FrameSwapped"),LifecycleEvent:Symbol("FrameManager.LifecycleEvent"),FrameNavigatedWithinDocument:Symbol("FrameManager.FrameNavigatedWithinDocument"),ExecutionContextCreated:Symbol("FrameManager.ExecutionContextCreated"),ExecutionContextDestroyed:Symbol("FrameManager.ExecutionContextDestroyed")};class rY extends Q1{#$;#Y;#X=new Map;#Q=new Map;#J=new Set;#W;#q;get _client(){return this.#q}constructor($,X,Y,Q){super();this.#q=$,this.#$=X,this.#Y=new sY($,this,Y,Q),this.setupEventListeners(this.#q)}setupEventListeners($){$.on("Page.frameAttached",(X)=>{this.#N($,X.frameId,X.parentFrameId)}),$.on("Page.frameNavigated",(X)=>{this.#V(X.frame)}),$.on("Page.navigatedWithinDocument",(X)=>{this.#w(X.frameId,X.url)}),$.on("Page.frameDetached",(X)=>{this.#B(X.frameId,X.reason)}),$.on("Page.frameStartedLoading",(X)=>{this.#j(X.frameId)}),$.on("Page.frameStoppedLoading",(X)=>{this.#K(X.frameId)}),$.on("Runtime.executionContextCreated",(X)=>{this.#M(X.context,$)}),$.on("Runtime.executionContextDestroyed",(X)=>{this.#O(X.executionContextId,$)}),$.on("Runtime.executionContextsCleared",()=>{this.#A($)}),$.on("Page.lifecycleEvent",(X)=>{this.#G(X)}),$.on("Target.attachedToTarget",(X)=>{this.#_(X)}),$.on("Target.detachedFromTarget",(X)=>{this.#H(X)})}async initialize($=this.#q){try{let X=await Promise.all([$.send("Page.enable"),$.send("Page.getFrameTree"),$===this.#q?Promise.resolve():$.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0})]),{value:{frameTree:Y}}=X[1];this.#U($,Y),await Promise.all([$.send("Page.setLifecycleEventsEnabled",{enabled:!0}),$.send("Runtime.enable").then(()=>{return this._ensureIsolatedWorld($,pX)}),$===this.#q?this.#Y.initialize():Promise.resolve()])}catch(X){if(u8(X)&&r4(X))return;throw X}}networkManager(){return this.#Y}async navigateFrame($,X,Y,Q={}){let{referer:J=void 0,waitUntil:q="load"}=Q,W=new oY(this,$,q,Y),H=await Promise.race([G(this.#q,X,J,$._id),W.timeoutOrTerminationPromise()]);if(!H)H=await Promise.race([W.timeoutOrTerminationPromise(),W.newDocumentNavigationPromise(),W.sameDocumentNavigationPromise()]);if(W.dispose(),H)throw H;return W.navigationResponse();async function G(_,j,V,U){try{let{value:B}=await _.send("Page.navigate",{url:j,referrer:V,frameId:U});return B.errorText?Error(`${B.errorText} at ${j}`):null}catch(B){if(u8(B))return B;throw B}}}async#_($){if($.targetInfo.type!=="iframe")return;let X=this.#X.get($.targetInfo.targetId),Y=i4.fromSession(this.#q);h0(Y);let Q=Y.session($.sessionId);if(h0(Q),X)X._updateClient(Q);this.setupEventListeners(Q),await this.initialize(Q)}#H($){if(!$.targetId)return;let X=this.#X.get($.targetId);if(X?.isOOPFrame())this.#D(X)}#G($){let X=this.#X.get($.frameId);if(!X)return;X._onLifecycleEvent($.loaderId,$.name),this.emit(Q6.LifecycleEvent,X)}#j($){let X=this.#X.get($);if(!X)return;X._onLoadingStarted()}#K($){let X=this.#X.get($);if(!X)return;X._onLoadingStopped(),this.emit(Q6.LifecycleEvent,X)}#U($,X){if(X.frame.parentId)this.#N($,X.frame.id,X.frame.parentId);if(this.#V(X.frame),!X.childFrames)return;for(let Y of X.childFrames)this.#U($,Y)}page(){return this.#$}mainFrame(){return h0(this.#W,"Requesting main frame too early!"),this.#W}frames(){return Array.from(this.#X.values())}frame($){return this.#X.get($)||null}#N($,X,Y){if(this.#X.has(X)){let q=this.#X.get(X);if($&&q.isOOPFrame())q._updateClient($);return}h0(Y);let Q=this.#X.get(Y);h0(Q);let J=new R4(this,Q,X,$);this.#X.set(J._id,J)}#V($){let X=!$.parentId,Y=X?this.#W:this.#X.get($.id);if(h0(X||Y,"We either navigate top level or have old version of the navigated frame"),Y)for(let Q of Y.childFrames())this.#D(Q);if(X){if(Y)this.#X.delete(Y._id),Y._id=$.id;else Y=new R4(this,null,$.id,this.#q);this.#X.set($.id,Y),this.#W=Y}h0(Y),Y._navigated($),this.emit(Q6.FrameNavigated,Y)}async _ensureIsolatedWorld($,X){let Y=`${$.id()}:${X}`;if(this.#J.has(Y))return;this.#J.add(Y),await $.send("Page.addScriptToEvaluateOnNewDocument",{source:`//# sourceURL=${dY}`,worldName:X}),await Promise.all(this.frames().filter((Q)=>{return Q._client()===$}).map((Q)=>{return $.send("Page.createIsolatedWorld",{frameId:Q._id,worldName:X,grantUniveralAccess:!0}).catch(()=>{return})}))}#w($,X){let Y=this.#X.get($);if(!Y)return;Y._navigatedWithinDocument(X),this.emit(Q6.FrameNavigatedWithinDocument,Y),this.emit(Q6.FrameNavigated,Y)}#B($,X){let Y=this.#X.get($);if(X==="remove"){if(Y)this.#D(Y)}else if(X==="swap")this.emit(Q6.FrameSwapped,Y)}#M($,X){let Q=$.auxData?.frameId,J=typeof Q==="string"?this.#X.get(Q):void 0,q;if(J){if(J._client()!==X)return;if($.auxData&&Boolean($.auxData.isDefault))q=J._mainWorld;else if($.name===pX&&!J._secondaryWorld._hasContext())q=J._secondaryWorld}let W=new lY(J?._client()||this.#q,$,q);if(q)q._setContext(W);let H=`${X.id()}:${$.id}`;this.#Q.set(H,W)}#O($,X){let Y=`${X.id()}:${$}`,Q=this.#Q.get(Y);if(!Q)return;if(this.#Q.delete(Y),Q._world)Q._world._setContext(null)}#A($){for(let[X,Y]of this.#Q.entries()){if(Y._client!==$)continue;if(Y._world)Y._world._setContext(null);this.#Q.delete(X)}}executionContextById($,X=this.#q){let Y=`${X.id()}:${$}`,Q=this.#Q.get(Y);return h0(Q,"INTERNAL ERROR: missing context with id = "+$),Q}#D($){for(let X of $.childFrames())this.#D(X);$._detach(),this.#X.delete($._id),this.emit(Q6.FrameDetached,$)}}class R4{#$;#Y="";#X;_frameManager;_id;_loaderId="";_name;_hasStartedLoading=!1;_lifecycleEvents=new Set;_mainWorld;_secondaryWorld;_childFrames;constructor($,X,Y,Q){if(this._frameManager=$,this.#$=X??null,this.#Y="",this._id=Y,this._loaderId="",this._childFrames=new Set,this.#$)this.#$._childFrames.add(this);this._updateClient(Q)}_updateClient($){this.#X=$,this._mainWorld=new E4(this),this._secondaryWorld=new E4(this)}isOOPFrame(){return this.#X!==this._frameManager._client}goto($,X,Y={}){return this._frameManager.navigateFrame(this,$,X,Y)}_client(){return this.#X}executionContext(){return this._mainWorld.executionContext()}evaluateHandle($,...X){return this._mainWorld.evaluateHandle($,...X)}evaluate($,...X){return this._mainWorld.evaluate($,...X)}url(){return this.#Y}childFrames(){return Array.from(this._childFrames)}_navigated($){this._name=$.name,this.#Y=`${$.url}${$.urlFragment||""}`}_navigatedWithinDocument($){this.#Y=$}_onLifecycleEvent($,X){if(X==="init")this._loaderId=$,this._lifecycleEvents.clear();this._lifecycleEvents.add(X)}_onLoadingStopped(){this._lifecycleEvents.add("load")}_onLoadingStarted(){this._hasStartedLoading=!0}_detach(){if(this._mainWorld._detach(),this._secondaryWorld._detach(),this.#$)this.#$._childFrames.delete(this);this.#$=null}}class tY{#$;constructor(){this.#$=Promise.resolve()}postTask($){let X=this.#$.then($);return this.#$=X.then(()=>{return},()=>{return}),X}}var t1=30000;class aY{#$;#Y;constructor(){this.#$=null,this.#Y=null}setDefaultTimeout($){this.#$=$}setDefaultNavigationTimeout($){this.#Y=$}navigationTimeout(){if(this.#Y!==null)return this.#Y;if(this.#$!==null)return this.#$;return t1}timeout(){if(this.#$!==null)return this.#$;return t1}}var XV=($)=>{if($.text.includes("Mixed Content:")&&$.text.includes("http://localhost:"))return!0;return!1},nX=($,X)=>{let Y=X.filter((W)=>!(W.type==="symbol"&&W.description?.includes("__remotion_"))).map((W)=>uj(W)).filter(Boolean).join(" "),Q=null,J=null;for(let W of X){if(W.type==="symbol"&&W.description?.includes("__remotion_level_"))Q=W.description?.split("__remotion_level_")?.[1]?.replace(")","");if(W.type==="symbol"&&W.description?.includes("__remotion_tag_"))J=W.description?.split("__remotion_tag_")?.[1]?.replace(")","")}return{previewString:Y,logLevelFromRemotionLog:Q,logLevelFromEvent:$==="debug"?"verbose":$==="error"?"error":$==="warning"?"warn":"verbose",tag:J}};class t4 extends Q1{id;static async _create({client:$,target:X,defaultViewport:Y,browser:Q,sourceMapGetter:J,logLevel:q,indent:W,pageIndex:H,onBrowserLog:G,onLog:_}){let j=new t4({client:$,target:X,browser:Q,sourceMapGetter:J,logLevel:q,indent:W,pageIndex:H,onBrowserLog:G,onLog:_});return await j.#q(),await j.setViewport(Y),j}closed=!1;#$;#Y;#X=new aY;#Q;#J=new Map;browser;screenshotTaskQueue;sourceMapGetter;logLevel;indent;pageIndex;onBrowserLog;onLog;constructor({client:$,target:X,browser:Y,sourceMapGetter:Q,logLevel:J,indent:q,pageIndex:W,onBrowserLog:H,onLog:G}){super();this.#$=$,this.#Y=X,this.#Q=new rY($,this,q,J),this.screenshotTaskQueue=new tY,this.browser=Y,this.id=String(Math.random()),this.sourceMapGetter=Q,this.logLevel=J,this.indent=q,this.pageIndex=W,this.onBrowserLog=H,this.onLog=G,$.on("Target.attachedToTarget",(_)=>{switch(_.targetInfo.type){case"iframe":break;case"worker":break;default:$.send("Target.detachFromTarget",{sessionId:_.sessionId}).catch((j)=>D.error({indent:q,logLevel:J},j))}}),$.on("Runtime.consoleAPICalled",(_)=>{return this.#G(_)}),$.on("Runtime.bindingCalled",(_)=>{return this.#j(_)}),$.on("Inspector.targetCrashed",()=>{return this.#_()}),$.on("Log.entryAdded",(_)=>{return this.#H(_)})}#W=($)=>{let X=$.stackTrace(),{url:Y,columnNumber:Q,lineNumber:J}=X[0]??{},q=this.logLevel,W=this.indent;if(XV($))return;if(this.onBrowserLog?.({stackTrace:X,text:$.text,type:$.type}),Y?.endsWith(s.bundleName)&&J&&this.sourceMapGetter()){let H=this.sourceMapGetter()?.originalPositionFor({column:Q??0,line:J}),G=[H?.source,H?.line,H?.column].filter(A0).join(":"),_=$.previewString.includes(s.DELAY_RENDER_CLEAR_TOKEN),j=`Tab ${this.pageIndex}`,V=[H?.name,_?null:G].filter(A0).join("@"),U=[j,$.tag,$.tag?null:V].filter(A0).join(", ");this.onLog({logLevel:$.logLevel,tag:U,previewString:$.previewString})}else if($.type==="error")if($.text.includes("Failed to load resource:"))D.error({logLevel:q,tag:Y,indent:W},$.text.replace(/\(\)$/,""));else D.error({logLevel:q,tag:`console.${$.type}`,indent:W},$.text);else D.verbose({logLevel:q,tag:`console.${$.type}`,indent:W},$.text)};async#q(){await Promise.all([this.#Q.initialize(),this.#$.send("Target.setAutoAttach",{autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0}),this.#$.send("Performance.enable"),this.#$.send("Log.enable")])}on($,X){return super.on($,X)}once($,X){return super.once($,X)}off($,X){return super.off($,X)}target(){return this.#Y}_client(){return this.#$}#_(){this.emit("error",Error("Page crashed!"))}#H($){let{level:X,text:Y,args:Q,source:J,url:q,lineNumber:W}=$.entry;if(Q)Q.map((V)=>{return mY(this.#$,V)});let{previewString:H,logLevelFromRemotionLog:G,logLevelFromEvent:_,tag:j}=nX(X,Q??[]);if(J!=="worker"){let V=new D4({type:X,text:Y,args:[],stackTraceLocations:[{url:q,lineNumber:W}],previewString:H,logLevel:G??_,tag:j});this.onBrowserLog?.({stackTrace:V.stackTrace(),text:V.text,type:V.type}),this.#W(V)}}mainFrame(){return this.#Q.mainFrame()}async setViewport($){let Y=!process.env.DISABLE_FROM_SURFACE?{mobile:!1,width:$.width,height:$.height,deviceScaleFactor:$.deviceScaleFactor,screenOrientation:{angle:0,type:"portraitPrimary"}}:{mobile:!1,width:$.width,height:$.height,deviceScaleFactor:1,screenHeight:$.height,screenWidth:$.width,scale:$.deviceScaleFactor,viewport:{height:$.height*$.deviceScaleFactor,width:$.width*$.deviceScaleFactor,scale:1,x:0,y:0}},{value:Q}=await this.#$.send("Emulation.setDeviceMetricsOverride",Y);return Q}setDefaultNavigationTimeout($){this.#X.setDefaultNavigationTimeout($)}setDefaultTimeout($){this.#X.setDefaultTimeout($)}async evaluateHandle($,...X){return(await this.mainFrame().executionContext()).evaluateHandle($,...X)}#G($){if($.executionContextId===0)return;let X=this.#Q.executionContextById($.executionContextId,this.#$),Y=$.args.map((Q)=>{return A4(X,Q)});this.#K($.type,Y,$.stackTrace)}async#j($){let X;try{X=JSON.parse($.payload)}catch{return}let{type:Y,name:Q,seq:J,args:q}=X;if(Y!=="exposedFun"||!this.#J.has(Q))return;let W=null;try{let H=this.#J.get(Q);h0(H);let G=await H(...q);W=pj(Q,J,G)}catch(H){if(u8(H))W=nj(Q,J,H.message,H.stack);else W=ij(Q,J,H)}await this.#$.send("Runtime.evaluate",{expression:W,contextId:$.executionContextId})}#K($,X,Y){let Q=[];for(let V of X){let U=V._remoteObject;if(U.objectId)Q.push(V.toString());else Q.push(_9(U))}let J=[];if(Y)for(let V of Y.callFrames)J.push({url:V.url,lineNumber:V.lineNumber,columnNumber:V.columnNumber});let{previewString:q,logLevelFromRemotionLog:W,logLevelFromEvent:H,tag:G}=nX($,X.map((V)=>V._remoteObject)??[]),_=W??H,j=new D4({type:$,text:Q.join(" "),args:X,stackTraceLocations:J,previewString:q,logLevel:_,tag:G});this.#W(j)}url(){return this.mainFrame().url()}goto({url:$,timeout:X,options:Y={}}){return this.#Q.mainFrame().goto($,X,Y)}async bringToFront(){await this.#$.send("Page.bringToFront")}async setAutoDarkModeOverride(){let $=await this.#$.send("Emulation.setEmulatedMedia",{media:"screen",features:[{name:"prefers-color-scheme",value:"dark"}]});console.log($)}evaluate($,...X){return this.#Q.mainFrame().evaluate($,...X)}async evaluateOnNewDocument($,...X){let Y=D9($,...X);await this.#$.send("Page.addScriptToEvaluateOnNewDocument",{source:Y})}async close($={runBeforeUnload:void 0}){let X=this.#$.connection();if(!X)return;if(Boolean($.runBeforeUnload))await this.#$.send("Page.close");else await X.send("Target.closeTarget",{targetId:this.#Y._targetId}),await this.#Y._isClosedPromise}setBrowserSourceMapGetter($){this.sourceMapGetter=$}}var f0=($)=>{if(l8($))return;if(!QV($))return;let X=2;while(X>=0){try{YV.rmSync($,{maxRetries:2,recursive:!0,force:!0,retryDelay:100})}catch{X--;continue}break}},HV=WV;class a4{static async create($){let X=new qV($);if(X.hostname==="localhost"){let{address:Y}=await JV.lookup(X.hostname,{verbatim:!1});X.hostname=Y}return new Promise((Y,Q)=>{let J=new HV(X,[],{followRedirects:!0,perMessageDeflate:!1,maxPayload:1073741824,headers:{"User-Agent":"Remotion CLI"}});J.addEventListener("open",()=>{return Y(new a4(J))}),J.addEventListener("error",Q)})}websocket;onmessage;onclose;constructor($){this.websocket=$,this.websocket.addEventListener("message",(X)=>{if(this.onmessage)this.onmessage.call(null,X.data)}),this.websocket.addEventListener("close",()=>{if(this.onclose)this.onclose.call(null)}),this.websocket.addEventListener("error",()=>{return})}send($){this.websocket.send($)}close(){this.websocket.close()}forgetEventLoop(){this.websocket._socket.unref()}rememberEventLoop(){this.websocket._socket.ref()}}var GV=($)=>{let X=/^\[([0-9]{4})\/([0-9]{6})\.([0-9]{6}):([A-Z]+):(.*?)(?:\(([0-9]+)\)|:([0-9]+))\](.*)/,Y=$.match(X);if(!Y)return null;let Q=Y[1],J=parseInt(Q.slice(0,2),10),q=parseInt(Q.slice(2,4),10),W=Y[2],H=parseInt(W.slice(0,2),10),G=parseInt(W.slice(2,4),10),_=parseInt(W.slice(4,6),10),j=parseInt(Y[3],10),V=Y[4],U=Y[5],B=parseInt(Y[6]??Y[7],10),M=Y[8].trim();return{day:J,month:q,hour:H,minute:G,seconds:_,microseconds:j,level:V,location:U,lineNumber:B,message:M}},iX=($)=>{if($.startsWith("DevTools listening on"))return!1;if($.includes("Falling back to ALSA for audio output"))return!1;if($.includes("Floss manager not present, cannot set Floss enable/disable"))return!1;if($.includes("Failed to send GpuControl.CreateCommandBuffer"))return!1;if($.includes("CreatePlatformSocket() failed: Address family not supported by protocol"))return!1;if($.includes("Fontconfig error: No writable cache directories"))return!1;if($.includes("AttributionReportingCrossAppWeb cannot be enabled in this configuration"))return!1;if($.includes("Trying to Produce a Memory representation from a non-existent mailbox."))return!1;if($.includes("Received HEADERS for invalid stream"))return!1;if($.includes("CVDisplayLinkCreateWithCGDisplay failed"))return!1;if($.includes("Falling back to ALSA for audio output"))return!1;if($.includes("VizNullHypothesis is disabled"))return!1;return!0},sX=($)=>{let X=GV($);if(!X)return{output:$,tag:"chrome"};let{location:Y,lineNumber:Q,message:J}=X;if(Y==="CONSOLE")return null;return{output:`${Y}:${Q}: ${J}`,tag:"chrome"}},_V=`Puppeteer was unable to kill the process which ran the browser binary.
 This means that, on future Puppeteer launches, Puppeteer might not be able to launch the browser.
 Please check your open processes and ensure that the browser processes that Puppeteer launched have been killed.
 If you think this is a bug, please report it on the Puppeteer issue tracker.`,jV=async({executablePath:$,processArguments:X,userDataDir:Y,logLevel:Q,indent:J,timeout:q})=>{let W=t6(Q,"verbose"),H=W?["ignore","pipe","pipe"]:["pipe","pipe","pipe"],G=E9.spawn($,X,{detached:process.platform!=="win32",env:process.env,stdio:H}),_=await VV({browserProcess:G,timeout:q,indent:J,logLevel:Q}),j=await a4.create(_),V=new i4(j),U=()=>{if(G.pid&&KV(G.pid))try{if(process.platform==="win32")E9.exec(`taskkill /pid ${G.pid} /T /F`,(v)=>{if(v)G.kill()});else{let v=-G.pid;D.verbose({indent:J,logLevel:Q},`Trying to kill browser process group ${v}`);try{process.kill(v,"SIGKILL")}catch(F){D.verbose({indent:J,logLevel:Q},`Could not kill browser process group ${v}. Killing process via Node.js API`),G.kill("SIGKILL")}}}catch(v){throw Error(`${_V}
Error cause: ${u8(v)?v.stack:v}`)}f0(Y),j9(N)},B=()=>{if(M)return Promise.resolve();return D.verbose({indent:J,logLevel:Q},"Received SIGTERM signal. Killing browser process"),U(),f0(Y),j9(N),O};if(W)G.stdout?.on("data",(v)=>{let F=v.toString("utf8").trim();if(iX(F)){let I=sX(F);if(!I)return;let{output:P,tag:x}=I;D.verbose({indent:J,logLevel:Q,tag:x},P)}}),G.stderr?.on("data",(v)=>{let F=v.toString("utf8").trim();if(iX(F)){let I=sX(F);if(!I)return;let{output:P,tag:x}=I;D.error({indent:J,logLevel:Q,tag:x},P)}});let M=!1,O=new Promise((v,F)=>{G.once("exit",()=>{M=!0;try{v()}catch(I){F(I)}})}),N=[X6(process,"exit",U)];return N.push(X6(process,"SIGINT",()=>{U(),process.exit(130)})),N.push(X6(process,"SIGTERM",B)),N.push(X6(process,"SIGHUP",B)),{listeners:N,deleteBrowserCaches:()=>{let v=[o2(Y,"Default","Cache","Cache_Data"),o2(Y,"Default","Code Cache"),o2(Y,"Default","DawnCache"),o2(Y,"Default","GPUCache")];for(let F of v)f0(F)},forgetEventLoop:()=>{G.unref(),G.stdout?.unref(),G.stderr?.unref(),h0(V,"BrowserRunner not connected."),V.transport.forgetEventLoop()},rememberEventLoop:()=>{G.ref(),G.stdout?.ref(),G.stderr?.ref(),h0(V,"BrowserRunner not connected."),V.transport.rememberEventLoop()},connection:V,closeProcess:B}};function VV({browserProcess:$,timeout:X,logLevel:Y,indent:Q}){let{stderr:J,stdout:q}=$;h0(J,"`browserProcess` does not have stderr."),h0(q,"`browserProcess` does not have stdout.");let W="";return new Promise((H,G)=>{J.addListener("data",B),q.addListener("data",B),J.addListener("close",V);let _=[()=>J.removeListener("data",B),()=>q.removeListener("data",B),()=>J.removeListener("close",V),X6($,"exit",(O,N)=>{return D.verbose({indent:Q,logLevel:Y},"Browser process exited with code",O,"signal",N),V(Error(`Closed with ${O} signal: ${N}`))}),X6($,"error",(O)=>{return V(O)})],j=X?setTimeout(U,X):0;function V(O){M(),G(Error(["Failed to launch the browser process!",O?O.stack:null,W,"Troubleshooting: https://remotion.dev/docs/troubleshooting/browser-launch"].filter(A0).join(`
`)))}function U(){M(),G(new p8(`Timed out after ${X} ms while trying to connect to the browser! Chrome logged the following: ${W}`))}function B(O){W+=O.toString("utf8");let N=W.match(/DevTools listening on (ws:\/\/.*)/);if(!N)return;M(),H(N[1])}function M(){if(j)clearTimeout(j);j9(_)}})}function KV($){try{return process.kill($,0)}catch(X){if(oj(X)){if(X.code&&X.code==="ESRCH")return!1}throw X}}var $4=($)=>{return $.type==="page"||$.type==="background_page"||$.type==="webview"};class eY{#$;#Y;#X;#Q;#J;_initializedPromise;_initializedCallback;_isClosedPromise;_closedCallback;_isInitialized;_targetId;constructor($,X,Y,Q){if(this.#Y=$,this.#$=X,this._targetId=$.targetId,this.#X=Y,this.#Q=Q,this._initializedPromise=new Promise((J)=>{this._initializedCallback=J}).then((J)=>{if(!J)return!1;let q=this.opener();if(!q||!q.#J||this.type()!=="page")return!0;return!0}),this._isClosedPromise=new Promise((J)=>{this._closedCallback=J}),this._isInitialized=!$4(this.#Y)||this.#Y.url!=="",this._isInitialized)this._initializedCallback(!0)}createCDPSession(){return this.#X()}_getTargetInfo(){return this.#Y}async page({sourceMapGetter:$,logLevel:X,indent:Y,pageIndex:Q,onBrowserLog:J,onLog:q}){if($4(this.#Y)&&!this.#J)this.#J=this.#X().then((W)=>{return t4._create({client:W,target:this,defaultViewport:this.#Q??null,browser:this.browser(),sourceMapGetter:$,logLevel:X,indent:Y,pageIndex:Q,onBrowserLog:J,onLog:q})});return await this.#J??null}async expectPage(){return await this.#J??null}url(){return this.#Y.url}type(){let{type:$}=this.#Y;if($==="page"||$==="background_page"||$==="service_worker"||$==="shared_worker"||$==="browser"||$==="webview")return $;return"other"}browser(){return this.#$.browser()}browserContext(){return this.#$}opener(){let{openerId:$}=this.#Y;if(!$)return;return this.browser()._targets.get($)}_targetInfoChanged($){if(this.#Y=$,!this._isInitialized&&(!$4(this.#Y)||this.#Y.url!==""))this._isInitialized=!0,this._initializedCallback(!0)}}class A9 extends Q1{static async create({defaultViewport:$,timeout:X,userDataDir:Y,args:Q,executablePath:J,logLevel:q,indent:W}){let H=await jV({executablePath:J,processArguments:Q,userDataDir:Y,indent:W,logLevel:q,timeout:X}),G=new A9({connection:H.connection,defaultViewport:$,runner:H});return await H.connection.send("Target.setDiscoverTargets",{discover:!0}),G}#$;connection;#Y;#X;#Q;id;runner;get _targets(){return this.#Q}constructor({connection:$,defaultViewport:X,runner:Y}){super();this.#$=X,this.connection=$,this.id=Math.random().toString(36).substring(2,15),this.#Y=new $Q(this),this.#X=new Map,this.#Q=new Map,this.connection.on("Target.targetCreated",this.#J.bind(this)),this.connection.on("Target.targetDestroyed",this.#W.bind(this)),this.connection.on("Target.targetInfoChanged",this.#q.bind(this)),this.runner=Y}browserContexts(){return[this.#Y,...Array.from(this.#X.values())]}async#J($){let{targetInfo:X}=$,{browserContextId:Y}=X,Q=Y&&this.#X.has(Y)?this.#X.get(Y):this.#Y;if(!Q)throw Error("Missing browser context");let J=new eY(X,Q,()=>{return this.connection.createSession(X)},this.#$??null);if(h0(!this.#Q.has($.targetInfo.targetId),"Target should not exist before targetCreated"),this.#Q.set($.targetInfo.targetId,J),await J._initializedPromise)this.emit("targetcreated",J)}#W($){let X=this.#Q.get($.targetId);if(!X)throw Error(`Missing target in _targetDestroyed (id = ${$.targetId})`);X._initializedCallback(!1),this.#Q.delete($.targetId),X._closedCallback()}#q($){let X=this.#Q.get($.targetInfo.targetId);if(!X)throw Error(`Missing target in targetInfoChanged (id = ${$.targetInfo.targetId})`);let Y=X.url(),Q=X._isInitialized;if(X._targetInfoChanged($.targetInfo),Q&&Y!==X.url())this.emit("targetchanged",X)}newPage({context:$,logLevel:X,indent:Y,pageIndex:Q,onBrowserLog:J,onLog:q}){return this.#Y.newPage({context:$,logLevel:X,indent:Y,pageIndex:Q,onBrowserLog:J,onLog:q})}async _createPageInContext({context:$,logLevel:X,indent:Y,pageIndex:Q,onBrowserLog:J,onLog:q}){let{value:{targetId:W}}=await this.connection.send("Target.createTarget",{url:"about:blank",browserContextId:void 0}),H=this.#Q.get(W);if(!H)throw Error(`Missing target for page (id = ${W})`);if(!await H._initializedPromise)throw Error(`Failed to create target for page (id = ${W})`);let _=await H.page({sourceMapGetter:$,logLevel:X,indent:Y,pageIndex:Q,onBrowserLog:J,onLog:q});if(!_)throw Error("Failed to create a page for context");return _}targets(){return Array.from(this.#Q.values()).filter(($)=>{return $._isInitialized})}async waitForTarget($,X={}){let{timeout:Y=30000}=X,Q,J=!1,q=new Promise((H)=>{Q=H});this.on("targetcreated",W),this.on("targetchanged",W);try{if(!Y)return await q;return this.targets().forEach(W),await sj(q,"target",Y,this)}finally{this.off("targetcreated",W),this.off("targetchanged",W)}async function W(H){if(await $(H)&&!J)J=!0,Q(H)}}async pages(){return(await Promise.all(this.browserContexts().map((X)=>{return X.pages()}))).reduce((X,Y)=>{return X.concat(Y)},[])}async close({silent:$}){await this.runner.closeProcess(),(await this.pages()).forEach((X)=>{X.emit("disposed"),X.closed=!0}),this.disconnect(),this.emit($?"closed-silent":"closed")}disconnect(){this.connection.dispose()}}class $Q extends Q1{#$;constructor($){super();this.#$=$}targets(){return this.#$.targets().filter(($)=>{return $.browserContext()===this})}waitForTarget($,X={}){return this.#$.waitForTarget((Y)=>{return Y.browserContext()===this&&$(Y)},X)}async pages(){return(await Promise.all(this.targets().filter((X)=>X.type()==="page").map((X)=>X.expectPage()))).filter((X)=>{return Boolean(X)})}newPage({context:$,logLevel:X,indent:Y,pageIndex:Q,onBrowserLog:J,onLog:q}){return this.#$._createPageInContext({context:$,logLevel:X,indent:Y,pageIndex:Q,onBrowserLog:J,onLog:q})}browser(){return this.#$}}var r2=!1;function QQ({indent:$,logLevel:X}){if(!process.report&&typeof Bun<"u"){if(!r2)D.warn({indent:$,logLevel:X},"Bun limitation: Could not determine if your Linux is using musl or glibc. Assuming glibc.");return r2=!0,!1}let Y=process.report?.getReport();if(Y&&typeof Y==="string"){if(!r2)D.warn({indent:$,logLevel:X},"Bun limitation: Could not determine if your Windows is using musl or glibc. Assuming glibc.");return r2=!0,!1}let{glibcVersionRuntime:Q}=Y.header;return!Q}var L9=({indent:$,logLevel:X,type:Y,binariesDirectory:Q})=>{let J=Q??wV($,X);switch(Y){case"compositor":if(process.platform==="win32")return i1.resolve(J,"remotion.exe");return i1.resolve(J,"remotion");case"ffmpeg":if(process.platform==="win32")return i1.join(J,"ffmpeg.exe");return i1.join(J,"ffmpeg");case"ffprobe":if(process.platform==="win32")return i1.join(J,"ffprobe.exe");return i1.join(J,"ffprobe");default:throw Error(`Unknown executable type: ${Y}`)}},wV=($,X)=>{switch(process.platform){case"win32":switch(process.arch){case"x64":return D1("@remotion/compositor-win32-x64-msvc").dir;default:throw Error(`Unsupported architecture on Windows: ${process.arch}`)}case"darwin":switch(process.arch){case"x64":return D1("@remotion/compositor-darwin-x64").dir;case"arm64":return D1("@remotion/compositor-darwin-arm64").dir;default:throw Error(`Unsupported architecture on macOS: ${process.arch}`)}case"linux":{let Y=QQ({indent:$,logLevel:X});switch(process.arch){case"x64":if(Y)return D1("@remotion/compositor-linux-x64-musl").dir;return D1("@remotion/compositor-linux-x64-gnu").dir;case"arm64":if(Y)return D1("@remotion/compositor-linux-arm64-musl").dir;return D1("@remotion/compositor-linux-arm64-gnu").dir;default:throw Error(`Unsupported architecture on Linux: ${process.arch}`)}}default:throw Error(`Unsupported OS: ${process.platform}, architecture: ${process.arch}`)}},JQ=($)=>{return process.platform==="darwin"?{DYLD_LIBRARY_PATH:$}:void 0},DV=($)=>{if(process.platform!=="linux"&&process.platform!=="darwin")try{return BV($,NV.X_OK),!0}catch{return!1}let X=MV($),{mode:Y}=X;if(Boolean(Y&1))return!0;if(!process.getuid||!process.getgid)throw Error("Cannot check permissions on Linux without process.getuid and process.getgid");let J=process.getuid(),q=process.getgid(),W=J===X.uid,H=q===X.gid,G=Boolean(Y&64),_=Boolean(Y&8);return W&&G||H&&_},i8=($)=>{if(!DV($))OV($,493)},J6=({args:$,bin:X,indent:Y,logLevel:Q,options:J,binariesDirectory:q,cancelSignal:W})=>{let H=L9({type:X,indent:Y,logLevel:Q,binariesDirectory:q});i8(H);let G=YQ.dirname(H),_=XQ.default(H,$.filter(A0),{cwd:G,env:JQ(G),...J});return W?.(()=>{_.kill()}),_},EV=({args:$,bin:X,indent:Y,logLevel:Q,options:J,binariesDirectory:q,cancelSignal:W})=>{let H=L9({type:X,indent:Y,logLevel:Q,binariesDirectory:q});i8(H);let G=YQ.dirname(H),_=UV(H,$.filter(A0),{cwd:G,env:JQ(G),...J});return W?.(()=>{_.kill()}),_},c8=($)=>{return $==="mp3"||$==="aac"||$==="wav"},F4=($)=>{if(qQ())return!1;if(c8($))return!1;return $==="h264"||$==="h264-mkv"||$==="h265"},qQ=()=>{return process.env.REMOTION_PARTITIONED_RENDERING==="true"},AV=()=>{if(process.platform!=="linux")return null;if(QQ({indent:!1,logLevel:"warn"}))return null;if(process.arch==="arm64")return[2,26];return[2,31]},h8=AV(),LV=($)=>{if(h8===null)return null;let X=$.split(".");if(X.length!==2)return null;if(X[0]===String(h8[0])&&Number(X[1])>=h8[1])return null;if(Number(X[0])>h8[0])return null;return`Rendering videos requires glibc ${h8.join(".")} on your or higher on your OS. Your system has glibc ${$}.`},RV=($,X)=>{if(process.platform==="win32"||process.platform==="darwin")return;let{report:Y}=process;if(Y){let Q=Y.getReport();if(typeof Q==="string"){D.warn({logLevel:$,indent:X},"Bun limitation: process.report.getReport() "+Q);return}let{glibcVersionRuntime:J}=Q.header;if(!J)return;let q=LV(J);if(q)D.warn({logLevel:$,indent:X},q)}},FV=()=>{let $=process.version.replace("v","").split(".");if(Number($[0])<s.MIN_NODE_VERSION)throw Error(`Remotion requires at least Node ${s.MIN_NODE_VERSION}. You currently have ${process.version}. Update your node version to ${s.MIN_NODE_VERSION} to use Remotion.`)},zV=()=>{if(!Bun.semver.satisfies(Bun.version,`>=${s.MIN_BUN_VERSION}`))throw Error(`Remotion requires at least Bun ${s.MIN_BUN_VERSION}. You currently have ${Bun.version}. Update your Bun version to ${s.MIN_BUN_VERSION} to use Remotion.`)},IV=($,X)=>{if(typeof Bun>"u")FV();else zV();RV($,X)},z4=["h264","h265","vp8","vp9","mp3","aac","wav","prores","h264-mkv","h264-ts","gif"],WQ="h264",HQ=({frame:$,durationInFrames:X})=>{return $<0?X+$:$};function vV($){let X=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm,Y=null;for(;;){let Q=X.exec($);if(Q===null||Q===void 0)break;Y=Q}if(!Y?.[1])return null;return Y[1].toString()}var _Q=async($)=>{if(!$.endsWith(".js.map"))return Promise.reject(Error(`The URL ${$} does not seem to be a valid source map URL.`));let X=await VQ($);return new P8(X)},jQ=($,X,Y)=>{let Q=vV(X);if(Q===null)return Promise.resolve(null);if(Q.indexOf("data:")===0){let W=/^data:application\/json;([\w=:"-]+;)*base64,/,H=Q.match(W);if(!H)throw Error("Sorry, non-base64 inline source-map encoding is not supported.");let G=window.atob(Q.substring(H[0].length));try{let _=new P8(JSON.parse(G));return Promise.resolve(_)}catch{return Promise.resolve(null)}}if(Y==="local"){let W=oX.join(oX.dirname($),Q);return Promise.resolve(new P8(GQ(W,"utf8")))}let J=$.lastIndexOf("/"),q=$.substring(0,J+1)+Q;return _Q(q)},VQ=async($)=>{let{request:X,response:Y}=await p4($);return new Promise((Q,J)=>{let q="";Y.on("data",(W)=>{q+=W}),Y.on("end",()=>{X.destroy(),Y.destroy(),Q(q)}),Y.on("error",(W)=>{return X.destroy(),Y.destroy(),J(W)})})};function PV($,X,Y){let Q=[];for(let J=Math.max(0,$-1-X)+1;J<=Math.min(Y.length-1,$-1+X);++J)Q.push({lineNumber:J+1,content:Y[J],highlight:J+1===$});return Q}var xV=($,X,Y)=>{let Q=$.originalPositionFor({line:X,column:Y});return{line:Q.line,column:Q.column,source:Q.source}},rX=async($)=>{let X=[...new Set($.map((J)=>J.fileName).filter((J)=>J.startsWith("http://")||J.startsWith("https://")).filter(A0))],Y=await Promise.all(X.map((J)=>{return ZV(J)})),Q={};for(let J=0;J<X.length;J++)Q[X[J]]=Y[J];return TV($,Q)},TV=($,X)=>{return $.map((Y)=>{let Q=X[Y.fileName];if(!Q)return null;return bV(Y,Q)}).filter(A0).filter((Y)=>Y.originalScriptCode!==null)},bV=($,X)=>{let Y=xV(X,$.lineNumber,$.columnNumber),Q=Y.source?X.sourceContentFor(Y.source,!1):null,J=Q&&Y.line?PV(Y.line,3,Q.split(`
`)):null;return{originalColumnNumber:Y.column,originalFileName:Y.source,originalFunctionName:$.functionName,originalLineNumber:Y.line,originalScriptCode:J}},ZV=async($)=>{let X=await VQ($);return jQ($,X,"remote")},CV=($)=>{let X=GQ($,"utf8");return jQ($,X,"local")},SV=/^\s*(at|in)\s.+(:\d+)/,tX=/(^|@)\S+:\d+|.+line\s+\d+\s+>\s+(eval|Function).+/,kV=/\(?(.+?)(?::(\d+))?(?::(\d+))?\)?$/;function aX($){let X=kV.exec($);if(!X)throw Error("Could not match in extractLocation");return X.slice(1).map((Y)=>{let Q=Number(Y);if(!isNaN(Q))return Q;return Y})}var eX=({functionName:$,fileName:X,lineNumber:Y,columnNumber:Q})=>{if($&&$.indexOf("Object.")===0)$=$.slice(7);if($==="friendlySyntaxErrorLabel"||$==="exports.__esModule"||$==="<anonymous>"||!$)$=null;return{columnNumber:Q,fileName:X,functionName:$,lineNumber:Y}},R9=($)=>{return $.filter((Y)=>SV.test(Y)||tX.test(Y)).map((Y)=>{if(tX.test(Y)){let G=!1;if(/ > (eval|Function)/.test(Y))Y=Y.replace(/ line (\d+)(?: > eval line \d+)* > (eval|Function):\d+:\d+/g,":$1"),G=!0;let _=Y.split(/[@]/g),j=_.pop();if(!j)throw Error("could not get last");let[V,U,B]=aX(j);return eX({functionName:_.join("@")||(G?"eval":null),fileName:V,lineNumber:U,columnNumber:B})}if(Y.indexOf("(eval ")!==-1)Y=Y.replace(/(\(eval at [^()]*)|(\),.*$)/g,"");if(Y.indexOf("(at ")!==-1)Y=Y.replace(/\(at /,"(");let Q=Y.trim().split(/\s+/g).slice(1),J=Q.pop();if(!J)throw Error("could not get last");let[q,W,H]=aX(J);return eX({functionName:Q.join(" ")||null,fileName:q,lineNumber:W,columnNumber:H})})},hV=($)=>{let X=$.indexOf(s.DELAY_RENDER_CALLSTACK_TOKEN);if(X===-1)return null;let Y=$.substring(X+s.DELAY_RENDER_CALLSTACK_TOKEN.length).trim();return R9(Y.split(`
`))};class s8 extends Error{stackFrame;delayRenderCall;frame;chunk;constructor({message:$,stack:X,stackFrame:Y,frame:Q,name:J,chunk:q}){super($);this.stack=X,this.stackFrame=Y,this.frame=Q,this.chunk=q,this.name=J,this.delayRenderCall=X?hV(X):null}}class KQ extends Error{symbolicatedStackFrames;frame;chunk;name;delayRenderCall;constructor({message:$,symbolicatedStackFrames:X,frame:Y,name:Q,delayRenderCall:J,stack:q,chunk:W}){super($);this.symbolicatedStackFrames=X,this.frame=Y,this.chunk=W,this.name=Q,this.delayRenderCall=J,this.stack=q}}var fV=($)=>{let X=$.exceptionDetails.exception?.description;if(!X)return null;let Q=`${$.exceptionDetails.exception?.className}: `;if(X.startsWith(Q))X=X.substring(Q.length);let J=$.exceptionDetails.stackTrace?.callFrames.length??0,q=X.split(`
`);return q.slice(0,Math.max(1,q.length-J)).join(`
`)},$Y=($)=>{let X=$.indexOf(s.DELAY_RENDER_CALLSTACK_TOKEN);if(X===-1)return $;return $.substring(0,X)},yV=($)=>{return{columnNumber:$.columnNumber,fileName:$.url,functionName:$.functionName,lineNumber:$.lineNumber}},F9=({page:$,onError:X,frame:Y})=>{let Q=$._client(),J=(q)=>{let W=q.exceptionDetails.exception?.description,H=fV(q);if(!H){console.error(q);let j=Error(W);j.stack=W,X(j);return}if(!q.exceptionDetails.stackTrace){let j=Error($Y(H));j.stack=W,X(j);return}let G=q.exceptionDetails.exception?.className,_=new s8({message:$Y(H),stackFrame:q.exceptionDetails.stackTrace.callFrames.map((j)=>yV(j)),frame:Y,name:G,stack:q.exceptionDetails.exception?.description,chunk:null});X(_)};return Q.on("Runtime.exceptionThrown",J),()=>{return Q.off("Runtime.exceptionThrown",J),Promise.resolve()}},gV=async($)=>{let{delayRenderCall:X,stackFrame:Y}=$,[Q,J]=await Promise.all([Y?rX(Y):null,X?rX(X):null].filter(A0));return new KQ({message:$.message,symbolicatedStackFrames:Q,frame:$.frame,name:$.name,delayRenderCall:J,stack:$.stack,chunk:$.chunk})},A1={"h264-mkv":{default:"mkv",forAudioCodec:{"pcm-16":{possible:["mkv"],default:"mkv"},mp3:{possible:["mkv"],default:"mkv"}}},"h264-ts":{default:"ts",forAudioCodec:{"pcm-16":{possible:["ts"],default:"ts"},aac:{possible:["ts"],default:"ts"}}},aac:{default:"aac",forAudioCodec:{aac:{possible:["aac","3gp","m4a","m4b","mpg","mpeg"],default:"aac"},"pcm-16":{possible:["wav"],default:"wav"}}},gif:{default:"gif",forAudioCodec:{}},h264:{default:"mp4",forAudioCodec:{"pcm-16":{possible:["mkv","mov"],default:"mkv"},aac:{possible:["mp4","mkv","mov"],default:"mp4"},mp3:{possible:["mp4","mkv","mov"],default:"mp4"}}},h265:{default:"mp4",forAudioCodec:{aac:{possible:["mp4","mkv","hevc"],default:"mp4"},"pcm-16":{possible:["mkv"],default:"mkv"}}},mp3:{default:"mp3",forAudioCodec:{mp3:{possible:["mp3"],default:"mp3"},"pcm-16":{possible:["wav"],default:"wav"}}},prores:{default:"mov",forAudioCodec:{aac:{possible:["mov","mkv","mxf"],default:"mov"},"pcm-16":{possible:["mov","mkv","mxf"],default:"mov"}}},vp8:{default:"webm",forAudioCodec:{"pcm-16":{possible:["mkv"],default:"mkv"},opus:{possible:["webm"],default:"webm"}}},vp9:{default:"webm",forAudioCodec:{"pcm-16":{possible:["mkv"],default:"mkv"},opus:{possible:["webm"],default:"webm"}}},wav:{default:"wav",forAudioCodec:{"pcm-16":{possible:["wav"],default:"wav"}}}},mV=($)=>{if($===null)return;if(typeof $==="number"){if($<0)throw TypeError("Frame must be a non-negative number, got "+$);if(!Number.isFinite($))throw TypeError("Frame must be a finite number, got "+$);if(!Number.isInteger($))throw Error(`Frame must be an integer, but got a float (${$})`);return}if(Array.isArray($)){if($.length!==2)throw TypeError("Frame range must be a tuple, got an array with length "+$.length);let[X,Y]=$;if(typeof X!=="number")throw Error(`The first value of frame range must be a number, but got ${typeof X} (${JSON.stringify(X)})`);if(!Number.isFinite(X))throw TypeError("The first value of frame range must be finite, but got "+X);if(!Number.isInteger(X))throw Error(`The first value of frame range must be an integer, but got a float (${X})`);if(X<0)throw Error(`The first value of frame range must be non-negative, but got ${X}`);if(Y===null)return;if(typeof Y!=="number")throw Error(`The second value of frame range must be a number or null, but got ${typeof Y} (${JSON.stringify(Y)})`);if(!Number.isFinite(Y))throw TypeError("The second value of frame range must be finite, but got "+Y);if(!Number.isInteger(Y))throw Error(`The second value of frame range must be an integer, but got a float (${Y})`);if(Y<0)throw Error(`The second value of frame range must be non-negative, but got ${Y}`);if(Y<X)throw Error("The second value of frame range must be not smaller than the first one, but got "+$.join("-"));return}throw TypeError("Frame range must be a number or a tuple of numbers, but got object of type "+typeof $)};function f8($){let X=$/1024/1024;return`${Math.round(X*10)/10} Mb`}var UQ=({indent:$,logLevel:X,api:Y})=>({chromeMode:Q})=>{if(Q==="chrome-for-testing")D.info({indent:$,logLevel:X},"Downloading Chrome for Testing https://www.remotion.dev/chrome-for-testing");else D.info({indent:$,logLevel:X},"Downloading Chrome Headless Shell https://www.remotion.dev/chrome-headless-shell");D.info({indent:$,logLevel:X},`Customize this behavior by adding a onBrowserDownload function to ${Y}.`);let J=0;return{onProgress:(q)=>{if(q.downloadedBytes>J+1e7||q.percent===1)if(J=q.downloadedBytes,Q==="chrome-for-testing")D.info({indent:$,logLevel:X},`Downloading Chrome for Testing - ${f8(q.downloadedBytes)}/${f8(q.totalSizeInBytes)}`);else D.info({indent:$,logLevel:X},`Downloading Chrome Headless Shell - ${f8(q.downloadedBytes)}/${f8(q.totalSizeInBytes)}`)},version:null}},e4=({logLevel:$,tag:X,previewString:Y})=>{D[$]({logLevel:$,tag:X,indent:!1},Y)},lV=async({args:$,executablePath:X,defaultViewport:Y,indent:Q,logLevel:J,userDataDir:q,timeout:W})=>{let H=await A9.create({defaultViewport:Y,args:$,executablePath:X,timeout:W,userDataDir:q,logLevel:J,indent:Q});try{await H.waitForTarget((G)=>{return G.type()==="page"},{timeout:W})}catch(G){throw await H.close({silent:!1}),G}return H},e6="144.0.7559.20",YY="1207",I4=()=>{if(OQ.platform()!=="linux")return!1;try{let $=BQ.readFileSync("/etc/os-release","utf-8");return $.includes("Amazon Linux")&&$.includes('VERSION="2023"')}catch{return!1}},nV=[2,35],iV=()=>{if(process.platform!=="linux")return null;let{report:$}=process;if(!$)return null;let X=$.getReport();if(typeof X==="string")return null;let{glibcVersionRuntime:Y}=X.header;if(!Y)return null;let Q=Y.split(".");if(Q.length!==2)return null;return[Number(Q[0]),Number(Q[1])]},sV=($)=>{let X=iV();if(X===null)return!1;let[Y,Q]=X,[J,q]=$;if(Y>J)return!0;if(Y===J&&Q>=q)return!0;return!1},QY=()=>{if(process.platform!=="linux")return!1;return sV(nV)};function NQ({platform:$,version:X,chromeMode:Y}){if($==="linux-arm64"){if(I4()&&Y==="headless-shell"&&!X)return"https://remotion.media/chromium-headless-shell-amazon-linux-arm64-144.0.7559.20.zip";if(Y==="chrome-for-testing")return`https://playwright.azureedge.net/builds/chromium/${X??YY}/chromium-linux-arm64.zip`;if(X)return`https://playwright.azureedge.net/builds/chromium/${X}/chromium-headless-shell-linux-arm64.zip`;if(QY())return`https://remotion.media/chromium-headless-shell-linux-arm64-${e6}.zip?clearcache`;return`https://playwright.azureedge.net/builds/chromium/${YY}/chromium-headless-shell-linux-arm64.zip`}if(Y==="headless-shell"){if(I4()&&$==="linux64"&&!X)return"https://remotion.media/chromium-headless-shell-amazon-linux-x64-144.0.7559.20.zip";if($==="linux64"&&X===null){if(QY())return`https://remotion.media/chromium-headless-shell-linux-x64-${e6}.zip?clearcache`;return`https://storage.googleapis.com/chrome-for-testing-public/${e6}/${$}/chrome-headless-shell-${$}.zip`}return`https://storage.googleapis.com/chrome-for-testing-public/${X??e6}/${$}/chrome-headless-shell-${$}.zip`}return`https://storage.googleapis.com/chrome-for-testing-public/${X??e6}/${$}/chrome-${$}.zip`}var oV=({url:$,logLevel:X,indent:Y})=>{D.info({indent:Y,logLevel:X},`Downloading from: ${$}`)},tV=()=>{let $=process.cwd(),X=$;for(;;){try{if(rV.statSync(s1.join(X,"package.json")).isFile())break}catch(Q){}let Y=s1.dirname(X);if(X===Y){X=void 0;break}X=Y}if(!X)return s1.resolve($,".remotion");if(process.versions.pnp==="1")return s1.resolve(X,".pnp/.remotion");if(process.versions.pnp==="3")return s1.resolve(X,".yarn/.remotion");return s1.resolve(X,"node_modules/.remotion")},aV=x0.promises.mkdir,eV=pV(x0.unlink.bind(x0));function X4($){return new Promise((X)=>{x0.access($,(Y)=>{return X(!Y)})})}var $7=()=>{let $=$1.platform();switch($){case"darwin":return $1.arch()==="arm64"?"mac-arm64":"mac-x64";case"linux":return $1.arch()==="arm64"?"linux-arm64":"linux64";case"win32":return"win64";default:throw Error("Unsupported platform: "+$)}},z9=($)=>{let X=$==="headless-shell"?"chrome-headless-shell":"chrome-for-testing";return r0.join(tV(),X)},MQ=($)=>{let X=z9($);return r0.join(X,"VERSION")},$K=($,X)=>{if($)return $;return e6},DQ=($)=>{let X=MQ($);try{return x0.readFileSync(X,"utf-8").trim()}catch{return null}},XK=($,X)=>{let Y=MQ($);x0.writeFileSync(Y,X)},YK=async({logLevel:$,indent:X,onProgress:Y,version:Q,chromeMode:J})=>{let q=$7(),W=NQ({platform:q,version:Q,chromeMode:J}),H=W.split("/").pop();if(!H)throw Error(`A malformed download URL was found: ${W}.`);let G=z9(J),_=r0.join(G,H),j=X7(G,q),V=$K(Q,J);if(await X4(j)){if(DQ(J)===V)return V9(J);x0.rmSync(j,{recursive:!0,force:!0})}if(!await X4(G))await aV(G,{recursive:!0});if($1.platform()!=="darwin"&&$1.platform()!=="linux"&&$1.arch()==="arm64")throw Error(["Chrome Headless Shell is not available for Windows for arm64 architecture."].join(`
`));oV({url:W,logLevel:$,indent:X});try{await O9({url:W,to:()=>_,onProgress:(M)=>{if(M.totalSize===null||M.percent===null)throw Error("Expected totalSize and percent to be defined");Y({downloadedBytes:M.downloaded,totalSizeInBytes:M.totalSize,percent:M.percent,alreadyAvailable:!1})},indent:X,logLevel:$,abortSignal:new AbortController().signal}),await wQ.default(_,{dir:j});let B=["chrome-linux","chrome-headless-shell-linux64","chromium-headless-shell-amazon-linux2023-arm64","chromium-headless-shell-amazon-linux2023-x64"];for(let M of B){let O=r0.join(j,M),N=r0.join(O,"chrome");if(x0.existsSync(N)){let A=r0.join(O,"chrome-headless-shell");x0.renameSync(N,A)}if(x0.existsSync(O)){let A=r0.join(j,"chrome-headless-shell-"+q);if(O!==A)x0.renameSync(O,A)}}}catch(B){return Promise.reject(B)}finally{if(await X4(_))await eV(_)}XK(J,V);let U=V9(J);return i8(U.executablePath),U},X7=($,X)=>{return r0.resolve($,X)},QK=($)=>{let X=z9($),Y=$7(),Q=X7(X,Y);if($==="chrome-for-testing"){if(Y==="mac-arm64"||Y==="mac-x64")return r0.join(Q,`chrome-${Y}`,"Google Chrome for Testing.app/Contents/MacOS/Google Chrome for Testing");if(Y==="win64")return r0.join(Q,"chrome-win64","chrome.exe");if(Y==="linux64"||Y==="linux-arm64")return r0.join(Q,"chrome-linux64","chrome");throw Error("unsupported platform"+Y)}if($==="headless-shell")return r0.join(Q,`chrome-headless-shell-${Y}`,Y==="win64"?"chrome-headless-shell.exe":Y==="linux-arm64"||I4()?"headless_shell":"chrome-headless-shell");throw Error("unsupported chrome mode"+$)},V9=($)=>{let X=QK($),Y=z9($),Q=$7(),J=X7(Y,Q),q=NQ({platform:Q,version:null,chromeMode:$}),W=x0.existsSync(J);return{executablePath:X,folderPath:J,local:W,url:q}},Y4=Promise.resolve(),JK=async({indent:$,logLevel:X,browserExecutable:Y,onBrowserDownload:Q,chromeMode:J})=>{let q=JY({browserExecutable:Y,chromeMode:J});if(q.type==="version-mismatch"){let H=q.actualVersion?` (installed: ${q.actualVersion})`:"";D.info({indent:$,logLevel:X},`This version of Remotion uses Chrome version ${e6}, but the installed one differs${H}. Re-downloading.`)}if(q.type==="no-browser"||q.type==="version-mismatch"){let{onProgress:H,version:G}=Q({chromeMode:J});await YK({indent:$,logLevel:X,onProgress:H,version:G,chromeMode:J})}return JY({browserExecutable:Y,chromeMode:J})},EQ=($)=>{return Y4=Y4.then(()=>JK($)),Y4},JY=({browserExecutable:$,chromeMode:X})=>{if($){if(!XY.existsSync($))throw Error(`"browserExecutable" was specified as '${$}' but the path doesn't exist. Pass "null" for "browserExecutable" to download a browser automatically.`);return{path:$,type:"user-defined-path"}}let Y=V9(X);if(Y.local&&XY.existsSync(Y.executablePath)){let Q=DQ(X);if(Q===e6)return{path:Y.executablePath,type:"local-puppeteer-browser"};return{type:"version-mismatch",actualVersion:Q}}return{type:"no-browser"}};var qK=({browserExecutablePath:$,indent:X,logLevel:Y,chromeMode:Q})=>{if($){if(!qY.existsSync($))D.warn({indent:X,logLevel:Y},`Browser executable was specified as '${$}' but the path doesn't exist.`);return{path:$,type:"user-defined-path"}}let J=V9(Q);if(J.local&&qY.existsSync(J.executablePath))return{path:J.executablePath,type:"local-puppeteer-browser"};return{type:"no-browser"}},WK=({preferredBrowserExecutable:$,logLevel:X,indent:Y,chromeMode:Q})=>{let J=qK({browserExecutablePath:$,indent:Y,logLevel:X,chromeMode:Q});if(J.type==="no-browser"||J.type==="version-mismatch")throw TypeError("No browser found for rendering frames! Please open a GitHub issue and describe how you reached this error: https://remotion.dev/issue");return J.path},Q4,_K=()=>{if(Q4!==void 0)return Q4;try{let $=parseInt(HK("nproc",{stdio:"pipe"}).toString().trim(),10);return Q4=$,$}catch{return null}},Y7=()=>{let $=GK().length,X=_K();if(X===null)return $;return Math.min(X,$)},jK=()=>{try{let $=I9("/sys/fs/cgroup/memory.max","utf-8");if($.trim()==="max")return 1/0;return parseInt($,10)}catch{return null}},VK=()=>{try{let $=I9("/sys/fs/cgroup/memory.current","utf-8");return parseInt($,10)}catch{return null}},KK=()=>{try{let $=I9("/sys/fs/cgroup/memory/memory.limit_in_bytes","utf-8");if($.trim()==="max")return 1/0;return parseInt($,10)}catch{return null}},UK=()=>{try{let $=I9("/sys/fs/cgroup/memory/memory.usage_in_bytes","utf-8");return parseInt($,10)}catch{return null}},wK=()=>{let $=jK();if($!==null){let Y=VK();if(Y!==null)return $-Y}let X=KK();if(X!==null){let Y=UK();if(Y!==null)return X-Y}return null},BK=()=>{if(process.env.AWS_LAMBDA_FUNCTION_MEMORY_SIZE)return parseInt(process.env.AWS_LAMBDA_FUNCTION_MEMORY_SIZE,10)*1024*1024;return null},WY=($)=>{if(!OK("/proc/meminfo"))return null;try{let Q=NK("/proc/meminfo","utf-8").split(`
`).find((H)=>H.startsWith("MemAvailable"));if(!Q)throw Error("MemAvailable not found in /proc/meminfo");let J=Q.match(/(\d+)\s+(\w+)/);if(!J||J.length!==3)throw Error("Failed to parse MemAvailable value");let q=parseInt(J[1],10),W=J[2].toLowerCase();switch(W){case"kb":return q*1024;case"mb":return q*1024*1024;case"gb":return q*1024*1024*1024;default:throw Error(`Unknown unit: ${W}`)}}catch(X){return D.warn({indent:!1,logLevel:$},"/proc/meminfo exists but failed to get memory info. Error:"),D.warn({indent:!1,logLevel:$},X),null}},a1=($)=>{let X=BK();if(X!==null){let J=t2();return Math.min(J,X)}let Y=wK();if(Y!==null){let J=t2(),q=WY($);if(Y>J*1.25&&Number.isFinite(Y)){if(D.warn({indent:!1,logLevel:$},"Detected differing memory amounts:"),D.warn({indent:!1,logLevel:$},`Memory reported by CGroup: ${(Y/1024/1024).toFixed(2)} MB`),q!==null)D.warn({indent:!1,logLevel:$},`Memory reported by /proc/meminfo: ${(q/1024/1024).toFixed(2)} MB`);D.warn({indent:!1,logLevel:$},`Memory reported by Node: ${(J/1024/1024).toFixed(2)} MB`),D.warn({indent:!1,logLevel:$},"You might have inadvertenly set the --memory flag of `docker run` to a value that is higher than the global Docker memory limit."),D.warn({indent:!1,logLevel:$},"Using the lower amount of memory for calculation.")}return Math.min(J,Y)}let Q=WY($);if(Q!==null)return Math.min(t2(),Q);return t2()},MK=400000000,DK=2000000000,EK=($)=>{let X=a1($),Q=Y7()*2/3,J=(X-DK)/MK,q=Math.min(Q,J);return Math.max(1,Math.round(q))},v4=["swangle","angle","egl","swiftshader","vulkan","angle-egl"],J7=null,AQ=($)=>{if($===null)return null;if(!v4.includes($))throw TypeError(`${$} is not a valid GL backend. Accepted values: ${v4.join(", ")}`);return $},AK=($)=>{let X=$??J7,Y=["NetworkService","NetworkServiceInProcess"];if(X==="vulkan")return[...Y,"Vulkan","UseSkiaRenderer"];if(X==="angle-egl")return[...Y,"VaapiVideoDecoder"];return Y},LK=($)=>{let X=$??J7;if(AQ(X),X==="swangle")return["--use-gl=angle","--use-angle=swiftshader"];if(X==="angle-egl")return["--use-gl=angle","--use-angle=gl-egl"];if(X==="vulkan")return["--use-angle=vulkan","--use-vulkan=native","--disable-vulkan-fallback-to-gl-for-testing","--disable-vulkan-surface","--ignore-gpu-blocklist","--enable-gpu"];if(X===null)return[];return[`--use-gl=${X}`]},v9=async({browser:$,browserExecutable:X,chromiumOptions:Y,forceDeviceScaleFactor:Q,indent:J,viewport:q,logLevel:W,onBrowserDownload:H,chromeMode:G})=>{if($==="firefox")throw TypeError("Firefox supported is not yet turned on. Stay tuned for the future.");D.verbose({indent:J,logLevel:W},"Ensuring browser executable"),await EQ({browserExecutable:X,logLevel:W,indent:J,onBrowserDownload:H,chromeMode:G}),D.verbose({indent:J,logLevel:W},"Ensured browser is available.");let _=WK({preferredBrowserExecutable:X,logLevel:W,indent:J,chromeMode:G}),j=LK(Y.gl??null),V=Y.enableMultiProcessOnLinux??!0;if(D.verbose({indent:J,logLevel:W,tag:"openBrowser()"},`Opening browser: gl = ${Y.gl}, executable = ${_}, enableMultiProcessOnLinux = ${V}`),Y.userAgent)D.verbose({indent:J,logLevel:W,tag:"openBrowser()"},`Using custom user agent: ${Y.userAgent}`);let U=await uV.promises.mkdtemp(dV.join(cV.tmpdir(),"puppeteer_dev_chrome_profile-")),B=await lV({executablePath:_,logLevel:W,indent:J,userDataDir:U,timeout:25000,args:["about:blank","--allow-pre-commit-input","--disable-background-networking",`--enable-features=${AK(Y.gl).join(",")}`,"--disable-background-timer-throttling","--disable-backgrounding-occluded-windows","--disable-breakpad","--disable-client-side-phishing-detection","--disable-component-extensions-with-background-pages","--disable-default-apps","--disable-dev-shm-usage","--no-proxy-server","--proxy-server='direct://'","--proxy-bypass-list=*","--force-gpu-mem-available-mb=4096","--disable-hang-monitor","--disable-extensions","--allow-chrome-scheme-url","--disable-ipc-flooding-protection","--disable-popup-blocking","--disable-prompt-on-repost","--disable-renderer-backgrounding","--disable-sync","--force-color-profile=srgb","--metrics-recording-only","--mute-audio","--no-first-run",`--video-threads=${EK(W)}`,"--enable-automation","--password-store=basic","--use-mock-keychain","--enable-blink-features=IdleDetection","--export-tagged-pdf","--intensive-wake-up-throttling-policy=0",Y.headless??!0?G==="chrome-for-testing"?"--headless=new":"--headless=old":null,"--no-sandbox","--disable-setuid-sandbox",...j,"--disable-background-media-suspend",process.platform==="linux"&&Y.gl!=="vulkan"&&!V?"--single-process":null,"--allow-running-insecure-content","--disable-component-update","--disable-domain-reliability","--disable-features=AudioServiceOutOfProcess,IsolateOrigins,site-per-process,Translate,BackForwardCache,AvoidUnnecessaryBeforeUnloadCheckSync,IntensiveWakeUpThrottling,LocalNetworkAccessChecks,BlockInsecurePrivateNetworkRequests,PrivateNetworkAccessSendPreflights,PrivateNetworkAccessRespectPreflightResults","--disable-print-preview","--disable-site-isolation-trials","--disk-cache-size=268435456","--hide-scrollbars","--no-default-browser-check","--no-pings","--font-render-hinting=none","--no-zygote","--ignore-gpu-blocklist","--enable-unsafe-webgpu",typeof Q>"u"?null:`--force-device-scale-factor=${Q}`,Y.ignoreCertificateErrors?"--ignore-certificate-errors":null,...Y?.disableWebSecurity?["--disable-web-security"]:[],Y?.userAgent?`--user-agent="${Y.userAgent}"`:null,"--remote-debugging-port=0",`--user-data-dir=${U}`].filter(Boolean),defaultViewport:q??{height:720,width:1280,deviceScaleFactor:1}});return await(await B.pages())[0]?.close(),B};var q7=async({passedInInstance:$,browserExecutable:X,chromiumOptions:Y,forceDeviceScaleFactor:Q,indent:J,logLevel:q,onBrowserDownload:W,chromeMode:H,pageIndex:G,onBrowserLog:_,onLog:j})=>{if($){let B=await $.newPage({context:()=>null,logLevel:q,indent:J,pageIndex:G,onBrowserLog:_,onLog:j});return{page:B,cleanupPage:()=>{return B.close().catch((M)=>{if(!M.message.includes("Target closed"))D.error({indent:J,logLevel:q},"Was not able to close puppeteer page",M)}),Promise.resolve()}}}let V=await v9({browser:N9,browserExecutable:X,chromiumOptions:Y,forceDeviceScaleFactor:Q,indent:J,viewport:null,logLevel:q,onBrowserDownload:W,chromeMode:H});return{page:await V.newPage({context:()=>null,logLevel:q,indent:J,pageIndex:G,onBrowserLog:_,onLog:j}),cleanupPage:()=>{return V.close({silent:!0}).catch((B)=>{if(!B.message.includes("Target closed"))D.error({indent:J,logLevel:q},"Was not able to close puppeteer page",B)}),Promise.resolve()}}},P9=2,IK=($,X)=>{if(X.src.length<400)return X;let Y=$.find((Q)=>Q.src===X.src);if(!Y)return X;return{...X,src:`same-as-${Y.id}-${Y.frame}`}},LQ=($)=>{return $.startsWith("same-as")},y8={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/ace+json":{source:"iana",compressible:!0},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/aif+cbor":{source:"iana"},"application/aif+json":{source:"iana",compressible:!0},"application/alto-cdni+json":{source:"iana",compressible:!0},"application/alto-cdnifilter+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-propmap+json":{source:"iana",compressible:!0},"application/alto-propmapparams+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwl":{source:"iana",extensions:["cwl"]},"application/cwl+json":{source:"iana",compressible:!0},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"apache",compressible:!0,extensions:["ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdf":{source:"iana",extensions:["fdf"]},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"apache",charset:"UTF-8",compressible:!0,extensions:["js"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/linkset":{source:"iana"},"application/linkset+json":{source:"iana",compressible:!0},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["sig","asc"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0,extensions:["xsf"]},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"apache"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-msgstore-ctrl-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-regroup+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"apache",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"apache"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"apache"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.belightsoft.lhzd+zip":{source:"iana",compressible:!1},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"apache",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"apache",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"apache",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.genozip":{source:"iana"},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"apache",compressible:!0},"application/vnd.geocube+xml":{source:"apache",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.gnu.taler.exchange+json":{source:"iana",compressible:!0},"application/vnd.gnu.taler.merchant+json":{source:"iana",compressible:!0},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"apache"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"apache",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"apache"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.ipld.car":{source:"iana"},"application/vnd.ipld.raw":{source:"iana"},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"apache",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"apache",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"apache",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.onvif.metadata":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0,extensions:["xhtm"]},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml","uo"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xfdf":{source:"iana",extensions:["xfdf"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+cbor":{source:"iana"},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana",extensions:["adts","aac"]},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"apache"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp","dib"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif","btf"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana",extensions:["apng"]},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"apache"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"apache"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"apache"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/prc":{source:"iana",extensions:["prc"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/u3d":{source:"iana",extensions:["u3d"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana",extensions:["pyo","pyox"]},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"apache"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["md","markdown"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"apache"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"apache"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}},PK={},RQ={};TK(PK,{});var xK=($)=>{return y8[$.toLowerCase()]?.extensions?.[0]??null};function FQ($){if(!$||typeof $!=="string")return!1;let X=vK("."+$).toLowerCase().substr(1);if(!X)return!1;return RQ[X]||!1}function TK($,X){let Y=["nginx","apache",void 0,"iana"];Object.keys(y8).forEach((Q)=>{let J=y8[Q],q=J.extensions;if(!q?.length)return;$[Q]=q;for(let W=0;W<q.length;W++){let H=q[W];if(X[H]){let G=Y.indexOf(y8[X[H]].source),_=Y.indexOf(J.source);if(X[H]!=="application/octet-stream"&&(G>_||G===_&&X[H].substr(0,12)==="application/"))continue}RQ[H]=Q}})}function zQ($){if(!$||typeof $!=="string")return!1;let X=$.indexOf("/")===-1?FQ($):$;if(!X)return!1;if(X.indexOf("charset")===-1){let Y=CK(X);if(Y)X+="; charset="+Y.toLowerCase()}return X}var bK=/^\s*([^;\s]*)(?:;|\s|$)/,ZK=/^text\//i;function CK($){if(!$||typeof $!=="string")return!1;let X=bK.exec($),Y=X&&y8[X[1].toLowerCase()];if(Y?.charset)return Y.charset;if(X&&ZK.test(X[1]))return"UTF-8";return!1}var H7=($)=>{let X=[],Y=0,Q=()=>{if(Y--,X.length>0)X.shift()?.()},J=async(H,G,..._)=>{Y++;let j=(async()=>H(..._))();G(j);try{await j}catch{}Q()},q=(H,G,..._)=>{X.push(()=>J(H,G,..._)),(async()=>{if(await Promise.resolve(),Y<$&&X.length>0)X.shift()?.()})()},W=(H,...G)=>new Promise((_)=>{q(H,_,...G)});return Object.defineProperties(W,{activeCount:{get:()=>Y},pendingCount:{get:()=>X.length},clearQueue:{value:()=>{X.length=0}}}),W},SK=H7(1),kK=async({src:$,indent:X,logLevel:Y,binariesDirectory:Q,cancelSignal:J,audioStreamIndex:q})=>{let W=[["-v","error"],["-select_streams",q?`a:${q}`:"a:0"],["-show_entries","stream=channels:stream=start_time:format=duration:format=format_name"],["-of","default=nw=1"],[$]].reduce((H,G)=>H.concat(G),[]).filter(Boolean);try{let H=await J6({bin:"ffprobe",args:W,indent:X,logLevel:Y,binariesDirectory:Q,cancelSignal:J}),G=H.stdout.match(/channels=([0-9]+)/),_=H.stdout.match(/duration=([0-9.]+)/),j=H.stdout.match(/start_time=([0-9.]+)/),V=H.stdout.match(/format_name=([a-zA-Z0-9.]+)/),U=V?V[1]==="mp3":!1;return{channels:G?parseInt(G[1],10):0,duration:_?parseFloat(_[1]):null,startTime:j?U?0:parseFloat(j[1]):null}}catch(H){if(H.message.includes("This file cannot be read by `ffprobe`. Is it a valid multimedia file?"))throw Error("This file cannot be read by `ffprobe`. Is it a valid multimedia file?");throw H}};async function hK({downloadMap:$,src:X,indent:Y,logLevel:Q,binariesDirectory:J,cancelSignal:q,audioStreamIndex:W}){let H=W?`${X}-${W}`:X;if($.durationOfAssetCache[H])return $.durationOfAssetCache[H];let G=await kK({src:X,indent:Y,logLevel:Q,binariesDirectory:J,cancelSignal:q,audioStreamIndex:W});return $.durationOfAssetCache[H]=G,G}var IQ=({downloadMap:$,src:X,indent:Y,logLevel:Q,binariesDirectory:J,cancelSignal:q,audioStreamIndex:W})=>{return SK(()=>hK({downloadMap:$,src:X,indent:Y,logLevel:Q,binariesDirectory:J,cancelSignal:q,audioStreamIndex:W}))};function yK($){return $>=55296&&$<=56319}function gK($){return $>=56320&&$<=57343}var mK=Buffer.byteLength.bind(Buffer);function uK($,X){if(typeof $!=="string")throw Error("Input must be string");let Y=$.length,Q=0,J,q;for(let W=0;W<Y;W+=1){if(J=$.charCodeAt(W),q=$[W],yK(J)&&gK($.charCodeAt(W+1)))W+=1,q+=$[W];if(Q+=mK(q),Q===X)return $.slice(0,W+1);if(Q>X)return $.slice(0,W-q.length+1)}return $}var cK=/[/?<>\\:*|"]/g,dK=/[\x00-\x1f\x80-\x9f]/g,lK=/^\.+$/,pK=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,nK=/[. ]+$/;function _Y($,X){if(typeof $!=="string")throw Error("Input must be string");let Y=$.replace(cK,X).replace(dK,X).replace(lK,X).replace(pK,X).replace(nK,X);return uK(Y,255)}var iK=($)=>{let Y=_Y($,"");return Y},sK=/[/\\]/,oK=($)=>{return $.split(sK).map((X)=>iK(X)).join(fK.sep)},rK=({src:$,downloadDir:X,downloadMap:Y})=>{if(Y.hasBeenDownloadedMap[$]?.[X])return Promise.resolve(Y.hasBeenDownloadedMap[$]?.[X]);if(!Y.listeners[$])Y.listeners[$]={};if(!Y.listeners[$][X])Y.listeners[$][X]=[];return new Promise((Q)=>{Y.listeners[$][X].push(()=>{let J=Y.hasBeenDownloadedMap[$];if(!J?.[X])throw Error("Expected file for "+$+"to be available in "+X);Q(J[X])})})},jY=({src:$,downloadDir:X,to:Y,downloadMap:Q})=>{if(!Q.listeners[$])Q.listeners[$]={};if(!Q.listeners[$][X])Q.listeners[$][X]=[];if(!Q.isDownloadingMap[$])Q.isDownloadingMap[$]={};if(Q.isDownloadingMap[$][X]=!1,!Q.hasBeenDownloadedMap[$])Q.hasBeenDownloadedMap[$]={};Q.hasBeenDownloadedMap[$][X]=Y,Q.listeners[$][X].forEach((J)=>J())},tK=($,X)=>{if(!$.includes("/")){let Y=["A data URL was passed but did not have the correct format so that Remotion could convert it for the video to be rendered.","The format of the data URL must be `data:[mime-type];[encoding],[data]`.","The `mime-type` parameter must be a valid mime type.","The data that was received is (truncated to 100 characters):",X.substr(0,100)].join(" ");throw TypeError(Y)}};function aK($,X){let Y=$,Q=["ascii","base64","base64url","binary","hex","latin1","ucs-2","ucs2","utf-8","utf16le","utf8"];if(!Q.find((J)=>Y===J)){let J=["A data URL was passed but did not have the correct format so that Remotion could convert it for the video to be rendered.","The format of the data URL must be `data:[mime-type];[encoding],[data]`.","The `encoding` parameter must be one of the following:",`${Q.join(" ")}.`,"The data that was received is (truncated to 100 characters):",X.substr(0,100)].join(" ");throw TypeError(J)}}var vQ=async({src:$,downloadMap:X,indent:Y,logLevel:Q,shouldAnalyzeAudioImmediately:J,binariesDirectory:q,cancelSignalForAudioAnalysis:W,audioStreamIndex:H})=>{if(LQ($))return $;let{downloadDir:G}=X;if(X.hasBeenDownloadedMap[$]?.[G]){let j=X.hasBeenDownloadedMap[$]?.[G];if(GY.existsSync(j))return j;if(X.hasBeenDownloadedMap[$][G]=null,!X.isDownloadingMap[$])X.isDownloadingMap[$]={};X.isDownloadingMap[$][G]=!1}if(X.isDownloadingMap[$]?.[G])return rK({downloadMap:X,src:$,downloadDir:G});if(!X.isDownloadingMap[$])X.isDownloadingMap[$]={};if(X.isDownloadingMap[$][G]=!0,X.emitter.dispatchDownload($),$.startsWith("data:")){let[j,V]=$.substring(5).split(",");if(!j.includes(";")){let N=["A data URL was passed but did not have the correct format so that Remotion could convert it for the video to be rendered.","The format of the data URL must be `data:[mime-type];[encoding],[data]`.","The data that was received is (truncated to 100 characters):",$.substring(0,100)].join(" ");throw TypeError(N)}let[U,B]=j.split(";");tK(U,$),aK(B,$);let M=VY({contentDisposition:null,downloadDir:G,src:$,contentType:U});d8(M);let O=Buffer.from(V,B);return await GY.promises.writeFile(M,O),jY({src:$,downloadMap:X,downloadDir:G,to:M}),M}let{to:_}=await O9({url:$,onProgress:(j)=>{X.emitter.dispatchDownloadProgress($,j.percent,j.downloaded,j.totalSize)},to:(j,V)=>VY({contentDisposition:j,downloadDir:G,src:$,contentType:V}),indent:Y,logLevel:Q,abortSignal:X.cleanupController.signal});if(jY({src:$,downloadMap:X,downloadDir:G,to:_}),J)await IQ({binariesDirectory:q,downloadMap:X,src:_,indent:Y,logLevel:Q,cancelSignal:W,audioStreamIndex:H});return _},eK=($)=>{Object.keys($.hasBeenDownloadedMap).forEach((X)=>{delete $.hasBeenDownloadedMap[X]}),Object.keys($.isDownloadingMap).forEach((X)=>{delete $.isDownloadingMap[X]})},$U=({contentDisposition:$,src:X,contentType:Y})=>{if($?.includes("filename=")){let H=$.indexOf("filename="),G=$.substring(H+9),_=G.indexOf(";");if(_===-1)return{pathname:G.trim(),search:""};return{search:"",pathname:G.substring(0,_).trim()}}let{pathname:J,search:q}=new URL(X);if(!zK(J)&&Y){let H=xK(Y);return{pathname:`${J}.${H}`,search:q}}return{pathname:J,search:q}},VY=({src:$,downloadDir:X,contentDisposition:Y,contentType:Q})=>{if(LQ($))return $;let{pathname:J,search:q}=$U({contentDisposition:Y,contentType:Q,src:$}),W=J.split("."),H=W.length>1&&W[W.length-1]?`.${W[W.length-1]}`:"",_=String(v$(`${$}${J}${q}`)).replace("0.","")+H;return FK.join(X,oK(_))},PQ=async({renderAsset:$,onDownload:X,downloadMap:Y,logLevel:Q,indent:J,binariesDirectory:q,cancelSignalForAudioAnalysis:W,shouldAnalyzeAudioImmediately:H})=>{let G=P4(Y,X),_=await vQ({src:$.src,downloadMap:Y,indent:J,logLevel:Q,shouldAnalyzeAudioImmediately:H,binariesDirectory:q,cancelSignalForAudioAnalysis:W,audioStreamIndex:$.audioStreamIndex});return G(),{...$,src:_}},P4=($,X)=>{let Y=[];if(!X)return()=>{return};if($.downloadListeners.includes(X))return()=>{return};$.downloadListeners.push(X),Y.push(()=>{return $.downloadListeners=$.downloadListeners.filter((J)=>J!==X),Promise.resolve()});let Q=$.emitter.addEventListener("download",({detail:{src:J}})=>{let q=X(J),W=$.emitter.addEventListener("progress",({detail:{downloaded:H,percent:G,src:_,totalSize:j}})=>{if(J===_)q?.({downloaded:H,percent:G,totalSize:j})});Y.push(()=>{return W(),Promise.resolve()})});return Y.push(()=>{return Q(),Promise.resolve()}),()=>{Y.forEach((J)=>J())}},xQ=()=>{return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},WU=($,X)=>{return{nonce:xQ(),payload:{type:$,params:X}}};var HU=({type:$,payload:X,logLevel:Y,indent:Q,binariesDirectory:J=null})=>{let q=L9({type:"compositor",indent:Q,logLevel:Y,binariesDirectory:J});i8(q);let W=WU($,X),H=qU.dirname(q),G=JU(q,[JSON.stringify(W)],{cwd:H,env:process.platform==="darwin"?{DYLD_LIBRARY_PATH:H}:void 0}),_=[],j=new Map,V=(F,I,P)=>{if(I==="0")D.verbose({indent:Q,logLevel:Y,tag:"compositor"},new TextDecoder("utf8").decode(P));else if(j.has(I)){if(F==="error")try{let x=JSON.parse(new TextDecoder("utf8").decode(P));j.get(I).reject(Error(`Compositor error: ${x.error}
${x.backtrace}`))}catch{j.get(I).reject(Error(new TextDecoder("utf8").decode(P)))}else j.get(I).resolve(P);j.delete(I)}},{onData:U,getOutputBuffer:B,clear:M}=mX(V),O={type:"running"};G.stdout.on("data",U),G.stderr.on("data",(F)=>{_.push(F)});let N=null,A=null;G.on("close",(F,I)=>{let P=Array.from(j.values());if(F===0){O={type:"quit-without-error",signal:I},N?.();for(let x of P)x.reject(Error(`Compositor quit${I?` with signal ${I}`:""}`));j.clear()}else{let x=Buffer.concat(_).toString("utf-8")+new TextDecoder("utf-8").decode(B());O={type:"quit-with-error",error:x,signal:I},D.verbose({indent:Q,logLevel:Y},`Compositor exited with code ${F} and signal ${I}`);let S=F===null?Error(`Compositor exited with signal ${I}`):Error(`Compositor exited with code ${F}: ${x}`);for(let g of P)g.reject(S);j.clear(),A?.(S)}M(),_=[]});let R=()=>{return new Promise((F,I)=>{if(O.type==="quit-without-error"){I(Error(`Compositor quit${O.signal?` with signal ${O.signal}`:""}`));return}if(O.type==="quit-with-error"){I(Error(`Compositor quit${O.signal?` with signal ${O.signal}`:""}: ${O.error}`));return}N=F,A=I})},L=async()=>{if(await Promise.resolve(),O.type==="quit-with-error")return Promise.reject(Error(`Compositor quit${O.signal?` with signal ${O.signal}`:""}: ${O.error}`));if(O.type==="quit-without-error")return Promise.reject(Error(`Compositor quit${O.signal?` with signal ${O.signal}`:""}`));return new Promise((F,I)=>{G.stdin.write(`EOF
`,(P)=>{if(P){I(P);return}F()})})};return{shutDownOrKill:()=>{let F=async()=>{await L(),await R()},I=null,P=async()=>{await new Promise((x)=>{I=setTimeout(x,5000)}),G.kill("SIGKILL")};return Promise.race([F(),P()]).finally(()=>{if(I!==null)clearTimeout(I)})},waitForDone:R,finishCommands:L,executeCommand:(F,I)=>{return new Promise((P,x)=>{if(O.type==="quit-without-error"){x(Error(`Compositor quit${O.signal?` with signal ${O.signal}`:""}`));return}if(O.type==="quit-with-error"){x(Error(`Compositor quit${O.signal?` with signal ${O.signal}`:""}: ${O.error.trim()}`));return}let S=xQ(),g={nonce:S,payload:{type:F,params:I}};G.stdin.write(JSON.stringify(g)+`
`,(h)=>{if(h)x(h)}),j.set(S,{resolve:P,reject:x})})},pid:G.pid??null}},GU=($)=>{if($===void 0||$===null)return;if(typeof $!=="number")throw Error("Expected a number");if($<0||$===0)throw Error("Expected a positive number");if(Number.isNaN($))throw Error("Expected a number");if(!Number.isFinite($))throw Error("Expected a finite number");if($%1!==0)throw Error("Expected a whole number")},_U=($)=>{let Y=new URL($,"http://localhost").search;if(!Y.trim())throw Error("Expected query from "+$);let Q=new QU(Y),J=Q.get("src");if(!J)throw Error("Did not pass `src` parameter");let q=Q.get("time");if(!q)throw Error("Did not get `time` parameter");let W=Q.get("transparent"),H=Q.get("toneMapped");if(!H)throw Error("Did not get `toneMapped` parameter");return{src:J,time:parseFloat(q),transparent:W==="true",toneMapped:H==="true"}},KY="Request closed",jU=({downloadMap:$,logLevel:X,indent:Y,offthreadVideoCacheSizeInBytes:Q,binariesDirectory:J,offthreadVideoThreads:q})=>{GU(Q);let W=HU({type:"StartLongRunningProcess",payload:{concurrency:q,maximum_frame_cache_size_in_bytes:Q,verbose:t6(X,"verbose")},logLevel:X,indent:Y,binariesDirectory:J});return{close:()=>{return W.shutDownOrKill()},listener:(H,G)=>{if(!H.url)throw Error("Request came in without URL");if(!H.url.startsWith("/proxy")){G.writeHead(404),G.end();return}let{src:_,time:j,transparent:V,toneMapped:U}=_U(H.url);if(G.setHeader("access-control-allow-origin","*"),G.setHeader("cache-control","no-cache, no-store, must-revalidate"),H.method==="OPTIONS"){if(G.statusCode=200,H.headers["access-control-request-private-network"])G.setHeader("Access-Control-Allow-Private-Network","true");G.end();return}let B=!1;H.on("close",()=>{B=!0});let M=Date.now();vQ({src:_,downloadMap:$,indent:Y,logLevel:X,binariesDirectory:J,cancelSignalForAudioAnalysis:void 0,shouldAnalyzeAudioImmediately:!0,audioStreamIndex:void 0}).then((O)=>{return new Promise((N,A)=>{if(B){A(Error(KY));return}M=Date.now(),W.executeCommand("ExtractFrame",{src:O,original_src:_,time:j,transparent:V,tone_mapped:U}).then(N).catch(A)})}).then((O)=>{return new Promise((N,A)=>{if(B){A(Error(KY));return}if(!O){A(Error("no readable from compositor"));return}let L=Date.now()-M;if(L>1000)D.verbose({indent:Y,logLevel:X},`Took ${L}ms to extract frame from ${_} at ${j}`);let v=O.at(0),F=O.at(1),I=O.at(2),P=v===137&&F===80&&I===78,x=v===66&&F===77;if(P)G.setHeader("content-type","image/png"),G.setHeader("content-length",O.byteLength);else if(x)G.setHeader("content-type","image/bmp"),G.setHeader("content-length",O.byteLength);else{A(Error(`Unknown file type: ${v} ${F} ${I}`));return}G.writeHead(200),G.write(O,(S)=>{if(G.end(),S)A(S);else N()})})}).catch((O)=>{if(D.error({indent:Y,logLevel:X},"Could not extract frame from compositor",O),G.headersSent)D.error({indent:Y,logLevel:X},"Cannot propagate error message to client because headers have already been sent");else G.writeHead(500),G.write(JSON.stringify({error:O.stack}));G.end()})},compositor:W}};class TQ{listeners={progress:[],download:[]};addEventListener($,X){return this.listeners[$].push(X),()=>{this.removeEventListener($,X)}}removeEventListener($,X){this.listeners[$]=this.listeners[$].filter((Y)=>Y!==X)}dispatchEvent($,X){this.listeners[$].forEach((Y)=>{Y({detail:X})})}dispatchDownloadProgress($,X,Y,Q){this.dispatchEvent("progress",{downloaded:Y,percent:X,totalSize:Q,src:$})}dispatchDownload($){this.dispatchEvent("download",{src:$})}}var wY="abcdefghijklmnopqrstuvwxyz0123456789",wU=()=>{return[,,,,,,,,,,].fill(1).map(()=>{return wY[Math.floor(Math.random()*wY.length)]}).join("")},x9=($)=>{let X=UU.join(KU.tmpdir(),$+wU());if(UY.existsSync(X))UY.rmSync(X,{recursive:!0,force:!0});return VU(X),X},S0=48000,OU=async({input:$,output:X,toneFrequency:Y,indent:Q,logLevel:J,binariesDirectory:q,cancelSignal:W})=>{let H=`asetrate=${S0}*${Y},aresample=${S0},atempo=1/${Y}`,G=["-hide_banner","-i",$,["-ac","2"],"-filter:a",H,["-c:a","pcm_s16le"],["-ar",String(S0)],"-y",X].flat(2);D.verbose({indent:Q,logLevel:J},"Changing tone frequency using FFmpeg:",JSON.stringify(G.join(" ")),"Filter:",H);let _=Date.now();await J6({bin:"ffmpeg",args:G,indent:Q,logLevel:J,binariesDirectory:q,cancelSignal:W}),D.verbose({indent:Q,logLevel:J},"Changed tone frequency using FFmpeg",`${Date.now()-_}ms`)},a2=($)=>{return new Uint8Array([$&255,$>>8&255,$>>16&255,$>>24&255])},BY=($)=>{return new Uint8Array([$&255,$>>8&255])},q4=($)=>{let X=Math.round($);if(Math.abs($-X)<0.00001)return X;return $},x4=16,e2=x4/8,E1=2,NU=($)=>{let X=r6($,"remotion-inline-audio-mixing"),Y={},Q={},J={},q=()=>{for(let V of Object.values(Y))try{J4.closeSync(V)}catch{}f0(X)},W=()=>{return Object.keys(Y)},H=(V)=>{return BU.join(X,`${V.id}.wav`)},G=({asset:V,fps:U,totalNumberOfFrames:B,trimLeftOffset:M,trimRightOffset:O})=>{let N=H(V);if(!Y[N])Y[N]=J4.openSync(N,"w");if(Q[N])return;Q[N]=!0;let A=Math.round((B/U-M+O)*E1*S0*e2),R=40+A,L=Y[N];o0(L,new Uint8Array([82,73,70,70]),0,4,0),o0(L,new Uint8Array(a2(R)),0,4,4),o0(L,new Uint8Array([87,65,86,69]),0,4,8),o0(L,new Uint8Array([102,109,116,32]),0,4,12),o0(L,new Uint8Array([x4,0,0,0]),0,4,16),o0(L,new Uint8Array([1,0]),0,2,20),o0(L,new Uint8Array([E1,0]),0,2,22),o0(L,new Uint8Array(a2(S0)),0,4,24),o0(L,new Uint8Array(a2(S0*E1*e2)),0,4,28),o0(L,new Uint8Array(BY(E1*e2)),0,2,32),o0(L,BY(x4),0,2,34),o0(L,new Uint8Array([100,97,116,97]),0,4,36),o0(L,new Uint8Array(a2(A)),0,4,40)};return{cleanup:q,addAsset:({asset:V,fps:U,totalNumberOfFrames:B,firstFrame:M,trimLeftOffset:O,trimRightOffset:N})=>{G({asset:V,fps:U,totalNumberOfFrames:B,trimLeftOffset:O,trimRightOffset:N});let A=H(V);if(J[A]!==void 0&&J[A]!==V.toneFrequency)throw Error(`toneFrequency must be the same across the entire audio, got ${V.toneFrequency}, but before it was ${J[A]}`);let R=Y[A];J[A]=V.toneFrequency;let L=new Int16Array(V.audio),v=V.frame===M,F=V.frame===B+M-1,I=O*S0,P=N*S0;if(v)L=L.slice(Math.floor(q4(I))*E1);if(F)L=L.slice(0,L.length+Math.ceil(q4(P))*E1);let x=(V.frame-M)/U-(v?0:O),S=Math.floor(q4(x*S0))*E1*e2;o0(R,L,0,L.byteLength,44+S)},getListOfAssets:W,finish:async({binariesDirectory:V,indent:U,logLevel:B,cancelSignal:M})=>{for(let O of Object.keys(Y)){let N=J[O];if(N!==1){let A=O.replace(/.wav$/,"-tmp.wav");await OU({input:O,output:A,toneFrequency:N,indent:U,logLevel:B,binariesDirectory:V,cancelSignal:M}),J4.renameSync(A,O)}}}}},r6=($,X)=>{let Y=YU.join($,X);return XU(Y),Y},bQ=()=>{let $=x9(`remotion-v${u0}-assets`),X=!1;return{isDownloadingMap:{},hasBeenDownloadedMap:{},listeners:{},durationOfAssetCache:{},id:String(Math.random()),assetDir:$,downloadListeners:[],downloadDir:r6($,"remotion-assets-dir"),complexFilter:r6($,"remotion-complex-filter"),preEncode:r6($,"pre-encode"),audioMixing:r6($,"remotion-audio-mixing"),audioPreprocessing:r6($,"remotion-audio-preprocessing"),stitchFrames:r6($,"remotion-stitch-temp-dir"),compositingDir:r6($,"remotion-compositing-temp-dir"),emitter:new TQ,preventCleanup:()=>{X=!0},allowCleanup:()=>{X=!1},isPreventedFromCleanup:()=>{return X},inlineAudioMixing:NU($),cleanupController:new AbortController}},K9=($)=>{if($.isPreventedFromCleanup())return;$.cleanupController.abort(),f0($.downloadDir),f0($.complexFilter),f0($.compositingDir),$.inlineAudioMixing.cleanup(),f0($.assetDir)},DU=($,X)=>{if(l8($)){let J=new URL($),q=J.pathname.lastIndexOf("/");if(q===-1)return J.origin+"/"+X;return J.origin+J.pathname.substring(0,q+1)+X}let Y=$.lastIndexOf(MU.sep);return $.substring(0,Y+1)+X},EU=($)=>{return DU($,s.bundleMapName)},_7=($)=>{if($.includes("?"))return _7($.substr(0,$.indexOf("?")));if($.endsWith("index.html"))return $;if($.endsWith("/"))return`${$}index.html`;return`${$}/index.html`},ZQ=({timeout:$})=>{let X=[],Y=[],Q=()=>{let H=Math.random();return X.push(H),H},J=(H)=>{X=X.filter((G)=>G!==H),q()},q=()=>{if(X.length===0)Y.forEach((H)=>H())};return{lock:Q,unlock:J,waitForAllToBeDone:()=>{let H=new Promise((_)=>{Y.push(()=>{_()})});if(q(),X.length===0)return Promise.resolve();if($===null)return H;let G=new Promise((_)=>{setTimeout(()=>{return _()},$)});return Promise.race([H,G])}}},RU=({portToTry:$,host:X})=>{return new Promise((Y)=>{let Q="unavailable",J=new LU.Socket;J.on("connect",()=>{Q="unavailable",J.destroy()}),J.setTimeout(3000),J.on("timeout",()=>{Q="unavailable",J.destroy(),Y(Q)}),J.on("error",()=>{Q="available"}),J.on("close",()=>Y(Q)),J.connect($,X)})},CQ=async({hosts:$,port:X})=>{return(await Promise.all($.map((Q)=>{return RU({portToTry:X,host:Q})}))).every((Q)=>Q==="available")?"available":"unavailable"},FU=async({from:$,to:X,hostsToTest:Y,onPortUnavailable:Q})=>{let J=zU($,X);for(let q of J){if(await CQ({port:q,hosts:Y})==="available")return{port:q,didUsePort:!1};if(Q){if(await Q(q)==="stop")return{port:q,didUsePort:!0}}}throw Error("No available ports found")},W4=ZQ({timeout:1e4}),SQ=async({desiredPort:$,from:X,hostsToTry:Y,to:Q,onPortUnavailable:J})=>{await W4.waitForAllToBeDone();let q=W4.lock(),W=()=>W4.unlock(q);if(typeof $<"u"&&await CQ({port:$,hosts:Y})==="available")return{port:$,unlockPort:W,didUsePort:!1};if(typeof $<"u"&&J){if(await J($)==="stop")return{port:$,unlockPort:W,didUsePort:!0}}let H=await FU({from:X,to:Q,hostsToTest:Y,onPortUnavailable:J});if(H.didUsePort)return{port:H.port,unlockPort:W,didUsePort:!0};if($&&$!==H.port)throw W(),Error(`You specified port ${$} to be used for the HTTP server, but it is not available. Choose a different port or remove the setting to let Remotion automatically select a free port.`);return{port:H.port,unlockPort:W,didUsePort:!1}},zU=($,X)=>{if(!Number.isInteger($)||!Number.isInteger(X))throw TypeError("`from` and `to` must be integer numbers");if($<1024||$>65535)throw RangeError("`from` must be between 1024 and 65535");if(X<1024||X>65536)throw RangeError("`to` must be between 1024 and 65536");if(X<$)throw RangeError("`to` must be greater than or equal to `from`");return Array(X-$+1).fill(!0).map((Y,Q)=>{return Q+$})},H4=null,kQ=($)=>{if(H4)return H4;let X=IU.networkInterfaces(),Y=xU(X),Q=vU(Y,$),J=PU(Y),q={host:Q,hostsToTry:J};return H4=q,q},vU=($,X)=>{if(X||!j7($))return"0.0.0.0";return"::"},PU=($)=>{return[TU($)?"::1":null,bU($)?"127.0.0.1":null,j7($)?"::":null,"0.0.0.0"].filter(A0)},xU=($)=>{let X=[];for(let Y in $)for(let Q of $[Y])X.push(Q);return X},j7=($)=>{for(let X of $)if(X.family==="IPv6"&&!X.internal)return!0;return!1},TU=($)=>{for(let X of $)if(X.family==="IPv6"&&X.internal&&X.address==="::1")return!0;return!1},bU=($)=>{for(let X of $)if(X.family==="IPv4"&&X.internal&&X.address==="127.0.0.1")return!0;return!1},fQ=function($,X){if($=OY($),X=OY(X),process.platform==="win32")$=$.toLowerCase(),X=X.toLowerCase();return $.lastIndexOf(X,0)===0&&($[X.length]===hQ.sep||$[X.length]===void 0)};function OY($){if($[$.length-1]===hQ.sep)return $.slice(0,-1);return $}/*!
 * range-parser
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015-2016 Douglas Christopher Wilson
 * MIT Licensed
 */var CU=($,X)=>{if(typeof X!=="string")throw TypeError("argument str must be a string");let Y=X.indexOf("=");if(Y===-1)return-2;let Q=X.slice(Y+1).split(","),J=[],q=X.slice(0,Y);for(let W=0;W<Q.length;W++){let H=Q[W].split("-"),G=parseInt(H[0],10),_=parseInt(H[1],10);if(isNaN(G))G=$-_,_=$-1;else if(isNaN(_))_=$-1;if(_>$-1)_=$-1;if(isNaN(G)||isNaN(_)||G>_||G<0)continue;J.push({start:G,end:_})}if(J.length<1)return-1;return{ranges:J,type:q}},yQ=($,X)=>{let{base:Y}=L1.parse($),Q={};if(X){Q={"Content-Length":String(X.size),"Accept-Ranges":"bytes"},Q["Last-Modified"]=X.mtime.toUTCString();let J=zQ(Y);if(J)Q["Content-Type"]=J}return Q},SU=($,X)=>[L1.join($,`index${X}`),$.endsWith("/")?$.replace(/\/$/g,X):$+X].filter((Y)=>L1.basename(Y)!==X),kU=async($,X)=>{let Y=SU(X,".html"),Q=null;for(let J=0;J<Y.length;J++){let q=Y[J],W=L1.join($,q);try{Q=await T4.lstat(W)}catch(H){if(H.code!=="ENOENT"&&H.code!=="ENOTDIR")throw H}if(Q)return{stats:Q,absolutePath:W}}return null},W9=($,X,Y)=>{let{message:Q,statusCode:J}=Y,q=yQ($,null);X.writeHead(J,{...q,"Content-Type":"application/json"}),X.end(JSON.stringify({statusCode:J,message:Q}))},$9=($,X)=>{return W9($,X,{statusCode:500,code:"internal_server_error",message:"A server error has occurred"})},hU=async($,X,Y)=>{let Q=process.cwd(),J=L1.resolve(Q,Y.public),q=null;try{let U=new URL($.url,`http://${$.headers.host}`);q=decodeURIComponent(U.pathname)}catch{return W9("/",X,{statusCode:400,code:"bad_request",message:"Bad Request"})}let W=L1.join(J,q);if(!fQ(W,J))return W9(W,X,{statusCode:400,code:"bad_request",message:"Bad Request"});let H=null;if(L1.extname(q)!=="")try{H=await T4.lstat(W)}catch(U){if(U.code!=="ENOENT"&&U.code!=="ENOTDIR")return $9(W,X)}if(!H){try{let U=await kU(J,q);if(U)H=U.stats,W=U.absolutePath}catch(U){if(U.code!=="ENOENT"&&U.code!=="ENOTDIR")return $9(W,X)}try{H=await T4.lstat(W)}catch(U){if(U.code!=="ENOENT"&&U.code!=="ENOTDIR")return $9(W,X)}}if(H?.isDirectory())H=null;let G=H?.isSymbolicLink();if(!H||G)return W9(W,X,{statusCode:404,code:"not_found",message:"The requested path ("+W+") could not be found"});let _=null;if($.headers.range&&H.size){let U=CU(H.size,$.headers.range);if(typeof U==="object"&&U.type==="bytes"){let{start:B,end:M}=U.ranges[0];_={start:B,end:M},X.statusCode=206}else X.statusCode=416,X.setHeader("Content-Range",`bytes */${H.size}`)}let j=null;try{j=ZU(W,_??{})}catch{return $9(W,X)}let V=yQ(W,H);if(_!==null)V["Content-Range"]=`bytes ${_.start}-${_.end}/${H.size}`,V["Content-Length"]=String(_.end-_.start+1);V["Cache-Control"]="no-cache, no-store, must-revalidate",X.writeHead(X.statusCode||200,V),j.pipe(X)},b4=async($,X)=>{let{listener:Y,close:Q,compositor:J}=jU({downloadMap:X.downloadMap,offthreadVideoThreads:X.offthreadVideoThreads,logLevel:X.logLevel,indent:X.indent,offthreadVideoCacheSizeInBytes:X.offthreadVideoCacheSizeInBytes,binariesDirectory:X.binariesDirectory}),q={},W=AU.createServer((j,V)=>{if(j.url?.startsWith("/proxy"))return Y(j,V);if($===null){V.writeHead(404),V.end("Server only supports /proxy");return}hU(j,V,{public:$}).catch(()=>{if(!V.headersSent)V.writeHead(500);V.end("Error serving file")})});W.on("connection",(j)=>{let V;try{V=j.remoteAddress+":"+j.remotePort}catch{V=":"}q[V]=j,j.on("close",()=>{delete q[V]})});let H=null,G=10,_=kQ(X.forceIPv4);for(let j=0;j<G;j++){let V=()=>{};try{H=await new Promise((M,O)=>{SQ({desiredPort:X?.port??void 0,from:3000,to:3100,hostsToTry:_.hostsToTry}).then(({port:N,unlockPort:A})=>{V=A,W.listen({port:N,host:_.host}),W.on("listening",()=>{return M(N),V()}),W.on("error",(R)=>{V(),O(R)})}).catch((N)=>{return V(),O(N)})});let U=function(){for(let M in q)q[M].destroy()};return{port:H,close:async()=>{await Promise.all([new Promise((M,O)=>{Q().catch((N)=>{if(N.message.includes("Compositor quit")){M();return}O(N)}).finally(()=>{M()})}),new Promise((M,O)=>{U(),W.close((N)=>{if(N){if(N.code==="ERR_SERVER_NOT_RUNNING")return M();O(N)}else M()})})])},compositor:J}}catch(U){if(!(U instanceof Error))throw U;if(U.code==="EADDRINUSE");else throw U}}throw Error(`Tried ${G} times to find a free port. Giving up.`)},{lock:fU,unlock:yU,waitForAllToBeDone:gU}=ZQ({timeout:50000}),mU=fU,uU=yU,cU=gU,gQ=async({webpackConfigOrServeUrl:$,port:X,remotionRoot:Y,offthreadVideoThreads:Q,logLevel:J,indent:q,offthreadVideoCacheSizeInBytes:W,binariesDirectory:H,forceIPv4:G})=>{let _=bQ();if(D.verbose({indent:q,logLevel:J},"Created directory for temporary files",_.assetDir),l8($)){let{port:N,close:A,compositor:R}=await b4(null,{port:X,downloadMap:_,remotionRoot:Y,offthreadVideoThreads:Q,logLevel:J,indent:q,offthreadVideoCacheSizeInBytes:W,binariesDirectory:H,forceIPv4:G}),L=_7($),v=null;return _Q(EU(L)).then((F)=>{v=F}).catch((F)=>{D.verbose({indent:q,logLevel:J},"Could not fetch sourcemap for ",L,F)}),Promise.resolve({serveUrl:L,closeServer:()=>{return K9(_),v?.destroy(),v=null,A()},offthreadPort:N,compositor:R,sourceMap:()=>v,downloadMap:_})}let j=HY.join($,"index.html");if(!RK(j))throw Error(`Tried to serve the Webpack bundle on a HTTP server, but the file ${j} does not exist. Is this a valid path to a Webpack bundle?`);let U=null;CV(HY.join($,s.bundleName)).then((N)=>{U=N}).catch((N)=>{D.verbose({indent:q,logLevel:J},"Could not fetch sourcemap for ",$,N)});let{port:B,close:M,compositor:O}=await b4($,{port:X,downloadMap:_,remotionRoot:Y,offthreadVideoThreads:Q,logLevel:J,indent:q,offthreadVideoCacheSizeInBytes:W,binariesDirectory:H,forceIPv4:G});return Promise.resolve({closeServer:async(N)=>{if(U?.destroy(),U=null,K9(_),!N)await cU();return M()},serveUrl:`http://localhost:${B}`,offthreadPort:B,compositor:O,sourceMap:()=>U,downloadMap:_})},e1=async($,X,{onDownload:Y})=>{if($){let q=P4($.downloadMap,Y);return{server:$,cleanupServer:()=>{return q(),Promise.resolve()}}}let Q=await gQ(X),J=P4(Q.downloadMap,Y);return{server:Q,cleanupServer:(q)=>{return J(),Promise.all([Q.closeServer(q)])}}},dU="__puppeteer_evaluation_script__";function lU($){if($.unserializableValue){if($.type==="bigint"&&typeof BigInt<"u")return BigInt($.unserializableValue.replace("n",""));switch($.unserializableValue){case"-0":return-0;case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw Error("Unsupported unserializable value: "+$.unserializableValue)}}return $.value}function mQ({args:$,frame:X,page:Y,pageFunction:Q,timeoutInMilliseconds:J}){let q=null;return Promise.race([new Promise((W,H)=>{q=setTimeout(()=>{H(Error(`Timed out evaluating page function "${Q.toString()}"`))},J)}),c0({args:$,frame:X,page:Y,pageFunction:Q,timeoutInMilliseconds:J})]).then((W)=>{if(q!==null)clearTimeout(q);return W})}async function c0({page:$,pageFunction:X,frame:Y,args:Q}){let J=(await $.mainFrame().executionContext())._contextId,q=$._client(),W=`//# sourceURL=${dU}`;if(typeof X!=="function")throw Error(`Expected to get |string| or |function| as the first argument, but got "${X}" instead.`);let H=X.toString();try{Function("("+H+")")}catch{if(H.startsWith("async "))H="async function "+H.substring(6);else H="function "+H;try{Function("("+H+")")}catch{throw Error("Passed function is not well-serializable!")}}let G;try{G=q.send("Runtime.callFunctionOn",{functionDeclaration:H+`
`+W+`
`,executionContextId:J,arguments:Q.map((_)=>pU(_)),returnByValue:!0,awaitPromise:!0,userGesture:!0})}catch(_){if(_ instanceof TypeError&&_.message.startsWith("Converting circular structure to JSON"))_.message+=" Are you passing a nested JSHandle?";throw _}try{let{value:{exceptionDetails:_,result:j},size:V}=await G;if(_){let U=new s8({stack:_.exception?.description,name:_.exception?.className,message:_.exception?.description?.split(`
`)[0],frame:Y,stackFrame:R9((_.exception?.description).split(`
`)),chunk:null});throw $.close(),U}return{size:V,value:lU(j)}}catch(_){if(_?.originalMessage?.startsWith("Object couldn't be returned by value"))throw Error("Could not serialize the return value of the function. Did you pass non-serializable values to defaultProps?");throw _}}function pU($){if(typeof $==="number")return{value:$};if(typeof $==="string")return{value:$};if(typeof $==="boolean")return{value:$};if(typeof $==="bigint")return{unserializableValue:`${$.toString()}n`};if(Object.is($,-0))return{unserializableValue:"-0"};if(Object.is($,1/0))return{unserializableValue:"Infinity"};if(Object.is($,-1/0))return{unserializableValue:"-Infinity"};if(Object.is($,NaN))return{unserializableValue:"NaN"};let X=$&&$ instanceof n8?$:null;if(X){if(X._disposed)throw Error("JSHandle is disposed!");if(X._remoteObject.unserializableValue)return{unserializableValue:X._remoteObject.unserializableValue};if(!X._remoteObject.objectId)return{value:X._remoteObject.value};return{objectId:X._remoteObject.objectId}}return{value:$}}var NY="cancelled",MY="ready",U9=({page:$,timeoutInMilliseconds:X,frame:Y,indent:Q,logLevel:J})=>{let q=[],W=()=>{return new Promise((j,V)=>{c0({pageFunction:()=>window.remotion_cancelledError,args:[],frame:null,page:$,timeoutInMilliseconds:X}).then(({value:U})=>{if(typeof U!=="string"){V(U);return}V(new s8({frame:null,stack:U,name:"CancelledError",message:U.split(`
`)[0],stackFrame:R9(U.split(`
`)),chunk:null}))}).catch((U)=>{D.verbose({indent:Q,logLevel:J},"Could not get cancelled error",U),V(Error("Render was cancelled using cancelRender()"))})})},H=new Promise((j,V)=>{let U=$.mainFrame()._mainWorld.waitForFunction({browser:$.browser,timeout:X+3000,pageFunction:`window.remotion_renderReady === true ? "${MY}" : window.remotion_cancelledError !== undefined ? "${NY}" : false`,title:Y===null?"the page to render the React component":`the page to render the React component at frame ${Y}`});q.push(()=>{U.terminate(Error("cleanup"))}),U.promise.then((B)=>{let M=B.toString();if(M===NY)return W();if(M===MY)return j(B);V(Error("Unexpected token "+M))}).catch((B)=>{if(B.message.includes("timeout")&&B.message.includes("exceeded"))mQ({pageFunction:()=>{return Object.keys(window.remotion_delayRenderTimeouts).map((M,O)=>{let{label:N}=window.remotion_delayRenderTimeouts[M];if(N===null)return`${O+1}. (no label)`;return`"${O+1}. ${N}"`}).join(", ")},args:[],frame:Y,page:$,timeoutInMilliseconds:5000}).then((M)=>{V(Error(`Timeout (${X}ms) exceeded rendering the component${Y?" at frame "+Y:" initially"}. ${M.value?`Open delayRender() handles: ${M.value}`:""}. You can increase the timeout using the "timeoutInMilliseconds" / "--timeout" option of the function or command you used to trigger this render.`))}).catch((M)=>{D.warn({indent:Q,logLevel:J},"Tried to get delayRender() handles for timeout, but could not do so because of",M),V(B)});else V(B)})}),G=new Promise((j,V)=>{let U=()=>{V(Error("Target closed (page disposed)"))};$.on("disposed",U),q.push(()=>{$.off("disposed",U)})}),_=new Promise((j,V)=>{let U=()=>{V(Error("Target closed"))};$.browser.on("closed-silent",U),q.push(()=>{$.browser.off("closed-silent",U)})});return Promise.race([G,_,H]).finally(()=>{q.forEach((j)=>{j()})})},uQ=async({frame:$,page:X,composition:Y,timeoutInMilliseconds:Q,logLevel:J,indent:q,attempt:W})=>{await U9({page:X,timeoutInMilliseconds:Q,frame:null,indent:q,logLevel:J}),await mQ({pageFunction:(H,G,_)=>{window.remotion_setFrame(H,G,_)},args:[$,Y,W],frame:$,page:X,timeoutInMilliseconds:Q}),await U9({page:X,timeoutInMilliseconds:Q,frame:$,indent:q,logLevel:J}),await X.evaluateHandle("document.fonts.ready")},nU=async($,X,Y)=>{try{let Q=await $.goto({url:X,timeout:Y});if(Q===null)return[null,Error(`Visited "${X}" but got no response.`)];return[Q,null]}catch(Q){return[null,Q]}},o8=($)=>{if($===null||$===void 0)return;if(typeof $!=="number")throw TypeError(`'timeoutInMilliseconds' should be a number, but is: ${JSON.stringify($)}`);if($<7000)throw TypeError(`'timeoutInMilliseconds' should be bigger or equal than 7000, but is ${$}`);if(Number.isNaN($))throw TypeError(`'timeoutInMilliseconds' should not be NaN, but is ${$}`);if(!Number.isFinite($))throw TypeError(`'timeoutInMilliseconds' should be finite, but is ${$}`);if($%1!==0)throw TypeError(`'timeoutInMilliseconds' should be an integer, but is ${$}`)},cQ=async({serializedInputPropsWithCustomSchema:$,envVariables:X,page:Y,serveUrl:Q,initialFrame:J,timeoutInMilliseconds:q,proxyPort:W,retriesRemaining:H,audioEnabled:G,videoEnabled:_,indent:j,logLevel:V,onServeUrlVisited:U,isMainTab:B,mediaCacheSizeInBytes:M,initialMemoryAvailable:O,darkMode:N})=>{o8(q);let A=q??t1;Y.setDefaultTimeout(A),Y.setDefaultNavigationTimeout(A);let R=_7(Q);if(await Y.evaluateOnNewDocument((h,m,p,X0)=>{if(window.remotion_puppeteerTimeout=h,window.remotion_isMainTab=m,window.remotion_mediaCacheSizeInBytes=p,window.remotion_initialMemoryAvailable=X0,window.process===void 0)window.process={};if(window.process.env===void 0)window.process.env={};window.process.env.NODE_ENV="production"},A,B,M,O),await Y.evaluateOnNewDocument('window.remotion_broadcastChannel = new BroadcastChannel("remotion-video-frame-extraction")'),X)await Y.evaluateOnNewDocument((h)=>{window.remotion_envVariables=h},JSON.stringify(X));if(N)await Y.setAutoDarkModeOverride();await Y.evaluateOnNewDocument((h,m,p,X0,G0,Q0)=>{window.remotion_inputProps=h,window.remotion_initialFrame=m,window.remotion_attempt=1,window.remotion_proxyPort=p,window.remotion_audioEnabled=X0,window.remotion_videoEnabled=G0,window.remotion_logLevel=Q0,window.alert=(V0)=>{if(V0)window.window.remotion_cancelledError=Error(`alert("${V0}") was called. It cannot be called in a headless browser.`).stack;else window.window.remotion_cancelledError=Error("alert() was called. It cannot be called in a headless browser.").stack},window.confirm=(V0)=>{if(V0)window.remotion_cancelledError=Error(`confirm("${V0}") was called. It cannot be called in a headless browser.`).stack;else window.remotion_cancelledError=Error("confirm() was called. It cannot be called in a headless browser.").stack;return!1}},$,J,W,G,_,V);let L=async()=>{return await new Promise((h)=>{setTimeout(()=>{h()},2000)}),cQ({envVariables:X,initialFrame:J,serializedInputPropsWithCustomSchema:$,page:Y,proxyPort:W,retriesRemaining:H-1,serveUrl:Q,timeoutInMilliseconds:q,audioEnabled:G,videoEnabled:_,indent:j,logLevel:V,onServeUrlVisited:U,isMainTab:B,mediaCacheSizeInBytes:M,initialMemoryAvailable:O,darkMode:N})},[v,F]=await nU(Y,R,A);if(F!==null){if(F.message.includes("ECONNRESET")||F.message.includes("ERR_CONNECTION_TIMED_OUT"))return L();throw F}let I=v.status();if(I>=500&&I<=504&&H>0)return L();if(!SY.every((h)=>h!==I))throw Error(`Error while getting compositions: Tried to go to ${R} but the status code was ${I} instead of 200. Does the site you specified exist?`);U();let{value:P}=await c0({pageFunction:()=>{return window.getStaticCompositions},args:[],frame:null,page:Y,timeoutInMilliseconds:A});if(typeof P>"u"){let{value:h}=await c0({pageFunction:()=>{return document.body.innerHTML},args:[],frame:null,page:Y,timeoutInMilliseconds:A});if(h.includes("We encountered an internal error."))return L();let m=[`Error while getting compositions: Tried to go to ${R} and verify that it is a Remotion project by checking if window.getStaticCompositions is defined.`,"However, the function was undefined, which indicates that this is not a valid Remotion project. Please check the URL you passed.","The page loaded contained the following markup:",h.substring(0,500)+(h.length>500?"...":""),"Does this look like a foreign page? If so, try to stop this server."].join(`
`);throw Error(m)}let{value:x}=await c0({pageFunction:()=>{return window.siteVersion},args:[],frame:null,page:Y,timeoutInMilliseconds:A}),{value:S}=await c0({pageFunction:()=>{return window.remotion_version},args:[],frame:null,page:Y,timeoutInMilliseconds:A}),g="11";if(x!==g)throw Error([`Incompatible site: When visiting ${R}, a bundle was found, but one that is not compatible with this version of Remotion. Found version: ${x} - Required version: ${g}. To resolve this error:`,"When using server-side rendering:",` \u25B8 Use 'bundle()' with '@remotion/bundler' of version ${u0} to create a compatible bundle.`,"When using the Remotion Lambda:"," \u25B8 Use `npx remotion lambda sites create` to redeploy the site with the latest version."," \u2139 Use --site-name with the same name as before to overwrite your site."," \u25B8 Use `deploySite()` if you are using the Node.JS APIs."].join(`
`));if(S!==u0)if(S)D.warn({indent:j,logLevel:V},[`The site was bundled with version ${S} of @remotion/bundler, while @remotion/renderer is on version ${u0}. You may not have the newest bugfixes and features.`,"To resolve this warning:","\u25B8 Use `npx remotion lambda sites create` to redeploy the site with the latest version.","  \u2139 Use --site-name with the same name as before to overwrite your site.","\u25B8 Use `deploySite()` if you are using the Node.JS APIs."].join(`
`));else D.warn({indent:j,logLevel:V},`The site was bundled with an old version of Remotion, while @remotion/renderer is on version ${u0}. You may not have the newest bugfixes and features. Re-bundle the site to fix this issue.`)},T9=async($)=>{let X=null;try{return await Promise.race([cQ($),new Promise((Q,J)=>{X=setTimeout(()=>{J(Error([`Timed out after ${$.timeoutInMilliseconds}ms while setting up the headless browser.`,"This could be because the you specified takes a long time to load (or network resources that it includes like fonts) or because the browser is not responding.",process.platform==="linux"?"Make sure you have installed the Linux depdendencies: https://www.remotion.dev/docs/miscellaneous/linux-dependencies":null].filter(A0).join(`
`)))},$.timeoutInMilliseconds)})])}finally{if(X!==null)clearTimeout(X)}},X9=[],dQ=($,X,Y)=>{let Q=$.stack;if(Q&&X9.includes(Q))return;if(Q)X9.push(Q),X9=X9.slice(-10);if($.message.includes("Could not play video with"))D.info({indent:Y,logLevel:X}),D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/media-playback-error");if($.message.includes("A delayRender()")&&$.message.includes("was called but not cleared after")){if(D.info({indent:Y,logLevel:X}),$.message.includes("/proxy"))D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/troubleshooting/delay-render-proxy");D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/timeout")}if($.message.includes("Target closed"))D.info({indent:Y,logLevel:X}),D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/target-closed");if($.message.includes("Timed out evaluating"))D.info({indent:Y,logLevel:X}),D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/troubleshooting/timed-out-page-function");if($.message.includes("ENAMETOOLONG"))D.info({indent:Y,logLevel:X}),D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Get help for this issue at https://remotion.dev/docs/enametoolong");if($.message.includes("Member must have value less than or equal to 3008"))D.warn({indent:Y,logLevel:X}),D.warn({indent:Y,logLevel:X},"\uD83D\uDCA1 This error indicates that you have a AWS account on the free or basic tier or have been limited by your organization."),D.warn({indent:Y,logLevel:X},"Often times this can be solved by adding a credit card, or if already done, by contacting AWS support."),D.warn({indent:Y,logLevel:X},"Alternatively, you can decrease the memory size of your Lambda function to a value below 3008 MB. See: https://www.remotion.dev/docs/lambda/runtime#core-count--vcpus"),D.warn({indent:Y,logLevel:X},"See also: https://repost.aws/questions/QUKruWYNDYTSmP17jCnIz6IQ/questions/QUKruWYNDYTSmP17jCnIz6IQ/unable-to-set-lambda-memory-over-3008mb");if($.stack?.includes("TooManyRequestsException: Rate Exceeded.")||$.message?.includes("ConcurrentInvocationLimitExceeded"))D.info({indent:Y,logLevel:X}),D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 This error indicates that your Lambda concurrency limit is too low. See: https://www.remotion.dev/docs/lambda/troubleshooting/rate-limit");if($.message.includes("Error creating WebGL context"))D.info({indent:Y,logLevel:X}),D.warn({indent:Y,logLevel:X},'\uD83D\uDCA1 You might need to set the OpenGL renderer to "angle". Learn why at https://www.remotion.dev/docs/three'),D.warn({indent:Y,logLevel:X},"\uD83D\uDCA1 Check how it's done at https://www.remotion.dev/docs/chromium-flags#--gl");if($.message.includes("The bucket does not allow ACLs"))D.info({indent:Y,logLevel:X}),D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Fix for this issue: https://remotion.dev/docs/lambda/troubleshooting/bucket-disallows-acl");if($.message.includes("Minified React error #306")){let J=$.message.match(/<\w+>/)?.[0];D.info({indent:Y,logLevel:X},["\uD83D\uDCA1 This error indicates that the component",J?`(${J})`:null,"you are trying to render is not imported correctly."].filter(A0).join(" ")),D.info({indent:Y,logLevel:X}),D.info({indent:Y,logLevel:X},"   Check the root file and ensure that the component is not undefined."),D.info({indent:Y,logLevel:X},"   Oftentimes, this happens if the component is missing the `export` keyword"),D.info({indent:Y,logLevel:X},"   or if the component was renamed and the import statement not properly adjusted.")}if($.message.includes("GLIBC_"))D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Remotion requires at least Libc 2.35."),D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 Get help for this issue: https://github.com/remotion-dev/remotion/issues/2439");if($.message.includes("EBADF"))D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 This error might be fixed by changing your Node version:"),D.info({indent:Y,logLevel:X},"   https://github.com/remotion-dev/remotion/issues/2452");if($.message.includes("routines::unsupported"))D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 This error might happen if using Cloud Run with credentials that have a newline at the end or are otherwise badly encoded."),D.info({indent:Y,logLevel:X},"   https://github.com/remotion-dev/remotion/issues/3864");if($.message.includes("Failed to fetch"))D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 On Lambda, one reason this could happen is that Chrome is rejecting an asset to be loaded when it is running low on disk space."),D.info({indent:Y,logLevel:X},"Try increasing the disk size of your Lambda function.");if($.message.includes("Invalid value specified for cpu"))D.info({indent:Y,logLevel:X}),D.info({indent:Y,logLevel:X},"\uD83D\uDCA1 This error indicates that your GCP account does have a limit. Try setting `--maxInstances=5` / `maxInstances: 5` when deploying this service."),D.info({indent:Y,logLevel:X})},r8=($)=>{return async(...X)=>{try{return await $(...X)}catch(Y){let{indent:Q}=X[0],{logLevel:J}=X[0];throw dQ(Y,J,Q),Y}}},iU=async({envVariables:$,serializedInputPropsWithCustomSchema:X,page:Y,proxyPort:Q,serveUrl:J,timeoutInMilliseconds:q,indent:W,logLevel:H,mediaCacheSizeInBytes:G,darkMode:_})=>{o8(q),await T9({serializedInputPropsWithCustomSchema:X,envVariables:$,page:Y,serveUrl:J,initialFrame:0,timeoutInMilliseconds:q,proxyPort:Q,retriesRemaining:2,audioEnabled:!1,videoEnabled:!1,indent:W,logLevel:H,onServeUrlVisited:()=>{return},isMainTab:!0,mediaCacheSizeInBytes:G,initialMemoryAvailable:a1(H),darkMode:_}),await c0({page:Y,pageFunction:()=>{window.remotion_setBundleMode({type:"evaluation"})},frame:null,args:[],timeoutInMilliseconds:q}),await U9({page:Y,timeoutInMilliseconds:q,frame:null,indent:W,logLevel:H});let{value:j}=await c0({pageFunction:()=>{return window.getStaticCompositions()},frame:null,page:Y,args:[],timeoutInMilliseconds:q});return j.map((U)=>{let{width:B,durationInFrames:M,fps:O,height:N,id:A,defaultCodec:R,defaultOutName:L,defaultVideoImageFormat:v,defaultPixelFormat:F,defaultProResProfile:I}=U;return{id:A,width:B,height:N,fps:O,durationInFrames:M,props:s.deserializeJSONWithSpecialTypes(U.serializedResolvedPropsWithCustomSchema),defaultProps:s.deserializeJSONWithSpecialTypes(U.serializedDefaultPropsWithCustomSchema),defaultCodec:R,defaultOutName:L,defaultVideoImageFormat:v,defaultPixelFormat:F,defaultProResProfile:I}})},sU=async({browserExecutable:$,chromiumOptions:X,envVariables:Y,indent:Q,serializedInputPropsWithCustomSchema:J,onBrowserLog:q,port:W,puppeteerInstance:H,serveUrlOrWebpackUrl:G,server:_,timeoutInMilliseconds:j,logLevel:V,offthreadVideoCacheSizeInBytes:U,binariesDirectory:B,onBrowserDownload:M,chromeMode:O,offthreadVideoThreads:N,mediaCacheSizeInBytes:A,onLog:R})=>{let{page:L,cleanupPage:v}=await q7({passedInInstance:H,browserExecutable:$,chromiumOptions:X,forceDeviceScaleFactor:void 0,indent:Q,logLevel:V,onBrowserDownload:M,chromeMode:O,pageIndex:0,onBrowserLog:q,onLog:R}),F=[v];return new Promise((I,P)=>{let x=(S)=>P(S);F.push(F9({page:L,frame:null,onError:x})),e1(_,{webpackConfigOrServeUrl:G,port:W,remotionRoot:Y1(),offthreadVideoThreads:N??P9,logLevel:V,indent:Q,offthreadVideoCacheSizeInBytes:U,binariesDirectory:B,forceIPv4:!1},{onDownload:()=>{return}}).then(({server:{serveUrl:S,offthreadPort:g,sourceMap:h},cleanupServer:m})=>{return L.setBrowserSourceMapGetter(h),F.push(()=>{return m(!0)}),iU({envVariables:Y,serializedInputPropsWithCustomSchema:J,page:L,proxyPort:g,serveUrl:S,timeoutInMilliseconds:j,indent:Q,logLevel:V,offthreadVideoCacheSizeInBytes:U,binariesDirectory:B,onBrowserDownload:M,chromeMode:O,offthreadVideoThreads:N,mediaCacheSizeInBytes:A,darkMode:X.darkMode??!1})}).then((S)=>{return I(S)}).catch((S)=>{P(S)}).finally(()=>{F.forEach((S)=>{S()})})})},lQ=r8(sU),V7=($,X)=>{if(!$)throw Error("No serve URL or webpack bundle directory was passed to getCompositions().");let{browserExecutable:Y,chromiumOptions:Q,envVariables:J,inputProps:q,onBrowserLog:W,port:H,puppeteerInstance:G,timeoutInMilliseconds:_,logLevel:j,onBrowserDownload:V,binariesDirectory:U,offthreadVideoCacheSizeInBytes:B,chromeMode:M,offthreadVideoThreads:O,mediaCacheSizeInBytes:N}=X??{},A=!1,R=j??"info";return lQ({browserExecutable:Y??null,chromiumOptions:Q??{},envVariables:J??{},serializedInputPropsWithCustomSchema:s.serializeJSONWithSpecialTypes({data:q??{},indent:void 0,staticBase:null}).serializedString,indent:A,onBrowserLog:W??null,port:H??null,puppeteerInstance:G??void 0,serveUrlOrWebpackUrl:$,server:void 0,timeoutInMilliseconds:_??t1,logLevel:R,offthreadVideoCacheSizeInBytes:B??null,binariesDirectory:U??null,onBrowserDownload:V??UQ({indent:A,logLevel:R,api:"getCompositions()"}),chromeMode:M??"headless-shell",offthreadVideoThreads:O??null,mediaCacheSizeInBytes:N??null,onLog:e4})},K7=($)=>{let X=Y7();if($===null)return Math.round(Math.min(8,Math.max(1,X/2)));let Y=1,Q;if(typeof $==="string"){let J=parseInt($.slice(0,-1),10);Q=Math.floor(J/100*X)}else Q=Math.floor($);if(Q>X)throw Error(`Maximum for --concurrency is ${X} (number of cores on this system)`);if(Q<Y)throw Error(`Minimum for concurrency is ${Y}.`);return Q},b9=($,X)=>{if(X===0)throw Error("everyNthFrame cannot be 0");return Array($[1]-$[0]+1).fill(!0).map((Y,Q)=>{return Q+$[0]}).filter((Y)=>{return Y%X===0})},Z9=($,X)=>{if(!z4.includes($))throw Error(`Codec must be one of the following: ${z4.join(", ")}, but got ${$}`);let Y=A1[$];if(X===null)return Y.default;let Q=X;if(!(Q in Y.forAudioCodec))throw Error(`Audio codec ${Q} is not supported for codec ${$}`);return Y.forAudioCodec[X].default},oU=()=>{let $={};return Object.keys(A1).forEach((X)=>{let Y=X,Q=A1[Y],q=Object.keys(Q.forAudioCodec).map((H)=>Q.forAudioCodec[H].possible),W=[Q.default,...q.flat(1)];for(let H of W){if(!$[H])$[H]=[];if(!$[H].includes(Y))$[H].push(Y)}}),$},rU={"3gp":"aac",aac:"aac",gif:"gif",hevc:"h265",m4a:"aac",m4b:"aac",mkv:"h264-mkv",mov:"prores",mp3:"mp3",mp4:"h264",mpeg:"aac",mpg:"aac",mxf:"prores",wav:"wav",webm:"vp8",ts:"h264-ts"},g8=47,G4=46,tU=($)=>{let X=typeof $;if(X!=="string")throw TypeError(`Expected a string, got a ${X}`)},aU=($,X)=>{let Y="",Q=0,J=-1,q=0,W;for(let H=0;H<=$.length;++H){if(H<$.length)W=$.charCodeAt(H);else if(W===g8)break;else W=g8;if(W===g8){if(J===H-1||q===1);else if(J!==H-1&&q===2){if(Y.length<2||Q!==2||Y.charCodeAt(Y.length-1)!==G4||Y.charCodeAt(Y.length-2)!==G4){if(Y.length>2){let G=Y.lastIndexOf("/");if(G!==Y.length-1){if(G===-1)Y="",Q=0;else Y=Y.slice(0,G),Q=Y.length-1-Y.lastIndexOf("/");J=H,q=0;continue}}else if(Y.length===2||Y.length===1){Y="",Q=0,J=H,q=0;continue}}if(X){if(Y.length>0)Y+="/..";else Y="..";Q=2}}else{if(Y.length>0)Y+="/"+$.slice(J+1,H);else Y=$.slice(J+1,H);Q=H-J-1}J=H,q=0}else if(W===G4&&q!==-1)++q;else q=-1}return Y},eU=($)=>{try{return decodeURIComponent($)}catch{return $}},$w=($)=>{tU($);let X=$;if(X.length===0)return".";let Y=X.charCodeAt(0)===g8,Q=X.charCodeAt(X.length-1)===g8;if(X=eU(X),X=aU(X,!Y),X.length===0&&!Y)X=".";if(X.length>0&&Q)X+="/";if(Y)return"/"+X;return X},pQ=($)=>{if($===null)return null;let X=$w($).split("."),Y=X.length>=2,Q=X.length;return Y?X[Q-1]:null},C9=($,X)=>{if(X===null)return[0,$-1];if(typeof X==="number"){if(X<0||X>=$)throw Error(`Frame number is out of range, must be between 0 and ${$-1} but got ${X}`);return[X,X]}let Y=[X[0],X[1]===null?$-1:X[1]];if(Y[0]<0||Y[1]>=$||Y[0]>Y[1])throw Error(`The "durationInFrames" of the <Composition /> was evaluated to be ${$}, but frame range ${Y.join("-")} is not inbetween 0-${$-1}`);return Y},nQ=["png","jpeg","none"],Z4=["png","jpeg","pdf","webp"],iQ="jpeg",sQ="png",Xw=($,X)=>{if(X==="none")return"none";if(typeof $>"u")return"valid";if(!nQ.includes(X))throw TypeError(`Value ${X} is not valid as an image format.`);if($!=="yuva420p"&&$!=="yuva444p10le")return"valid";if(X!=="png")throw TypeError(`Pixel format was set to '${$}' but the image format is not PNG. To render transparent videos, you need to set PNG as the image format.`);return"valid"},Yw=($)=>{if(!Z4.includes($))throw TypeError(String(`Image format should be one of: ${Z4.map((X)=>`"${X}"`).join(", ")}`))},oQ=80,S9=($)=>{if(typeof $<"u"&&typeof $!=="number")throw Error(`JPEG Quality option must be a number or undefined. Got ${typeof $} (${JSON.stringify($)})`);if(typeof $>"u")return;if(!Number.isFinite($))throw RangeError(`JPEG Quality must be a finite number, but is ${$}`);if(Number.isNaN($))throw RangeError("JPEG Quality is NaN, but must be a real number");if($>100||$<0)throw RangeError("JPEG Quality option must be between 0 and 100.")},rQ={};Bj(rQ,{stopPerfMeasure:()=>w7,startPerfMeasure:()=>U7,getPerf:()=>Qw});var r1={capture:[],"extract-frame":[],piping:[]},H9={},U7=($)=>{let X=Math.random();return H9[X]={id:X,marker:$,start:Date.now()},X},w7=($)=>{let Y=Date.now()-H9[$].start;r1[H9[$].marker].push(Y),delete H9[$]},Qw=()=>{return["Render performance:",...Object.keys(r1).filter(($)=>r1[$].length).map(($)=>{return`  ${$} => ${Math.round(r1[$].reduce((X,Y)=>X+Y,0)/r1[$].length)}ms (n = ${r1[$].length})`})]},w9=["yuv420p","yuva420p","yuv422p","yuv444p","yuv420p10le","yuv422p10le","yuv444p10le","yuva444p10le"],B7="yuv420p",Jw=($)=>{if($==="vp8"||$==="vp9")return w9;return w9.filter((X)=>X!=="yuva420p")},O7=($,X)=>{if(typeof $>"u")return $;if(!w9.includes($))throw TypeError(`Value ${$} is not valid as a pixel format.`);if($!=="yuva420p")return;let Y=Jw(X);if(!Y.includes($))throw TypeError(`Pixel format was set to 'yuva420p' but codec ${X} does not support it. Valid pixel formats for codec ${X} are: ${Y.join(", ")}.`)},Ww=({puppeteerInstance:$,concurrency:X,logLevel:Y,indent:Q})=>{if(X<=1)return{stopCycling:()=>{return}};let J=null,q=0,W=!1,H=()=>{J=setTimeout(()=>{$.getBrowser().pages().then((G)=>{if(G.length===0)return;let _=G[q%G.length];if(q++,!_?.closed&&!W&&_?.url()!=="about:blank")return _.bringToFront()}).catch((G)=>D.error({indent:Q,logLevel:Y},G)).finally(()=>{if(!W)H()})},200)};return H(),{stopCycling:()=>{if(!J)return;return W=!0,clearTimeout(J)}}},Hw=null,Y9="separate-audio-to",_4={cliFlag:Y9,description:()=>"If set, the audio will not be included in the main output but rendered as a separate file at the location you pass. It is recommended to use an absolute path. If a relative path is passed, it is relative to the Remotion Root.",docLink:"https://remotion.dev/docs/renderer/render-media",getValue:({commandLine:$})=>{if($[Y9])return{source:"cli",value:$[Y9]};return{source:"default",value:Hw}},name:"Separate audio to",setConfig:()=>{throw Error("Not implemented")},ssrName:"separateAudioTo",type:"string",id:Y9},Q9=["pcm-16","aac","mp3","opus"],C4={h264:["aac","pcm-16","mp3"],"h264-mkv":["pcm-16","mp3"],"h264-ts":["pcm-16","aac"],aac:["aac","pcm-16"],avi:[],gif:[],h265:["aac","pcm-16"],mp3:["mp3","pcm-16"],prores:["aac","pcm-16"],vp8:["opus","pcm-16"],vp9:["opus","pcm-16"],wav:["pcm-16"]};var $J=($)=>{if($==="aac")return"libfdk_aac";if($==="mp3")return"libmp3lame";if($==="opus")return"libopus";if($==="pcm-16")return"pcm_s16le";throw Error("unknown audio codec: "+$)},o1="audio-codec",Gw="audioCodec",_w={"h264-mkv":{lossless:"pcm-16",compressed:"pcm-16"},"h264-ts":{lossless:"pcm-16",compressed:"aac"},aac:{lossless:"pcm-16",compressed:"aac"},gif:{lossless:null,compressed:null},h264:{lossless:"pcm-16",compressed:"aac"},h265:{lossless:"pcm-16",compressed:"aac"},mp3:{lossless:"pcm-16",compressed:"mp3"},prores:{lossless:"pcm-16",compressed:"pcm-16"},vp8:{lossless:"pcm-16",compressed:"opus"},vp9:{lossless:"pcm-16",compressed:"opus"},wav:{lossless:"pcm-16",compressed:"pcm-16"}},S4={aac:"aac",mp3:"mp3",opus:"opus","pcm-16":"wav"},N7=($)=>{if(S4[$])return S4[$];throw Error(`Unsupported audio codec: ${$}`)},k9=({codec:$,setting:X,preferLossless:Y,separateAudioTo:Q})=>{let J=null;if(Q){let q=Q.split(".").pop();for(let[W,H]of Object.entries(S4))if(H===q){if(J=W,!C4[$].includes(J)&&J)throw Error(`The codec is ${$} but the audio codec derived from --${_4.cliFlag} is ${J}. The only supported codecs are: ${C4[$].join(", ")}`)}}if(Y){let q=k4({codec:$,preferLossless:Y});if(J&&q!==J)throw Error(`The audio codec derived from --${_4.cliFlag} is ${J}, but does not match the audio codec derived from the "Prefer lossless" option (${q}). Remove any conflicting options.`);return q}if(X===null){if(J)return J;return k4({codec:$,preferLossless:Y})}if(J!==X&&J)throw Error(`The audio codec derived from --${_4.cliFlag} is ${J}, but does not match the audio codec derived from your ${jw.name} setting (${X}). Remove any conflicting options.`);return X},k4=({codec:$,preferLossless:X})=>{return _w[$][X?"lossless":"compressed"]},J9=null,jw={cliFlag:o1,setConfig:($)=>{if($===null){J9=null;return}if(!Q9.includes($))throw Error(`Audio codec must be one of the following: ${Q9.join(", ")}, but got ${$}`);J9=$},getValue:({commandLine:$})=>{if($[o1]){let X=$[o1];if(!Q9.includes($[o1]))throw Error(`Audio codec must be one of the following: ${Q9.join(", ")}, but got ${X}`);return{source:"cli",value:$[o1]}}if(J9!==null)return{source:"config",value:J9};return{source:"default",value:null}},description:()=>"Set the format of the audio that is embedded in the video. Not all codec and audio codec combinations are supported and certain combinations require a certain file extension and container format. See the table in the docs to see possible combinations.",docLink:"https://www.remotion.dev/docs/encoding/#audio-codec",name:"Audio Codec",ssrName:Gw,type:"aac",id:o1},k6=($,X)=>{let Y=$.match(/frame=(\s+)?([0-9]+)\s/);if(Y)return Number(Y[2]);let Q=$.match(/time=(\d+):(\d+):(\d+).(\d+)\s/);if(Q){let[,J,q,W,H]=Q;return Number(H)/100*X+Number(W)*X+Number(q)*X*60+Number(J)*X*60*60}},m8=1024/S0*1e6,Vw=($)=>{if($%1>0.4999999)return Math.ceil($);return Math.floor($)},B9=($)=>{let X=$*1e6/m8;return Vw(X)*m8/1e6},Kw=async({files:$,resolvedAudioCodec:X,audioBitrate:Y,filelistDir:Q,output:J,indent:q,logLevel:W,addRemotionMetadata:H,fps:G,binariesDirectory:_,cancelSignal:j,onProgress:V})=>{let U=$.map((N)=>`file '${N}'`).join(`
`),B=eQ(Q,"audio-files.txt");aQ(B,U);let M=Date.now(),O=["-hide_banner","-f","concat","-safe","0","-i",B,"-c:a",$J(X),X==="aac"?"-cutoff":null,X==="aac"?"18000":null,"-b:a",Y?Y:"320k","-vn",H?"-metadata":null,H?`comment=Made with Remotion ${u0}`:null,"-y",J];D.verbose({indent:q,logLevel:W},`Combining audio with re-encoding, command: ${O.join(" ")}`);try{let N=J6({args:O,bin:"ffmpeg",indent:q,logLevel:W,binariesDirectory:_,cancelSignal:j});return N.stderr?.on("data",(A)=>{let R=A.toString("utf8"),L=k6(R,G);if(L===void 0)D.verbose({indent:q,logLevel:W},R);else V(L),D.verbose({indent:q,logLevel:W},`Encoded ${L} audio frames`)}),await N,D.verbose({indent:q,logLevel:W},`Encoded audio in ${Date.now()-M}ms`),J}catch(N){throw tQ(B,{recursive:!0}),N}},Uw=async({files:$,filelistDir:X,indent:Y,logLevel:Q,output:J,chunkDurationInSeconds:q,addRemotionMetadata:W,fps:H,binariesDirectory:G,cancelSignal:_,onProgress:j})=>{let V=Date.now(),U=$.map((O,N)=>{let A=N===$.length-1,R=N*q,L=(N+1)*q,v=B9(R)*1e6,I=B9(L)*1e6-v,P=0;if(N>0)P=m8*4;let x=(N===0?m8*2:P)+I-(A?0:m8);return[`file '${O}'`,`inpoint ${P}us`,`outpoint ${x}us`].filter(A0).join(`
`)}).join(`
`),B=eQ(X,"audio-files.txt");aQ(B,U);let M=["-hide_banner","-f","concat","-safe","0","-i",B,"-c:a","copy","-vn",W?"-metadata":null,W?`comment=Made with Remotion ${u0}`:null,"-y",J];D.verbose({indent:Y,logLevel:Q},`Combining AAC audio seamlessly, command: ${M.join(" ")}`);try{let O=J6({args:M,bin:"ffmpeg",indent:Y,logLevel:Q,binariesDirectory:G,cancelSignal:_});return O.stderr?.on("data",(N)=>{let A=N.toString("utf8"),R=k6(A,H);if(R!==void 0)j(R),D.verbose({indent:Y,logLevel:Q},`Encoded ${R} audio frames`)}),await O,D.verbose({indent:Y,logLevel:Q},`Combined audio seamlessly in ${Date.now()-V}ms`),J}catch(O){throw tQ(B,{recursive:!0}),D.error({indent:Y,logLevel:Q},O),O}},ww=({seamless:$,filelistDir:X,files:Y,indent:Q,logLevel:J,audioBitrate:q,resolvedAudioCodec:W,output:H,chunkDurationInSeconds:G,addRemotionMetadata:_,binariesDirectory:j,fps:V,cancelSignal:U,onProgress:B})=>{if($)return Uw({filelistDir:X,files:Y,indent:Q,logLevel:J,output:H,chunkDurationInSeconds:G,addRemotionMetadata:_,binariesDirectory:j,fps:V,cancelSignal:U,onProgress:B});return Kw({filelistDir:X,files:Y,resolvedAudioCodec:W,audioBitrate:q,output:H,indent:Q,logLevel:J,addRemotionMetadata:_,binariesDirectory:j,fps:V,cancelSignal:U,onProgress:B})},Bw=({compositionStart:$,realFrameRange:X,fps:Y,forSeamlessAacConcatenation:Q})=>{if(!Q)return{extraFramesToCaptureAssetsBackend:[],extraFramesToCaptureAssetsFrontend:[],chunkLengthInSeconds:(X[1]-X[0]+1)/Y,trimLeftOffset:0,trimRightOffset:0};let J=X[0];if(J<$)throw Error("chunkStart may not be below compositionStart");let q=J-$;if(q<0)throw Error("chunkStat - compositionStart may not be below 0");let W=q+(X[1]-X[0]+1),H=Math.max(0,B9(q/Y)-2*(1024/S0)),G=B9(W/Y)+2*(1024/S0),_=Math.floor(H*Y),j=_+$,V=Math.ceil(G*Y)+$,U=Array(X[0]-j).fill(!0).map((A,R)=>R+j),B=Array(V-X[1]-1).fill(!0).map((A,R)=>R+X[1]+1),M=(H*Y-_)/Y,O=(G*Y-Math.ceil(G*Y))/Y,N=G-H;return{extraFramesToCaptureAssetsFrontend:U,extraFramesToCaptureAssetsBackend:B,chunkLengthInSeconds:N,trimLeftOffset:M,trimRightOffset:O}},Ow=({pattern:$,frame:X,ext:Y})=>{return $.replace(/\[frame\]/g,X).replace(/\[ext\]/g,Y)},Nw=({index:$,frame:X,imageFormat:Y,countType:Q,lastFrame:J,totalFrames:q,imageSequencePattern:W})=>{let H=XJ({lastFrame:J,countType:Q,totalFrames:q}),G=Q==="actual-frames"?String(X).padStart(H,"0"):String($).padStart(H,"0");if(W)return Ow({pattern:W,frame:G,ext:Y});let _="element";if(Q==="actual-frames")return`${_}-${G}.${Y}`;if(Q==="from-zero")return`${_}-${G}.${Y}`;throw TypeError("Unknown count type")},XJ=({lastFrame:$,totalFrames:X,countType:Y})=>{if(Y==="actual-frames")return String($).length;if(Y==="from-zero")return String(X-1).length;throw Error("Unknown file type")},j4=()=>{let $=[],X=!1;return{cancelSignal:(Y)=>{if($.push(Y),X)Y()},cancel:()=>{if(X)return;$.forEach((Y)=>{Y()}),X=!0}}},C6={renderMedia:"renderMedia() got cancelled",renderFrames:"renderFrames() got cancelled",renderStill:"renderStill() got cancelled",stitchFramesToVideo:"stitchFramesToVideo() got cancelled"},Mw=($)=>{if(typeof $==="object"&&$!==null&&"message"in $&&typeof $.message==="string")return $.message.includes(C6.renderMedia)||$.message.includes(C6.renderFrames)||$.message.includes(C6.renderStill)||$.message.includes(C6.stitchFramesToVideo);return!1},Dw=async({context:$,initialFrame:X,browserReplacer:Y,logLevel:Q,indent:J,pagesArray:q,onBrowserLog:W,scale:H,timeoutInMilliseconds:G,composition:_,proxyPort:j,serveUrl:V,muted:U,envVariables:B,serializedInputPropsWithCustomSchema:M,imageFormat:O,serializedResolvedPropsWithCustomSchema:N,pageIndex:A,isMainTab:R,mediaCacheSizeInBytes:L,onLog:v,darkMode:F})=>{let I=await Y.getBrowser().newPage({context:$,logLevel:Q,indent:J,pageIndex:A,onBrowserLog:W,onLog:v});return q.push(I),await I.setViewport({width:_.width,height:_.height,deviceScaleFactor:H}),await T9({serializedInputPropsWithCustomSchema:M,envVariables:B,page:I,serveUrl:V,initialFrame:X,timeoutInMilliseconds:G,proxyPort:j,retriesRemaining:2,audioEnabled:!U,videoEnabled:O!=="none",indent:J,logLevel:Q,onServeUrlVisited:()=>{return},isMainTab:R,mediaCacheSizeInBytes:L,initialMemoryAvailable:a1(Q),darkMode:F}),await c0({pageFunction:(P,x,S,g,h,m,p,X0,G0,Q0,V0)=>{window.remotion_setBundleMode({type:"composition",compositionName:P,serializedResolvedPropsWithSchema:x,compositionDurationInFrames:S,compositionFps:g,compositionHeight:h,compositionWidth:m,compositionDefaultCodec:p,compositionDefaultOutName:X0,compositionDefaultVideoImageFormat:G0,compositionDefaultPixelFormat:Q0,compositionDefaultProResProfile:V0})},args:[_.id,N,_.durationInFrames,_.fps,_.height,_.width,_.defaultCodec,_.defaultOutName,_.defaultVideoImageFormat,_.defaultPixelFormat,_.defaultProResProfile],frame:null,page:I,timeoutInMilliseconds:G}),I},Ew=({frames:$,concurrency:X})=>{let Y=[],Q=0;for(let J=0;J<X;J++){let q=Q+Math.ceil(($.length-Q)/(X-J));Y.push($.slice(Q,q)),Q=q}return{partitions:Y,getNextFrame:(J)=>{if(Y[J].length===0){if(Y.map((_)=>_.length).every((_)=>_===0))throw Error("No more frames to render");let H=-1;for(let _=0;_<Y.length;_++){if(H===-1){H=_;continue}if(Y[_].length>Y[H].length)H=_}if(H===-1)throw Error("No more frames to render");let G=Math.ceil(Y[H].length/2)-1;Y[J]=Y[H].slice(G),Y[H]=Y[H].slice(0,G)}let q=Y[J].shift();if(q===void 0)throw Error("No more frames to render");return q}}},Aw=({allFramesAndExtraFrames:$,concurrencyOrFramesToRender:X})=>{let Y=new Map;return{getNextFrame:(Q)=>{let J=$.find((q)=>{return!Y.has(q)});if(J===void 0)throw Error("No more frames to render");return Y.set(J,!0),J},returnFrame:(Q)=>{Y.delete(Q)}}},Lw=({allFramesAndExtraFrames:$,concurrencyOrFramesToRender:X})=>{let Y=Ew({frames:$,concurrency:X});return{getNextFrame:(Q)=>{return Y.getNextFrame(Q)},returnFrame:()=>{throw Error("retrying failed frames for partitioned rendering is not supported. Disable partitioned rendering.")}}};class YJ{resources;waiters;constructor($){this.resources=$,this.waiters=[]}acquire(){let $=this.resources.shift();if($!==void 0)return Promise.resolve($);return new Promise((X)=>{this.waiters.push((Y)=>{X(Y)})})}release($){let X=this.waiters.shift();if(X===void 0)this.resources.push($);else X($)}}var Rw=($)=>{if(!$)throw Error("Expected stack");let{stack:X}=$;if(!X)throw Error("Expected stack: "+JSON.stringify($));let Y=X.indexOf(s.DELAY_RENDER_ATTEMPT_TOKEN);if(Y===-1)throw Error("Expected to find attempt token in stack");let Q=X.indexOf(s.DELAY_RENDER_RETRY_TOKEN);if(Q===-1)throw Error("Expected to find retry token in stack");let J=X.substring(Y+s.DELAY_RENDER_ATTEMPT_TOKEN.length,Q),q=Number(J);if(Number.isNaN(q))throw Error(`Expected to find a number in the stack ${X}`);return q},QJ=async({frame:$,freePage:X,timeoutInMilliseconds:Y})=>{let{value:Q}=await c0({pageFunction:()=>{return window.remotion_collectAssets()},args:[],frame:$,page:X,timeoutInMilliseconds:Y});return Q.map((q)=>{if(q.type!=="artifact")return q;if(q.contentType==="binary"||q.contentType==="text"){if(typeof q.content!=="string")throw Error(`Expected string content for artifact ${q.id}, but got ${q.content}`);let W=q.contentType==="binary"?new TextEncoder().encode(atob(q.content)):q.content;return{...q,content:W}}if(q.contentType==="thumbnail")return q;return q})},JJ=($)=>{return $.filter((X)=>X.type==="audio"||X.type==="video")},qJ=({assets:$,frameBuffer:X})=>{return $.filter((Q)=>Q.type==="artifact").map((Q)=>{if(Q.contentType==="binary"||Q.contentType==="text")return{frame:Q.frame,content:Q.content,filename:Q.filename,downloadBehavior:Q.downloadBehavior};if(Q.contentType==="thumbnail"){if(X===null)return null;return{frame:Q.frame,content:new Uint8Array(X),filename:Q.filename,downloadBehavior:Q.downloadBehavior}}throw Error("Unknown artifact type: "+Q)}).filter(A0)},zw=($)=>{return $.filter((X)=>X.type==="inline-audio")},vw=async({format:$,height:X,omitBackground:Y,page:Q,width:J,path:q,jpegQuality:W,scale:H})=>{let G=Q._client(),_=Q.target();if(await G.send("Target.activateTarget",{targetId:_._targetId}),Y)await G.send("Emulation.setDefaultBackgroundColorOverride",{color:{r:0,g:0,b:0,a:0}});let j=U7("capture");try{let V;if($==="pdf")V=(await G.send("Page.printToPDF",{paperWidth:J/96,paperHeight:X/96,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,scale:1,printBackground:!0})).value;else{let B=!process.env.DISABLE_FROM_SURFACE||X>8192||J>8192,M=B?1:H,{value:O}=await G.send("Page.captureScreenshot",{format:$,quality:W,clip:{x:0,y:0,height:X*M,scale:1,width:J*M},captureBeyondViewport:!0,optimizeForSpeed:!0,fromSurface:B});V=O}if(w7(j),Y)await G.send("Emulation.setDefaultBackgroundColorOverride");let U=Buffer.from(V.data,"base64");if(q)await Iw.promises.writeFile(q,U);return U}catch(V){if(V.message.includes("Unable to capture screenshot")){let U=["Could not take a screenshot because Google Chrome ran out of memory or disk space.",process?.env?.__RESERVED_IS_INSIDE_REMOTION_LAMBDA?"Deploy a new Lambda function with more memory or disk space.":"Decrease the concurrency to use less RAM."].join(" ");throw Error(U)}throw V}},Pw=($)=>{if($.jpegQuality)G9.ok(typeof $.jpegQuality==="number","Expected options.quality to be a number but found "+typeof $.jpegQuality),G9.ok(Number.isInteger($.jpegQuality),"Expected options.quality to be an integer"),G9.ok($.jpegQuality>=0&&$.jpegQuality<=100,"Expected options.quality to be between 0 and 100 (inclusive), got "+$.jpegQuality);return $.page.screenshotTaskQueue.postTask(()=>vw({page:$.page,format:$.type,height:$.height,width:$.width,omitBackground:$.omitBackground,path:$.path,jpegQuality:$.type==="jpeg"?$.jpegQuality:void 0,scale:$.scale}))},WJ=async({freePage:$,imageFormat:X,jpegQuality:Y,width:Q,height:J,output:q,scale:W,wantsBuffer:H,timeoutInMilliseconds:G})=>{if(X==="none")return null;if(X==="png"||X==="pdf"||X==="webp")await c0({pageFunction:()=>{document.body.style.background="transparent"},args:[],frame:null,page:$,timeoutInMilliseconds:G});else await c0({pageFunction:()=>{document.body.style.background="black"},args:[],frame:null,page:$,timeoutInMilliseconds:G});return await Pw({page:$,omitBackground:X==="png",path:(H?void 0:q)??void 0,type:X,jpegQuality:Y,width:Q,height:J,scale:W})},xw=async({reject:$,width:X,height:Y,compId:Q,attempt:J,stoppedSignal:q,indent:W,logLevel:H,timeoutInMilliseconds:G,outputDir:_,onFrameBuffer:j,imageFormat:V,onError:U,lastFrame:B,jpegQuality:M,frameDir:O,scale:N,countType:A,assets:R,framesToRender:L,onArtifact:v,onDownload:F,downloadMap:I,binariesDirectory:P,cancelSignal:x,framesRenderedObj:S,onFrameUpdate:g,frame:h,page:m,imageSequencePattern:p,fps:X0,trimLeftOffset:G0,trimRightOffset:Q0,allFramesAndExtraFrames:V0})=>{let n=performance.now(),N0=L.indexOf(h),z=N0===-1;if(q.stopped)return Promise.reject(Error("Render was stopped"));let C=(Y0)=>{$(Y0)},d=F9({page:m,onError:C,frame:h});m.on("error",C);let r=Date.now();await uQ({frame:h,page:m,composition:Q,timeoutInMilliseconds:G,indent:W,logLevel:H,attempt:J});let E0=Date.now()-r;if(E0>1000)D.verbose({indent:W,logLevel:H},`Seeking to frame ${h} took ${E0}ms`);if(!_&&!j&&V!=="none")throw Error("Called renderFrames() without specifying either `outputDir` or `onFrameBuffer`");if(_&&j&&V!=="none")throw Error("Pass either `outputDir` or `onFrameBuffer` to renderFrames(), not both.");let[i,q0]=await Promise.all([WJ({freePage:m,height:Y,imageFormat:z?"none":V,output:N0===null?null:Fw.join(O,Nw({frame:h,imageFormat:V,index:N0,countType:A,lastFrame:B,totalFrames:L.length,imageSequencePattern:p})),jpegQuality:M,width:X,scale:N,wantsBuffer:Boolean(j),timeoutInMilliseconds:G}),QJ({frame:h,freePage:m,timeoutInMilliseconds:G})]);if(j&&!z){if(!i)throw Error("unexpected null buffer");j(i,h)}let O0=R.filter(A0),M0=O0.map((Y0)=>Y0.audioAndVideoAssets).flat(2),w0=O0.map((Y0)=>Y0.artifactAssets).flat(2),z0=JJ(q0),_0=qJ({assets:q0,frameBuffer:i});for(let Y0 of _0){for(let B0 of w0)if(Y0.filename===B0.filename)return Promise.reject(Error(`An artifact with output "${Y0.filename}" was already registered at frame ${B0.frame}, but now registered again at frame ${Y0.frame}. Artifacts must have unique names. https://remotion.dev/docs/artifacts`));v?.(Y0)}let v0=z0.map((Y0)=>{return IK(M0,Y0)}),R0=zw(q0);R.push({audioAndVideoAssets:v0,frame:h,artifactAssets:_0.map((Y0)=>{return{frame:Y0.frame,filename:Y0.filename}}),inlineAudioAssets:R0});for(let Y0 of v0)PQ({renderAsset:Y0,onDownload:F,downloadMap:I,indent:W,logLevel:H,binariesDirectory:P,cancelSignalForAudioAnalysis:x,shouldAnalyzeAudioImmediately:!0}).catch((B0)=>{let T0=Y0.src.substring(0,1000)+(Y0.src.length>1000?"...":"");U(Error(`Error while downloading ${T0}: ${B0.stack}`))});for(let Y0 of R0)I.inlineAudioMixing.addAsset({asset:Y0,fps:X0,totalNumberOfFrames:V0.length,firstFrame:V0[0],trimLeftOffset:G0,trimRightOffset:Q0});if(d(),m.off("error",C),!z)S.count++,g?.(S.count,h,performance.now()-n)},Tw=({attempt:$,binariesDirectory:X,cancelSignal:Y,imageFormat:Q,indent:J,logLevel:q,assets:W,countType:H,downloadMap:G,frameDir:_,framesToRender:j,jpegQuality:V,onArtifact:U,onDownload:B,scale:M,composition:O,onError:N,outputDir:A,stoppedSignal:R,timeoutInMilliseconds:L,lastFrame:v,onFrameBuffer:F,onFrameUpdate:I,framesRenderedObj:P,frame:x,page:S,imageSequencePattern:g,trimLeftOffset:h,trimRightOffset:m,allFramesAndExtraFrames:p})=>{return new Promise((X0,G0)=>{xw({reject:G0,width:O.width,height:O.height,compId:O.id,attempt:$,indent:J,logLevel:q,stoppedSignal:R,timeoutInMilliseconds:L,imageFormat:Q,onFrameBuffer:F,outputDir:A,assets:W,binariesDirectory:X,cancelSignal:Y,countType:H,downloadMap:G,frameDir:_,framesToRender:j,jpegQuality:V,lastFrame:v,onArtifact:U,onDownload:B,onError:N,scale:M,framesRenderedObj:P,onFrameUpdate:I,frame:x,page:S,imageSequencePattern:g,fps:O.fps,trimLeftOffset:h,trimRightOffset:m,allFramesAndExtraFrames:p}).then(()=>{X0()}).catch((Q0)=>{G0(Q0)})})},h4=async({retriesLeft:$,attempt:X,assets:Y,imageFormat:Q,binariesDirectory:J,cancelSignal:q,composition:W,countType:H,downloadMap:G,frameDir:_,framesToRender:j,jpegQuality:V,onArtifact:U,onDownload:B,onError:M,outputDir:O,poolPromise:N,scale:A,stoppedSignal:R,timeoutInMilliseconds:L,indent:v,logLevel:F,makeBrowser:I,makeNewPage:P,browserReplacer:x,concurrencyOrFramesToRender:S,framesRenderedObj:g,lastFrame:h,onFrameBuffer:m,onFrameUpdate:p,nextFrameToRender:X0,imageSequencePattern:G0,trimLeftOffset:Q0,trimRightOffset:V0,allFramesAndExtraFrames:n})=>{let N0=await N;if(R.stopped)return;let z=await N0.acquire(),C=X0.getNextFrame(z.pageIndex);try{await Promise.race([Tw({trimLeftOffset:Q0,trimRightOffset:V0,allFramesAndExtraFrames:n,attempt:X,assets:Y,binariesDirectory:J,cancelSignal:q,countType:H,downloadMap:G,frameDir:_,framesToRender:j,imageFormat:Q,indent:v,jpegQuality:V,logLevel:F,onArtifact:U,onDownload:B,scale:A,composition:W,framesRenderedObj:g,lastFrame:h,onError:M,onFrameBuffer:m,onFrameUpdate:p,outputDir:O,stoppedSignal:R,timeoutInMilliseconds:L,nextFrameToRender:X0,frame:C,page:z,imageSequencePattern:G0}),new Promise((d,r)=>{q?.(()=>{r(Error(C6.renderFrames))})})]),N0.release(z)}catch(d){let r=r4(d),E0=d.stack?.includes(s.DELAY_RENDER_RETRY_TOKEN),i=$V(d);if(Mw(d)&&!E0)throw d;if(!r&&!E0&&!i)throw d;if(R.stopped)return;if($===0)throw D.warn({indent:v,logLevel:F},`The browser crashed ${X} times while rendering frame ${C}. Not retrying anymore. Learn more about this error under https://www.remotion.dev/docs/target-closed`),d;if(E0){let q0=await N,O0=await P(C,z.pageIndex);q0.release(O0),D.warn({indent:v,logLevel:F},`delayRender() timed out while rendering frame ${C}: ${d.message}`);let M0=Rw(d);return X0.returnFrame(C),h4({retriesLeft:M0,attempt:X+1,assets:Y,imageFormat:Q,binariesDirectory:J,cancelSignal:q,composition:W,countType:H,downloadMap:G,frameDir:_,framesToRender:j,indent:v,jpegQuality:V,logLevel:F,onArtifact:U,onDownload:B,onError:M,outputDir:O,poolPromise:N,scale:A,stoppedSignal:R,timeoutInMilliseconds:L,makeBrowser:I,makeNewPage:P,browserReplacer:x,concurrencyOrFramesToRender:S,framesRenderedObj:g,lastFrame:h,onFrameBuffer:m,onFrameUpdate:p,nextFrameToRender:X0,imageSequencePattern:G0,trimLeftOffset:Q0,trimRightOffset:V0,allFramesAndExtraFrames:n})}D.warn({indent:v,logLevel:F},`The browser crashed while rendering frame ${C}, retrying ${$} more times. Learn more about this error under https://www.remotion.dev/docs/target-closed`),await x.replaceBrowser(I,async()=>{let q0=Array(S).fill(!0).map((w0,z0)=>P(C,z0)),O0=await Promise.all(q0),M0=await N;for(let w0 of O0)M0.release(w0)}),X0.returnFrame(C),await h4({retriesLeft:$-1,attempt:X+1,assets:Y,binariesDirectory:J,cancelSignal:q,composition:W,countType:H,downloadMap:G,frameDir:_,framesToRender:j,imageFormat:Q,indent:v,jpegQuality:V,logLevel:F,onArtifact:U,makeBrowser:I,onDownload:B,onError:M,outputDir:O,poolPromise:N,scale:A,stoppedSignal:R,timeoutInMilliseconds:L,browserReplacer:x,makeNewPage:P,concurrencyOrFramesToRender:S,framesRenderedObj:g,lastFrame:h,onFrameBuffer:m,onFrameUpdate:p,nextFrameToRender:X0,imageSequencePattern:G0,trimLeftOffset:Q0,trimRightOffset:V0,allFramesAndExtraFrames:n})}},bw=($,X,Y)=>{let Q=$,J=[],q=!1;return{getBrowser:()=>Q,replaceBrowser:async(W,H)=>{if(q)return new Promise((_,j)=>{J.push({resolve:_,reject:j})});try{q=!0,await Q.close({silent:!0}).then(()=>{D.info({indent:Y,logLevel:X},"Killed previous browser and making new one")}).catch(()=>{});let G=await W();return Q=G,await H(),J.forEach((_)=>_.resolve(G)),D.info({indent:Y,logLevel:X},"Made new browser"),G}catch(G){throw J.forEach((_)=>_.reject(G)),G}finally{q=!1}}}},t8=s.validateFps,X1=s.validateDimension,HJ=s.validateDurationInFrames,M7=($)=>{if(typeof $>"u")return;if(typeof $!=="number")throw Error('Scale should be a number or undefined, but is "'+JSON.stringify($)+'"');if(Number.isNaN($))throw Error("`scale` should not be NaN, but is NaN");if(!Number.isFinite($))throw Error(`"scale" must be finite, but is ${$}`);if($<=0)throw Error(`"scale" must be bigger than 0, but is ${$}`);if($>16)throw Error(`"scale" must be smaller or equal than 16, but is ${$}`)},Zw=1,Cw=async({onFrameUpdate:$,outputDir:X,onStart:Y,serializedInputPropsWithCustomSchema:Q,serializedResolvedPropsWithCustomSchema:J,jpegQuality:q,imageFormat:W,frameRange:H,onError:G,envVariables:_,onBrowserLog:j,onFrameBuffer:V,onDownload:U,pagesArray:B,serveUrl:M,composition:O,timeoutInMilliseconds:N,scale:A,resolvedConcurrency:R,everyNthFrame:L,proxyPort:v,cancelSignal:F,downloadMap:I,muted:P,makeBrowser:x,browserReplacer:S,sourceMapGetter:g,logLevel:h,indent:m,parallelEncodingEnabled:p,compositionStart:X0,forSeamlessAacConcatenation:G0,onArtifact:Q0,binariesDirectory:V0,imageSequencePattern:n,mediaCacheSizeInBytes:N0,onLog:z,darkMode:C})=>{if(X){if(!DY.existsSync(X))DY.mkdirSync(X,{recursive:!0})}let d=[],r=C9(O.durationInFrames,H),{extraFramesToCaptureAssetsBackend:E0,extraFramesToCaptureAssetsFrontend:i,chunkLengthInSeconds:q0,trimLeftOffset:O0,trimRightOffset:M0}=Bw({fps:O.fps,compositionStart:X0,realFrameRange:r,forSeamlessAacConcatenation:G0}),w0=b9(r,L),z0=w0[w0.length-1],_0=Math.min(w0.length,R),v0=(b0,s0)=>{return Dw({context:g,initialFrame:b0,browserReplacer:S,indent:m,logLevel:h,onBrowserLog:j,pagesArray:B,scale:A,composition:O,envVariables:_,imageFormat:W,muted:P,proxyPort:v,serializedInputPropsWithCustomSchema:Q,serializedResolvedPropsWithCustomSchema:J,serveUrl:M,timeoutInMilliseconds:N,pageIndex:s0,isMainTab:s0===0,mediaCacheSizeInBytes:N0,onLog:z,darkMode:C})},R0=async()=>{let b0=Array(_0).fill(!0).map((P6,$6)=>v0(w0[$6],$6)),s0=await Promise.all(b0);return new YJ(s0)},Y0=L===1?"actual-frames":"from-zero",B0=XJ({lastFrame:z0,totalFrames:w0.length,countType:Y0}),T0={count:0},l0=R0();Y?.({frameCount:w0.length,parallelEncoding:p,resolvedConcurrency:R});let a=[],n0={stopped:!1};F?.(()=>{n0.stopped=!0});let I6=X??I.compositingDir,i0=[...i,...w0,...E0],v6=qQ();if(v6)D.info({indent:m,logLevel:h},"Experimental: Using partitioned rendering (https://github.com/remotion-dev/remotion/pull/4830)");let O6=v6?Lw({allFramesAndExtraFrames:i0,concurrencyOrFramesToRender:_0}):Aw({allFramesAndExtraFrames:i0,concurrencyOrFramesToRender:_0}),q6=n||"element-[frame].[ext]",N6=q6.replace(/\[frame\]/g,`%0${B0}d`).replace(/\[ext\]/g,W);await Promise.all(i0.map(()=>{return h4({retriesLeft:Zw,attempt:1,assets:a,binariesDirectory:V0,cancelSignal:F,composition:O,countType:Y0,downloadMap:I,frameDir:I6,framesToRender:w0,imageFormat:W,indent:m,jpegQuality:q,logLevel:h,onArtifact:Q0,onDownload:U,onError:G,outputDir:X,poolPromise:l0,scale:A,stoppedSignal:n0,timeoutInMilliseconds:N,makeBrowser:x,browserReplacer:S,concurrencyOrFramesToRender:_0,framesRenderedObj:T0,lastFrame:z0,makeNewPage:v0,onFrameBuffer:V,onFrameUpdate:$,nextFrameToRender:O6,imageSequencePattern:q6,trimLeftOffset:O0,trimRightOffset:M0,allFramesAndExtraFrames:i0})}));let _1=Y0==="from-zero"?0:w0[0];return await Promise.all(d),{assetsInfo:{assets:a.sort((b0,s0)=>{return b0.frame-s0.frame}),imageSequenceName:qw.join(I6,N6),firstFrameIndex:_1,downloadMap:I,trimLeftOffset:O0,trimRightOffset:M0,chunkLengthInSeconds:q0,forSeamlessAacConcatenation:G0},frameCount:w0.length}},Sw=({browserExecutable:$,cancelSignal:X,chromiumOptions:Y,composition:Q,concurrency:J,envVariables:q,everyNthFrame:W,frameRange:H,imageFormat:G,indent:_,jpegQuality:j,muted:V,onBrowserLog:U,onDownload:B,onFrameBuffer:M,onFrameUpdate:O,onStart:N,outputDir:A,port:R,puppeteerInstance:L,scale:v,server:F,timeoutInMilliseconds:I,logLevel:P,webpackBundleOrServeUrl:x,serializedInputPropsWithCustomSchema:S,serializedResolvedPropsWithCustomSchema:g,offthreadVideoCacheSizeInBytes:h,parallelEncodingEnabled:m,binariesDirectory:p,forSeamlessAacConcatenation:X0,compositionStart:G0,onBrowserDownload:Q0,onArtifact:V0,chromeMode:n,offthreadVideoThreads:N0,imageSequencePattern:z,mediaCacheSizeInBytes:C,onLog:d})=>{X1(Q.height,"height","in the `config` object passed to `renderFrames()`"),X1(Q.width,"width","in the `config` object passed to `renderFrames()`"),t8(Q.fps,"in the `config` object of `renderFrames()`",!1),HJ(Q.durationInFrames,{component:"in the `config` object passed to `renderFrames()`",allowFloats:!1}),S9(j),M7(v);let r=()=>v9({browser:N9,browserExecutable:$,chromiumOptions:Y,forceDeviceScaleFactor:v,indent:_,viewport:null,logLevel:P,onBrowserDownload:Q0,chromeMode:n}),E0=L??r(),i=K7(J),q0=[];return new Promise((O0,M0)=>{let w0=[],z0=(_0)=>{M0(_0)};Promise.race([new Promise((_0,v0)=>{X?.(()=>{v0(Error(C6.renderFrames))})}),Promise.all([e1(F,{webpackConfigOrServeUrl:x,port:R,remotionRoot:Y1(),offthreadVideoThreads:N0??P9,logLevel:P,indent:_,offthreadVideoCacheSizeInBytes:h,binariesDirectory:p,forceIPv4:!1},{onDownload:B}),E0]).then(([{server:_0,cleanupServer:v0},R0])=>{let{serveUrl:Y0,offthreadPort:B0,sourceMap:T0,downloadMap:l0}=_0,a=bw(R0,P,_),n0=Ww({puppeteerInstance:a,concurrency:i,logLevel:P,indent:_});return w0.push(()=>{return n0.stopCycling(),Promise.resolve()}),w0.push(()=>v0(!1)),Cw({onError:z0,pagesArray:q0,serveUrl:Y0,composition:Q,resolvedConcurrency:i,onDownload:B,proxyPort:B0,makeBrowser:r,browserReplacer:a,sourceMapGetter:T0,downloadMap:l0,cancelSignal:X,envVariables:q,everyNthFrame:W,frameRange:H,imageFormat:G,jpegQuality:j,muted:V,onBrowserLog:U,onFrameBuffer:M,onFrameUpdate:O,onStart:N,outputDir:A,scale:v,timeoutInMilliseconds:I,logLevel:P,indent:_,serializedInputPropsWithCustomSchema:S,serializedResolvedPropsWithCustomSchema:g,parallelEncodingEnabled:m,binariesDirectory:p,forSeamlessAacConcatenation:X0,compositionStart:G0,onBrowserDownload:Q0,onArtifact:V0,chromeMode:n,offthreadVideoThreads:N0,imageSequencePattern:z,mediaCacheSizeInBytes:C,onLog:d,darkMode:Y.darkMode??!1})})]).then((_0)=>{return F?.compositor.executeCommand("CloseAllVideos",{}).then(()=>{D.verbose({indent:_,logLevel:P,tag:"compositor"},"Freed memory from compositor")}).catch((v0)=>{D.verbose({indent:_,logLevel:P},"Could not close compositor",v0)}),O0(_0)}).catch((_0)=>M0(_0)).finally(()=>{if(L)Promise.all(q0.map((_0)=>_0.close())).catch((_0)=>{if(r4(_0))return;D.error({indent:_,logLevel:P},"Unable to close browser tab",_0)});else Promise.resolve(E0).then((_0)=>{return _0.close({silent:!0})}).catch((_0)=>{if(!_0?.message.includes("Target closed"))D.error({indent:_,logLevel:P},"Unable to close browser",_0)});w0.forEach((_0)=>{_0()})})})},GJ=r8(Sw);var hw={h264:18,h265:23,vp8:9,vp9:28,prores:null,gif:null,"h264-mkv":18,"h264-ts":18,aac:null,mp3:null,wav:null},fw=($)=>{let X=hw[$];if(X===void 0)throw TypeError(`Got unexpected codec "${$}"`);return X},yw={h264:[1,51],h265:[0,51],vp8:[4,63],vp9:[0,63],prores:[0,0],gif:[0,0],"h264-mkv":[1,51],"h264-ts":[1,51],aac:[0,0],mp3:[0,0],wav:[0,0]},gw=($)=>{let X=yw[$];if(X===void 0)throw TypeError(`Got unexpected codec "${$}"`);return X},D7=({codec:$,crf:X,videoBitrate:Y,encodingMaxRate:Q,encodingBufferSize:J,hardwareAcceleration:q})=>{if(X&&Y)throw Error('"crf" and "videoBitrate" can not both be set. Choose one of either.');if(X&&q==="required")throw Error('"crf" option is not supported with hardware acceleration');if(Q&&!J)throw Error('"encodingMaxRate" can not be set without also setting "encodingBufferSize".');let W=J?["-bufsize",J]:[],H=Q?["-maxrate",Q]:[];if(Y){if($==="prores")return console.warn("ProRes does not support videoBitrate. Ignoring."),[];if(c8($))return console.warn(`${$} does not support videoBitrate. Ignoring.`),[];return["-b:v",Y,...W,...H]}if(X===null||typeof X>"u"){let _=fw($);if(_===null)return[...W,...H];return["-crf",String(_),...W,...H]}if(typeof X!=="number")throw TypeError("Expected CRF to be a number, but is "+JSON.stringify(X));let G=gw($);if(X===0&&($==="h264"||$==="h264-mkv"||$==="h264-ts"))throw TypeError("Setting the CRF to 0 with a H264 codec is not supported anymore because of it's inconsistencies between platforms. Videos with CRF 0 cannot be played on iOS/macOS. 0 is a extreme value with inefficient settings which you probably do not want. Set CRF to a higher value to fix this error.");if(X<G[0]||X>G[1]){if(G[0]===0&&G[1]===0)throw TypeError(`The "${$}" codec does not support the --crf option.`);throw TypeError(`CRF must be between ${G[0]} and ${G[1]} for codec ${$}. Passed: ${X}`)}if($==="prores")return console.warn('ProRes does not support the "crf" option. Ignoring.'),[];if(c8($))return console.warn(`${$} does not support the "crf" option. Ignoring.`),[];return["-crf",String(X),...W,...H]},mw={"h264-mkv":{audio:!0,video:!0},aac:{audio:!0,video:!1},gif:{video:!0,audio:!1},h264:{video:!0,audio:!0},"h264-ts":{video:!0,audio:!0},h265:{video:!0,audio:!0},mp3:{audio:!0,video:!1},prores:{audio:!0,video:!0},vp8:{audio:!0,video:!0},vp9:{audio:!0,video:!0},wav:{audio:!0,video:!1}},h9=($)=>{return mw[$]},uw=($)=>{let[X]=$,Y=$[$.length-1],Q=[],J=()=>{for(let G of Q.slice(0))if(X===G.forFrame)G.resolve(),Q=Q.filter((_)=>_.id!==G.id)},q=(G)=>{return new Promise((_)=>{Q.push({id:String(Math.random()),forFrame:G,resolve:_}),J()})};return{waitForRightTimeOfFrameToBeInserted:q,setFrameToStitch:(G)=>{X=G,J()},waitForFinish:async()=>{await q(Y+1)}}},cw=["default","bt601","bt709","bt2020-ncl"],dw=["bt601","bt709","bt2020-ncl"],BA=s.ENABLE_V5_BREAKING_CHANGES?dw:cw,_J=s.ENABLE_V5_BREAKING_CHANGES?"bt709":"default",EY=["ultrafast","superfast","veryfast","faster","fast","medium","slow","slower","veryslow","placebo"],lw=({codec:$,x264Preset:X})=>{if(X!==null&&$!=="h264"&&$!=="h264-mkv"&&$!=="h264-ts")throw TypeError(`You have set a x264 preset but the codec is "${$}". Set the codec to "h264" or remove the Preset profile.`);if(X!==null&&!EY.includes(X))throw TypeError(`The Preset profile "${X}" is not valid. Valid options are ${EY.map((Y)=>`"${Y}"`).join(", ")}`)},pw=!0,nw=({encodingMaxRate:$,encodingBufferSize:X,crf:Y})=>{if(X!==null)return"encodingBufferSize";if($!==null)return"encodingMaxRate";if(Y!==null&&typeof Y<"u")return"crf";return null},iw=({codec:$,encodingMaxRate:X,encodingBufferSize:Y,crf:Q,hardwareAcceleration:J,logLevel:q,indent:W})=>{let H=J==="required"||J==="if-possible",G=nw({encodingMaxRate:X,encodingBufferSize:Y,crf:Q});if(J==="required"&&G)throw Error(`When using hardware accelerated encoding, the option "${G}" with hardware acceleration is not supported. Disable hardware accelerated encoding or use "if-possible" instead.`);let _=()=>{if(J==="if-possible"&&G)D.warn({indent:W,logLevel:q},`${W?"":`
`}Hardware accelerated encoding disabled - "${G}" option is not supported with hardware acceleration`)};if($==="prores"){if(H&&process.platform==="darwin"&&!G)return{encoderName:"prores_videotoolbox",hardwareAccelerated:!0};return _(),{encoderName:"prores_ks",hardwareAccelerated:!1}}if($==="h264"){if(H&&process.platform==="darwin"&&!G)return{encoderName:"h264_videotoolbox",hardwareAccelerated:!0};return _(),{encoderName:"libx264",hardwareAccelerated:!1}}if($==="h265"){if(H&&process.platform==="darwin"&&!G)return{encoderName:"hevc_videotoolbox",hardwareAccelerated:!0};return _(),{encoderName:"libx265",hardwareAccelerated:!1}}if($==="vp8")return{encoderName:"libvpx",hardwareAccelerated:!1};if($==="vp9")return{encoderName:"libvpx-vp9",hardwareAccelerated:!1};if($==="gif")return{encoderName:"gif",hardwareAccelerated:!1};if($==="mp3")return null;if($==="aac")return null;if($==="wav")return null;if($==="h264-mkv")return{encoderName:"libx264",hardwareAccelerated:!1};if($==="h264-ts")return{encoderName:"libx264",hardwareAccelerated:!1};throw Error(`Could not get codec for ${$}`)},sw=({hasPreencoded:$,proResProfileName:X,pixelFormat:Y,x264Preset:Q,codec:J,crf:q,videoBitrate:W,encodingMaxRate:H,encodingBufferSize:G,hardwareAcceleration:_})=>{if($||J==="gif")return[];return[X?["-profile:v",X]:null,["-pix_fmt",Y],Y==="yuva420p"?["-auto-alt-ref","0"]:null,Q?["-preset",Q]:null,["-video_track_timescale","90000"],D7({crf:q,videoBitrate:W,codec:J,encodingMaxRate:H,encodingBufferSize:G,hardwareAcceleration:_})].filter(A0)},jJ=({hasPreencoded:$,proResProfileName:X,pixelFormat:Y,x264Preset:Q,codec:J,crf:q,videoBitrate:W,encodingMaxRate:H,encodingBufferSize:G,colorSpace:_,hardwareAcceleration:j,indent:V,logLevel:U})=>{let B=iw({codec:J,encodingMaxRate:H,encodingBufferSize:G,crf:q,hardwareAcceleration:j,indent:V,logLevel:U});if(B===null)throw TypeError(`encoderSettings is null: ${JSON.stringify(J)} (hwaccel = ${j})`);let{encoderName:M,hardwareAccelerated:O}=B;if(!O&&j==="required")throw Error(`Codec ${J} does not support hardware acceleration on ${process.platform}, but "hardwareAcceleration" is set to "required"`);D.verbose({indent:V,logLevel:U,tag:"stitchFramesToVideo()"},`Encoder: ${M}, hardware accelerated: ${O}`);let N=J==="gif"?"bt601":_??_J;return[["-c:v",$?"copy":M],J==="h264-ts"?["-f","mpegts"]:null,...N==="bt709"?[["-colorspace:v","bt709"],["-color_primaries:v","bt709"],["-color_trc:v","bt709"],["-color_range","tv"],$?[]:["-vf","zscale=matrix=709:matrixin=709:range=limited"]]:N==="bt2020-ncl"?[["-colorspace:v","bt2020nc"],["-color_primaries:v","bt2020"],["-color_trc:v","arib-std-b67"],["-color_range","tv"],$?[]:["-vf","zscale=matrix=2020_ncl:matrixin=2020_ncl:range=limited"]]:[],...sw({codec:J,crf:q,hasPreencoded:$,pixelFormat:Y,proResProfileName:X,videoBitrate:W,encodingMaxRate:H,encodingBufferSize:G,x264Preset:Q,hardwareAcceleration:j})].filter(A0)},VJ=($,X)=>{if($!=="prores")return null;switch(X){case"4444-xq":return"5";case"4444":return"4";case"hq":return"3";case"standard":return"2";case"light":return"1";case"proxy":return"0";default:return"3"}},f9=({width:$,height:X,codec:Y,scale:Q,wantsImageSequence:J,indent:q,logLevel:W})=>{if(J)return{actualWidth:$,actualHeight:X};if(Y!=="h264-mkv"&&Y!=="h264"&&Y!=="h265"&&Y!=="h264-ts")return{actualWidth:$,actualHeight:X};let H=X;while(Math.round(H*Q)%2!==0)H--;let G=$;while(Math.round(G*Q)%2!==0)G--;if(G!==$)D.verbose({indent:q,logLevel:W},`Rounding width to an even number from ${$} to ${G}`);if(H!==X)D.verbose({indent:q,logLevel:W},`Rounding height to an even number from ${X} to ${H}`);return{actualWidth:G,actualHeight:H}},ow=($)=>{X1($.height,"height","passed to `stitchFramesToVideo()`"),X1($.width,"width","passed to `stitchFramesToVideo()`");let X=$.codec??WQ;t8($.fps,"in `stitchFramesToVideo()`",X==="gif"),f9({width:$.width,height:$.height,codec:X,scale:1,wantsImageSequence:!1,indent:$.indent,logLevel:$.logLevel});let Y=$.pixelFormat??B7,Q=VJ(X,$.proResProfile);O7(Y,X);let J=[["-r",$.fps],["-f","image2pipe"],["-s",`${$.width}x${$.height}`],["-vcodec",$.imageFormat==="jpeg"?"mjpeg":"png"],["-i","-"],...jJ({hasPreencoded:!1,proResProfileName:Q,pixelFormat:Y,x264Preset:$.x264Preset,codec:X,crf:$.crf,videoBitrate:$.videoBitrate,encodingMaxRate:$.encodingMaxRate,encodingBufferSize:$.encodingBufferSize,colorSpace:$.colorSpace,hardwareAcceleration:$.hardwareAcceleration,indent:$.indent,logLevel:$.logLevel}),"-y",$.outputLocation];D.verbose({indent:$.indent,logLevel:$.logLevel,tag:"prespawnFfmpeg()"},"Generated FFMPEG command:"),D.verbose({indent:$.indent,logLevel:$.logLevel,tag:"prespawnFfmpeg()"},J.join(" "));let q=J.flat(2).filter(Boolean),W=$.ffmpegOverride?$.ffmpegOverride({type:"pre-stitcher",args:q}):q,H=J6({bin:"ffmpeg",args:W,indent:$.indent,logLevel:$.logLevel,binariesDirectory:$.binariesDirectory,cancelSignal:$.signal}),G="";H.stderr?.on("data",(j)=>{let V=j.toString();if(G+=V,$.onProgress){let U=k6(V,$.fps);if(U!==void 0)$.onProgress(U)}});let _={type:"running"};return H.on("exit",(j)=>{if(typeof j==="number"&&j>0)_={type:"quit-with-error",exitCode:j,stderr:G};else _={type:"quit-successfully",stderr:G}}),{task:H,getLogs:()=>G,getExitStatus:()=>_}},rw=({width:$,height:X})=>{return 1000*$*X},tw=({width:$,height:X,logLevel:Y})=>{let Q=a1(Y),J=rw({height:X,width:$});return{hasEnoughMemory:Q-J>2000000000&&J/Q<0.5,freeMemory:Q,estimatedUsage:J}},KJ=({codec:$,proResProfile:X})=>{if(typeof X<"u"&&$!=="prores")throw TypeError(`You have set a ProRes profile but the codec is "${$}". Set the codec to "prores" or remove the ProRes profile.`);if(X!==void 0&&!s.proResProfileOptions.includes(X))throw TypeError(`The ProRes profile "${X}" is not valid. Valid options are ${s.proResProfileOptions.map((Y)=>`"${Y}"`).join(", ")}`)},L7=($)=>{if($===null)return"0";if($===0)return"-1";return String($)},f4=($)=>{if(!$.startsWith("file:"))return $;let{protocol:X}=new URL($);if(X==="file:")return ew.fileURLToPath($);throw TypeError(`Unexpected src ${$}`)},UJ=($)=>{if(typeof $==="number")return $;if($.length===0)throw TypeError("Volume array must have at least 1 number");if(new Set($).size===1)return $[0];return $},$B=($)=>{return{...$,volume:UJ($.volume)}},XB=($,X)=>{let Y=X.src.match(/same-as-(.*)-([0-9.]+)$/);if(!Y)return X;let[,Q,J]=Y,q=$.find((W)=>W.id===Q&&String(W.frame)===J);if(!q)throw console.log("List of assets:"),console.log($),TypeError("Cannot uncompress asset, asset list seems corrupt. Please file a bug in the Remotion repo with the debug information above.");return{...X,src:q.src}},wJ=($,X)=>{return $.id===X.id},RY=($,X)=>{let Y=$.findIndex((Q)=>wJ(Q,X));if(Y===-1)return!1;return $.splice(Y,1),!0},w4=($)=>{let X=JJ($),Y=[];for(let Q of X)if(!Y.find((J)=>J.id===Q.id))Y.push(Q);return Y},YB=($)=>{let X=[],Y=$.flat(1);for(let Q=0;Q<$.length;Q++){let J=w4($[Q-1]??[]),q=w4($[Q]),W=w4($[Q+1]??[]);for(let H of q){if(!RY(J,H))X.push({src:f4(XB(Y,H).src),type:H.type,duration:null,id:H.id,startInVideo:Q,trimLeft:H.mediaFrame,volume:[],playbackRate:H.playbackRate,toneFrequency:H.toneFrequency,audioStartFrame:H.audioStartFrame,audioStreamIndex:H.audioStreamIndex});let G=X.find((_)=>_.duration===null&&wJ(_,H));if(!G)throw Error("something wrong");if(!RY(W,H))G.duration=Q-G.startInVideo+1;G.volume=[...G.volume,H.volume]}}for(let Q of X)if(Q.duration===null)throw Error("duration is unexpectedly null");return X.map((Q)=>$B(Q))},QB=($,X)=>{return $.reduce((Y,Q,J)=>{return J%X===0?[...Y,[Q]]:[...Y.slice(0,-1),[...Y.slice(-1)[0],Q]]},[])},JB=async({assets:$,onDownload:X,downloadMap:Y,indent:Q,logLevel:J,binariesDirectory:q})=>{let W=QB($,1000),H=[];for(let G of W){let _=G.map((V)=>{let U=V.audioAndVideoAssets.map((B)=>{return PQ({renderAsset:B,onDownload:X,downloadMap:Y,indent:Q,logLevel:J,binariesDirectory:q,cancelSignalForAudioAnalysis:void 0,shouldAnalyzeAudioImmediately:!0})});return Promise.all(U)}),j=await Promise.all(_);H.push(j)}return H.flat(1)},WB=async({audioCodec:$,outName:X,binariesDirectory:Y,indent:Q,logLevel:J,audioBitrate:q,cancelSignal:W,inName:H,onProgress:G,chunkLengthInSeconds:_,fps:j})=>{if($==="pcm-16")return qB(H,X),G(1);let V=[["-hide_banner"],["-i",H],["-c:a",$J($)],$==="aac"?["-f","adts"]:null,$?["-b:a",q||"320k"]:null,$==="aac"?"-cutoff":null,$==="aac"?"18000":null,["-y",X]].filter(A0).flat(2),U=J6({bin:"ffmpeg",args:V,indent:Q,logLevel:J,binariesDirectory:Y,cancelSignal:W});U.stderr?.on("data",(B)=>{let M=B.toString("utf8"),O=k6(M,j);if(O!==void 0)G(O/(_*j))}),await U},GB=($,X)=>{return $.reduce((Y,Q,J)=>{return J%X===0?[...Y,[Q]]:[...Y.slice(0,-1),[...Y.slice(-1)[0],Q]]},[])},BJ="outputaudio",_B=({inputs:$})=>{return[...$.map((Y,Q)=>{let J=[Y.filter.pad_start?Y.filter.pad_start:null,Y.filter.pad_end?Y.filter.pad_end:null,"acopy"];return`[${Q}:a]${J.filter(A0).join(",")}[padded${Q}]`}),`${Array($.length).fill(!0).map((Y,Q)=>{return`[padded${Q}]`}).join("")}amix=inputs=${$.length}:dropout_transition=0:normalize=0[${BJ}]`].join(";")},KB=($,X)=>{if($.filter===null)return{file:null,cleanup:()=>{return}};return OJ($.filter,X)},OJ=async($,X)=>{let Y=Math.random().toString().replace(".",""),Q=VB.join(X.complexFilter,"complex-filter-"+Y+".txt");if(!jB(X.complexFilter))B4.mkdirSync(X.complexFilter,{recursive:!0});return await B4.promises.writeFile(Q,$),{file:Q,cleanup:()=>{B4.unlinkSync(Q)}}},UB=async({filters:$,downloadMap:X})=>{if($.length===0)return{complexFilterFlag:null,cleanup:()=>{return},complexFilter:null};let Y=_B({inputs:$}),{file:Q,cleanup:J}=await OJ(Y,X);return{complexFilterFlag:["-filter_complex_script",Q],cleanup:J,complexFilter:Y}},wB=async({outName:$,indent:X,logLevel:Y,binariesDirectory:Q,cancelSignal:J,chunkLengthInSeconds:q})=>{await J6({bin:"ffmpeg",args:["-f","lavfi","-i",`anullsrc=r=${S0}`,"-c:a","pcm_s16le","-t",String(q),"-ar",String(S0),$],indent:X,logLevel:Y,binariesDirectory:Q,cancelSignal:J})},BB=async({outName:$,files:X,downloadMap:Y,remotionRoot:Q,indent:J,logLevel:q,binariesDirectory:W,cancelSignal:H,onProgress:G,fps:_,chunkLengthInSeconds:j})=>{if(X.length===0){await wB({outName:$,chunkLengthInSeconds:j,indent:J,logLevel:q,binariesDirectory:W,cancelSignal:H}),G(1);return}if(X.length>=32){let N=GB(X,10),A=x9("remotion-large-audio-mixing");try{let R=Array(N.length).fill(0),L=0,v=()=>{let P=R.reduce((x,S)=>x+S,0)/N.length*0.8+L*0.2;G(P)},F=await Promise.all(N.map(async(I,P)=>{let x=HB.join(A,`chunk-${P}.wav`);return await y4({files:I,chunkLengthInSeconds:j,outName:x,downloadMap:Y,remotionRoot:Q,indent:J,logLevel:q,binariesDirectory:W,cancelSignal:H,onProgress:(S)=>{R[P]=S,v()},fps:_}),x}));await y4({files:F.map((I)=>({filter:{pad_end:null,pad_start:null},outName:I})),outName:$,downloadMap:Y,remotionRoot:Q,indent:J,logLevel:q,binariesDirectory:W,cancelSignal:H,onProgress:(I)=>{L=I,v()},fps:_,chunkLengthInSeconds:j});return}finally{f0(A)}}let{complexFilterFlag:V,cleanup:U,complexFilter:B}=await UB({filters:X,downloadMap:Y}),M=[["-hide_banner"],...X.map((N)=>["-i",N.outName]),V,["-c:a","pcm_s16le"],["-map",`[${BJ}]`],["-y",$]].filter(A0).flat(2);D.verbose({indent:J,logLevel:q},"Merging audio tracks","Command:",`ffmpeg ${M.join(" ")}`,"Complex filter script:",B);let O=J6({bin:"ffmpeg",args:M,indent:J,logLevel:q,binariesDirectory:W,cancelSignal:H});O.stderr?.on("data",(N)=>{let A=N.toString("utf8"),R=k6(A,_);if(R!==void 0)G(R/(j*_))}),await O,G(1),U()},OB=H7(3),y4=($)=>{return OB(BB,$)},g4=($)=>{if($===1)return null;if($>=0.5&&$<=2)return`atempo=${$.toFixed(5)}`;return`${g4(Math.sqrt($))},${g4(Math.sqrt($))}`},FY=98,NB=($)=>{return Number((Math.round($*(FY-1))/(FY-1)).toFixed(3))},MB="t",DB=($,X,Y)=>{return`if(${$},${X},${Y})`},EB=({frames:$,trimLeft:X,fps:Y})=>{let Q=[];for(let J=0;J<$.length;J++){let q=$[J-1],W=$[J];if(q===void 0||W!==q+1)Q.push([]);Q[Q.length-1].push(W)}return Q.map((J)=>{let q=J[0],W=J[J.length-1],H=(q-0.5)/Y,G=(W+0.5)/Y;return`between(${MB},${(H+X).toFixed(4)},${(G+X).toFixed(4)})`}).join("+")},NJ=({arr:$,delay:X,fps:Y})=>{if($.length===0)throw Error("Volume array expression should never have length 0");if($.length===1)return String($[0][0]);let[Q,...J]=$,[q,W]=Q;return DB(EB({frames:W,trimLeft:X,fps:Y}),String(q),NJ({arr:J,delay:X,fps:Y}))},MJ=({volume:$,fps:X,trimLeft:Y})=>{if(typeof $==="number")return{eval:"once",value:String($)};if([...new Set($)].length===1)return MJ({volume:$[0],fps:X,trimLeft:Y});let Q=[...$,$[$.length-1]],J={};Q.forEach((H,G)=>{let _=NB(H);if(!J[_])J[_]=[];J[_].push(G)});let q=Object.keys(J).map((H)=>[Number(H),J[H]]).sort((H,G)=>H[1].length-G[1].length);return{eval:"frame",value:`'${NJ({arr:q,delay:Y,fps:X})}'`}},DJ=({fps:$,trimLeftOffset:X,seamless:Y,assetDuration:Q,audioStartFrame:J,trimLeft:q,playbackRate:W})=>{let H=q-J;if(!Y)return{trimLeft:J/$+H/$*W+X,maxTrim:Q};if(Y)return{trimLeft:J/$/W+H/$+X,maxTrim:Q?Q/W:null};throw Error("This should never happen")},AB=($)=>{if($%1<0.0000001)return Math.floor($);if($%1>0.9999999)return Math.ceil($);return $},zY=($)=>{let Y=`${AB($*1e6)}us`;if(Y.includes("e-"))return"0us";return Y},LB=({assetDuration:$,asset:X,trimLeftOffset:Y,trimRightOffset:Q,fps:J,indent:q,logLevel:W})=>{let{trimLeft:H,maxTrim:G}=DJ({trimLeft:X.trimLeft,fps:J,trimLeftOffset:Y,seamless:!0,assetDuration:$,audioStartFrame:X.audioStartFrame,playbackRate:X.playbackRate}),_=H+X.duration/J-Y+Q,j=G?Math.min(_,G):_;if(j<H)D.warn({indent:q,logLevel:W},"trimRightOrAssetDuration < trimLeft: "+JSON.stringify({trimRight:_,trimLeft:H,assetDuration:$,assetTrimLeft:X.trimLeft})),j=H;return{filter:[g4(X.playbackRate),`atrim=${zY(H)}:${zY(j)}`],actualTrimLeft:H,audibleDuration:j-H}},RB=({channels:$,volume:X,fps:Y,assetDuration:Q,chunkLengthInSeconds:J,forSeamlessAacConcatenation:q,trimLeftOffset:W,trimRightOffset:H,asset:G,indent:_,logLevel:j,presentationTimeOffsetInSeconds:V})=>{if($===0)return null;let{toneFrequency:U,startInVideo:B}=G,M=B/Y,{trimLeft:O,maxTrim:N}=DJ({trimLeft:G.trimLeft,fps:Y,trimLeftOffset:W,seamless:q,assetDuration:Q,audioStartFrame:G.audioStartFrame,playbackRate:G.playbackRate});if(N&&O>=N)return null;if(U!==null&&(U<=0||U>2))throw Error("toneFrequency must be a positive number between 0.01 and 2");let{actualTrimLeft:A,audibleDuration:R,filter:L}=LB({assetDuration:Q,trimLeftOffset:W,trimRightOffset:H,asset:G,fps:Y,indent:_,logLevel:j}),v=MJ({volume:X,fps:Y,trimLeft:A}),F=J-R-M,I=M+(G.trimLeft===0?V:0);return{filter:"[0:a]"+[`aformat=sample_fmts=s16:sample_rates=${S0}`,...L,v.value==="1"?null:`volume=${v.value}:eval=${v.eval}`,U&&U!==1?`asetrate=${S0}*${U},aresample=${S0},atempo=1/${U}`:null].filter(A0).join(",")+"[a0]",pad_end:F>0.0000001?"apad=pad_len="+Math.round(F*S0):null,pad_start:I===0?null:`adelay=${Array($+1).fill((I*1000).toFixed(0)).join("|")}`,actualTrimLeft:A}},FB=async({outName:$,asset:X,fps:Y,downloadMap:Q,indent:J,logLevel:q,binariesDirectory:W,cancelSignal:H,onProgress:G,chunkLengthInSeconds:_,trimLeftOffset:j,trimRightOffset:V,forSeamlessAacConcatenation:U,audioStreamIndex:B})=>{let{channels:M,duration:O,startTime:N}=await IQ({downloadMap:Q,src:f4(X.src),indent:J,logLevel:q,binariesDirectory:W,cancelSignal:H,audioStreamIndex:B}),A=RB({asset:X,fps:Y,channels:M,assetDuration:O,chunkLengthInSeconds:_,trimLeftOffset:j,trimRightOffset:V,forSeamlessAacConcatenation:U,volume:UJ(X.volume),indent:J,logLevel:q,presentationTimeOffsetInSeconds:N??0});if(A===null)return null;let{cleanup:R,file:L}=await KB(A,Q),v=[["-hide_banner"],["-i",f4(X.src)],B?["-map",`0:a:${B}`]:[],["-ac","2"],L?["-filter_script:a",L]:null,["-c:a","pcm_s16le"],["-ar",String(S0)],["-y",$]].flat(2).filter(A0);D.verbose({indent:J,logLevel:q},"Preprocessing audio track:",JSON.stringify(v.join(" ")),"Filter:",A.filter);let F=Date.now(),I=J6({bin:"ffmpeg",args:v,indent:J,logLevel:q,binariesDirectory:W,cancelSignal:H});return I.stderr?.on("data",(P)=>{let x=P.toString("utf8"),S=k6(x,Y);if(S!==void 0)G((S-A.actualTrimLeft*Y)/(_*Y))}),await I,D.verbose({indent:J,logLevel:q},"Preprocessed audio track",`${Date.now()-F}ms`),R(),{outName:$,filter:A}},zB=H7(2),IB=($)=>{return zB(FB,$)},vB=async({assets:$,onDownload:X,fps:Y,logLevel:Q,onProgress:J,downloadMap:q,remotionRoot:W,indent:H,binariesDirectory:G,audioBitrate:_,audioCodec:j,cancelSignal:V,chunkLengthInSeconds:U,trimLeftOffset:B,trimRightOffset:M,forSeamlessAacConcatenation:O})=>{let N=await JB({assets:$,onDownload:X??(()=>()=>{return}),downloadMap:q,indent:H,logLevel:Q,binariesDirectory:G});eK(q);let A=YB(N);D.verbose({indent:H,logLevel:Q,tag:"audio"},"asset positions",JSON.stringify(A));let R=Array(A.length).fill(0),L=0,v=0,F=()=>{let p=(R.length===0?1:R.reduce((X0,G0)=>X0+G0,0)/A.length)*0.7+L*0.1+v*0.2;J(p)},I=await Promise.all(A.map(async(m,p)=>{let X0=U4.join(q.audioMixing,`${p}.wav`),G0=await IB({outName:X0,asset:m,fps:Y,downloadMap:q,indent:H,logLevel:Q,binariesDirectory:G,cancelSignal:V,onProgress:(Q0)=>{R[p]=Q0,F()},chunkLengthInSeconds:U,trimLeftOffset:B,trimRightOffset:M,forSeamlessAacConcatenation:O,audioStreamIndex:m.audioStreamIndex});return R[p]=1,F(),G0}));await q.inlineAudioMixing.finish({indent:H,logLevel:Q,binariesDirectory:G,cancelSignal:V});let P=q.inlineAudioMixing.getListOfAssets(),x=[...I.filter(A0),...P.map((m)=>({outName:m,filter:{filter:null,pad_start:null,pad_end:null}}))],S=U4.join(q.audioPreprocessing,"merged.wav"),g=N7(j),h=U4.join(q.audioPreprocessing,`audio.${g}`);return await y4({files:x,outName:S,downloadMap:q,remotionRoot:W,indent:H,logLevel:Q,binariesDirectory:G,cancelSignal:V,fps:Y,onProgress:(m)=>{L=m,F()},chunkLengthInSeconds:U}),await WB({audioBitrate:_,audioCodec:j,binariesDirectory:G,indent:H,logLevel:Q,inName:S,outName:h,cancelSignal:V,chunkLengthInSeconds:U,fps:Y,onProgress:(m)=>{v=m,F()}}),f0(S),f0(q.audioMixing),x.forEach((m)=>{f0(m.outName)}),h},EJ=($)=>{let X=`Made with Remotion ${u0}`,Y={comment:X};return Object.keys($).forEach((J)=>{let q=J.toLowerCase();if(q==="comment")Y[q]=`${X}; ${$[J]}`;else Y[q]=$[J]}),Object.entries(Y).map(([J,q])=>["-metadata",`${J}=${q}`]).flat(1)},AJ=({codec:$,assetsInfo:X,enforceAudioTrack:Y,muted:Q})=>{if(Q)return"no";if(!h9($).audio)return"no";if(Y)return"yes";if(X===null)return"maybe";return X.assets.flat(1).length>0?"yes":"no"},S6=($,X)=>{if($===null||typeof $>"u")return;if(typeof $==="number")throw TypeError(`"${X}" must be a string ending in "K" or "M". Got a number: ${$}`);if(typeof $!=="string")throw TypeError(`"${X}" must be a string or null, but got ${JSON.stringify($)}`);if(!$.endsWith("K")&&!$.endsWith("k")&&!$.endsWith("M"))throw TypeError(`"${X}" must end in "K", "k" or "M", but got ${JSON.stringify($)}`)},PB=async({assetsInfo:$,audioBitrate:X,audioCodec:Y,cancelSignal:Q,codec:J,crf:q,enforceAudioTrack:W,ffmpegOverride:H,force:G,fps:_,height:j,indent:V,muted:U,onDownload:B,outputLocation:M,pixelFormat:O,preEncodedFileLocation:N,preferLossless:A,proResProfile:R,logLevel:L,videoBitrate:v,maxRate:F,bufferSize:I,width:P,numberOfGifLoops:x,onProgress:S,x264Preset:g,colorSpace:h,binariesDirectory:m,separateAudioTo:p,metadata:X0,hardwareAcceleration:G0},Q0)=>{X1(j,"height","passed to `stitchFramesToVideo()`"),X1(P,"width","passed to `stitchFramesToVideo()`"),f9({width:P,height:j,codec:J,scale:1,wantsImageSequence:!1,indent:V,logLevel:L}),KJ({codec:J,proResProfile:R}),S6(X,"audioBitrate"),S6(v,"videoBitrate"),S6(F,"maxRate"),S6(I,"bufferSize"),t8(_,"in `stitchFramesToVideo()`",!1),$.downloadMap.preventCleanup();let V0=VJ(J,R),n=h9(J),N0=AJ({assetsInfo:$,codec:J,enforceAudioTrack:W,muted:U});if(N0==="maybe")throw Error("Remotion is not sure whether to render audio. Please report this in the Remotion repo.");let z=N0==="yes",C=n.video;if(!z&&!C)throw Error("The output format has neither audio nor video. This can happen if you are rendering an audio codec and the output file has no audio or the muted flag was passed.");let d=k9({codec:J,preferLossless:A,setting:Y,separateAudioTo:p}),r=M?null:K4.join($.downloadMap.stitchFrames,`out.${Z9(J,d)}`);D.verbose({indent:V,logLevel:L,tag:"stitchFramesToVideo()"},"audioCodec",d),D.verbose({indent:V,logLevel:L,tag:"stitchFramesToVideo()"},"pixelFormat",O),D.verbose({indent:V,logLevel:L,tag:"stitchFramesToVideo()"},"codec",J),D.verbose({indent:V,logLevel:L,tag:"stitchFramesToVideo()"},"shouldRenderAudio",z),D.verbose({indent:V,logLevel:L,tag:"stitchFramesToVideo()"},"shouldRenderVideo",C),D7({crf:q,codec:J,videoBitrate:v,encodingMaxRate:F,encodingBufferSize:I,hardwareAcceleration:G0}),O7(O,J);let E0=(R0)=>{S?.(R0)},i=z&&d?await vB({assets:$.assets,onDownload:B,fps:_,chunkLengthInSeconds:$.chunkLengthInSeconds,logLevel:L,onProgress:(R0)=>{D.verbose({indent:V,logLevel:L,tag:"audio"},`Encoding progress: ${Math.round(R0*100)}%`)},downloadMap:$.downloadMap,remotionRoot:Q0,indent:V,binariesDirectory:m,audioBitrate:X,audioCodec:d,cancelSignal:Q??void 0,trimLeftOffset:$.trimLeftOffset,trimRightOffset:$.trimRightOffset,forSeamlessAacConcatenation:$.forSeamlessAacConcatenation}):null;if(n.audio&&!n.video){if(!d)throw TypeError("exporting audio but has no audio codec name. Report this in the Remotion repo.");if(!i)throw TypeError("exporting audio but has no audio file. Report this in the Remotion repo.");if(p)throw Error("`separateAudioTo` was set, but this render was audio-only. This option is meant to be used for video renders.");AY(i,M??r),S?.(Math.round($.chunkLengthInSeconds*_)),f0(K4.dirname(i));let R0=await new Promise((Y0,B0)=>{if(r)LY.readFile(r).then((T0)=>{return Y0(T0)}).catch((T0)=>B0(T0));else Y0(null)});return f0($.downloadMap.stitchFrames),$.downloadMap.allowCleanup(),Promise.resolve(R0)}let O0=[...N?[["-i",N]]:[["-r",String(_)],["-f","image2"],["-s",`${P}x${j}`],["-start_number",String($.firstFrameIndex)],["-i",$.imageSequenceName],J==="gif"?["-filter_complex","split[v],palettegen,[v]paletteuse"]:null],i&&!p?["-i",i,"-c:a","copy"]:["-an"],x===null?null:["-loop",L7(x)],...jJ({codec:J,crf:q,videoBitrate:v,encodingMaxRate:F,encodingBufferSize:I,hasPreencoded:Boolean(N),proResProfileName:V0,pixelFormat:O,x264Preset:g,colorSpace:h,hardwareAcceleration:G0,indent:V,logLevel:L}),J==="h264"?["-movflags","faststart"]:null,["-map_metadata","-1"],...EJ(X0??{}),G?"-y":null,M??r].flat(2).filter(Boolean),M0=H?H({type:"stitcher",args:O0}):O0;D.verbose({indent:V??!1,logLevel:L,tag:"stitchFramesToVideo()"},"Generated final FFmpeg command:"),D.verbose({indent:V,logLevel:L,tag:"stitchFramesToVideo()"},M0.join(" "));let w0=EV({bin:"ffmpeg",args:M0,indent:V,logLevel:L,binariesDirectory:m,cancelSignal:Q??void 0}),z0="",_0=!1;if(w0.stderr?.on("data",(R0)=>{let Y0=R0.toString();if(z0+=Y0,S){let B0=k6(Y0,_);if(B0!==void 0){if(B0===$.assets.length)if(_0)w0.stdin?.write("q");else _0=!0;E0(B0)}}}),p){if(!i)throw Error(`\`separateAudioTo\` was set to ${JSON.stringify(p)}, but this render included no audio`);let R0=K4.resolve(Q0,p);AY(i,R0),aw(i)}let v0=await new Promise((R0,Y0)=>{w0.once("close",(B0,T0)=>{if(B0===0){if(r===null)return K9($.downloadMap),R0(null);LY.readFile(r).then((l0)=>{R0(l0)}).catch((l0)=>{Y0(l0)}).finally(()=>{K9($.downloadMap)})}else Y0(Error(`FFmpeg quit with code ${B0} ${T0?`(${T0})`:""} The FFmpeg output was ${z0}`))})});return $.downloadMap.allowCleanup(),v0},xB=($)=>{let X=Y1(),Y=PB($,X);return Promise.race([Y,new Promise((Q,J)=>{$.cancelSignal?.(()=>{J(Error(C6.stitchFramesToVideo))})})])};var TB=({happyPath:$,cancelSignal:X,cancelMessage:Y})=>{if(!X)return $;let Q=()=>{return},J=new Promise((q,W)=>{X?.(()=>{Q=q,W(Error(Y))})});return Promise.race([$.then((q)=>{return process.nextTick(()=>Q?.(void 0)),q}),J])},bB=($)=>{if(typeof $>"u")throw TypeError('Argument missing for parameter "everyNthFrame"');if(typeof $!=="number")throw TypeError(`Argument passed to "everyNthFrame" is not a number: ${$}`);if($<1)throw RangeError(`The value for "everyNthFrame" cannot be below 1, but is ${$}`);if(!Number.isFinite($))throw RangeError(`"everyNthFrame" ${$} is not finite`);if($%1!==0)throw RangeError(`Argument for everyNthFrame must be an integer, but got ${$}`);if($===1)return $},ZB=($)=>{if(typeof $>"u")return;if($&&typeof $!=="function")throw TypeError(`Argument passed for "ffmpegArgsHook" is not a function: ${$}`)},LJ=($,X)=>{if(typeof $>"u"||$===null)return;if(typeof $!=="number")throw TypeError(`Argument passed to "numberOfGifLoops" is not a number: ${$}`);if($<0)throw RangeError(`The value for "numberOfGifLoops" cannot be below 0, but is ${$}`);if(!Number.isFinite($))throw RangeError(`"numberOfGifLoops" ${$} is not finite`);if($%1!==0)throw RangeError(`Argument for numberOfGifLoops must be an integer, but got ${$}`);if(X!=="gif")throw Error(`"numberOfGifLoops" can only be set if "codec" is set to "gif". The codec is "${X}"`)},CB=({codec:$,audioCodecSetting:X,extension:Y,preferLossless:Q,separateAudioTo:J})=>{if(!A1[$])throw TypeError(`The codec "${$}" is not supported. Supported codecs are: ${Object.keys(A1).join(", ")}`);let q=A1[$],W=k9({codec:$,preferLossless:Q,setting:X,separateAudioTo:J});if(W===null){if(Y!==q.default)throw TypeError(`When using the ${$} codec, the output filename must end in .${q.default}.`);return}if(!(W in q.forAudioCodec))throw Error(`Audio codec ${W} is not supported for codec ${$}`);let H=q.forAudioCodec[W].possible;if(!H.includes(Y)&&!J)throw TypeError(`When using the ${$} codec with the ${W} audio codec, the output filename must end in one of the following: ${H.join(", ")}.`)},IY=10,SB=150,kB=({proResProfile:$,x264Preset:X,crf:Y,composition:Q,serializedInputPropsWithCustomSchema:J,pixelFormat:q,codec:W,envVariables:H,frameRange:G,puppeteerInstance:_,outputLocation:j,onProgress:V,overwrite:U,onDownload:B,onBrowserLog:M,onStart:O,timeoutInMilliseconds:N,chromiumOptions:A,scale:R,browserExecutable:L,port:v,cancelSignal:F,muted:I,enforceAudioTrack:P,ffmpegOverride:x,audioBitrate:S,videoBitrate:g,encodingMaxRate:h,encodingBufferSize:m,audioCodec:p,concurrency:X0,disallowParallelEncoding:G0,everyNthFrame:Q0,imageFormat:V0,indent:n,jpegQuality:N0,numberOfGifLoops:z,onCtrlCExit:C,preferLossless:d,serveUrl:r,server:E0,logLevel:i,serializedResolvedPropsWithCustomSchema:q0,offthreadVideoCacheSizeInBytes:O0,colorSpace:M0,repro:w0,binariesDirectory:z0,separateAudioTo:_0,forSeamlessAacConcatenation:v0,compositionStart:R0,onBrowserDownload:Y0,onArtifact:B0,metadata:T0,hardwareAcceleration:l0,chromeMode:a,offthreadVideoThreads:n0,mediaCacheSizeInBytes:I6,onLog:i0,licenseKey:v6,isProduction:O6})=>{let q6=q??Q.defaultPixelFormat??B7;if(w0)Cj({serveUrl:r,compositionName:Q.id,serializedInputPropsWithCustomSchema:J,serializedResolvedPropsWithCustomSchema:q0});else bY();if(S9(N0),D7({crf:Y,codec:W,videoBitrate:g,encodingMaxRate:h,encodingBufferSize:m,hardwareAcceleration:l0}),S6(S,"audioBitrate"),S6(g,"videoBitrate"),S6(h,"encodingMaxRate"),S6(m,"encodingBufferSize"),KJ({codec:W,proResProfile:$}),lw({codec:W,x264Preset:X}),O7(q6,W),j)CB({codec:W,audioCodecSetting:p,extension:pQ(j),preferLossless:d,separateAudioTo:_0});let N6=j?q9.resolve(process.cwd(),j):null;M7(R),ZB(x),bB(Q0),LJ(z,W);let _1="encoding",b0,s0=null,g6=0,P6=0,$6=0,m6=null,j1=null,B8=!1,u6=0,K=[],E=Date.now(),{estimatedUsage:b,freeMemory:k,hasEnoughMemory:l}=tw({height:Q.height,width:Q.width,logLevel:i}),J0=!G0&&l&&F4(W);D.verbose({indent:n,logLevel:i,tag:"renderMedia()"},"Free memory:",k,"Estimated usage parallel encoding",b);let W0=K7(X0);if(D.verbose({indent:n,logLevel:i,tag:"renderMedia()"},"Using concurrency:",W0),D.verbose({indent:n,logLevel:i,tag:"renderMedia()"},"delayRender() timeout:",N),D.verbose({indent:n,logLevel:i,tag:"renderMedia()"},"Codec supports parallel rendering:",F4(W)),G0)D.verbose({indent:n,logLevel:i,tag:"renderMedia()"},"User disallowed parallel encoding.");if(J0)D.verbose({indent:n,logLevel:i,tag:"renderMedia()"},"Parallel encoding is enabled.");else D.verbose({indent:n,logLevel:i,tag:"renderMedia()"},"Parallel encoding is disabled.");let D0=c8(W)?"none":V0??Q.defaultVideoImageFormat??iQ;Xw(q6,D0);let $0=V4.mkdtempSync(q9.join(kw.tmpdir(),"react-motion-render")),g0=J0?q9.join($0,"pre-encode."+Z9(W,p)):null;if(C&&$0)C(`Delete ${$0}`,()=>f0($0));let{actualWidth:x6,actualHeight:q2}=f9({codec:W,height:Q.height,scale:R,width:Q.width,wantsImageSequence:!1,indent:n,logLevel:i}),W2=x6*R,x7=q2*R,d9={...Q,height:q2,width:x6},H2=C9(d9.durationInFrames,G),P1=b9(H2,Q0).length;D.verbose({indent:n,logLevel:i,tag:"renderMedia()"},`Rendering frames ${H2.join("-")}`);let G2=()=>{let W6=Math.round(0.8*g6+0.2*P6);V?.({encodedDoneIn:j1,encodedFrames:W6,renderedDoneIn:m6,renderedFrames:$6,renderEstimatedTime:u6,stitchStage:_1,progress:Math.round((70*$6+30*W6)/P1)/100})},l9=j4(),T7=j4(),b7=j4();F?.(()=>{l9.cancel()});let{waitForRightTimeOfFrameToBeInserted:mJ,setFrameToStitch:uJ,waitForFinish:cJ}=uw(H2),p9=d9.fps/Q0;t8(p9,'in "renderMedia()"',W==="gif");let dJ=()=>{if(g0)s0=ow({width:W2,height:x7,fps:p9,outputLocation:g0,pixelFormat:q6,codec:W,proResProfile:$,crf:Y,onProgress:(W6)=>{g6=W6,G2()},logLevel:i,imageFormat:D0,signal:T7.cancelSignal,ffmpegOverride:x??(({args:W6})=>W6),videoBitrate:g,encodingMaxRate:h,encodingBufferSize:m,indent:n,x264Preset:X??null,colorSpace:M0,binariesDirectory:z0,hardwareAcceleration:l0}),b0=s0.task},lJ=async()=>{if(b0){await cJ(),b0?.stdin?.end();try{await b0}catch{throw Error(s0?.getLogs())}}return{usesParallelEncoding:Boolean(b0)}},Z7=!h9(W).audio||I,M6=[],C7=0,n9=0,pJ=(W6,c6)=>{let p0={frame:W6,time:c6};if(c6<n9&&M6.length===IY)return;if(c6>C7)M6.unshift(p0),C7=c6;else{let D6=M6.findIndex(({time:m0})=>m0<c6);M6.splice(D6,0,p0)}if(M6.length>IY)M6.pop();n9=M6[M6.length-1]?.time??n9},S7=()=>Promise.resolve(void 0),nJ=new Promise((W6,c6)=>{Promise.resolve(dJ()).then(()=>{return e1(E0,{offthreadVideoThreads:n0??P9,indent:n,port:v,remotionRoot:Y1(),logLevel:i,webpackConfigOrServeUrl:r,offthreadVideoCacheSizeInBytes:O0??null,binariesDirectory:z0,forceIPv4:!1},{onDownload:B})}).then(({server:p0,cleanupServer:D6})=>{S7=D6;let m0=Date.now();return GJ({composition:d9,onFrameUpdate:(V1,T1)=>{$6=V1;let _2=Date.now(),d6=_2-m0;if(m0=_2,K.push(d6),K.length>SB)K.shift();let iJ=K.reduce((oJ,rJ)=>oJ+rJ,0)/K.length,sJ=P1-$6;u6=Math.round(sJ*iJ),G2(),pJ(T1,d6)},concurrency:X0,outputDir:J0?null:$0,onStart:(V1)=>{$6=0,G2(),O?.(V1)},serializedInputPropsWithCustomSchema:J,envVariables:H,imageFormat:D0,jpegQuality:N0,frameRange:G,puppeteerInstance:_,everyNthFrame:Q0,onFrameBuffer:J0?async(V1,T1)=>{if(await mJ(T1),B8)return;let _2=U7("piping"),d6=s0?.getExitStatus();if(d6?.type==="quit-successfully")throw Error(`FFmpeg already quit while trying to pipe frame ${T1} to it. Stderr: ${d6.stderr}}`);if(d6?.type==="quit-with-error")throw Error(`FFmpeg quit with code ${d6.exitCode} while piping frame ${T1}. Stderr: ${d6.stderr}}`);b0?.stdin?.write(V1),w7(_2),uJ(Math.min(H2[1]+1,T1+Q0))}:null,webpackBundleOrServeUrl:r,onBrowserLog:M,onDownload:B,timeoutInMilliseconds:N,chromiumOptions:A,scale:R,browserExecutable:L,port:v,cancelSignal:l9.cancelSignal,muted:Z7,logLevel:i,indent:n,server:p0,serializedResolvedPropsWithCustomSchema:q0,offthreadVideoCacheSizeInBytes:O0,offthreadVideoThreads:n0,parallelEncodingEnabled:J0,binariesDirectory:z0,compositionStart:R0,forSeamlessAacConcatenation:v0,onBrowserDownload:Y0,onArtifact:B0,chromeMode:a,imageSequencePattern:null,mediaCacheSizeInBytes:I6,onLog:i0})}).then((p0)=>{return Promise.all([p0,lJ()])}).then(([{assetsInfo:p0}])=>{if(m6=Date.now()-E,D.verbose({indent:n,logLevel:i},"Rendering frames done in",m6+"ms"),N6)d8(N6);let D6=Date.now();return xB({width:Math.round(W2),height:Math.round(x7),fps:p9,outputLocation:N6,preEncodedFileLocation:g0,preferLossless:d,indent:n,force:U,pixelFormat:q6,codec:W,proResProfile:$,crf:Y,assetsInfo:p0,onProgress:(m0)=>{if(g0)_1="muxing",P6=Math.min(m0,P1);else P6=Math.min(m0,P1),g6=Math.min(m0,P1);if(g6===P1)j1=Date.now()-D6;if(m0>0)G2()},onDownload:B,numberOfGifLoops:z,logLevel:i,cancelSignal:b7.cancelSignal,muted:Z7,enforceAudioTrack:P,ffmpegOverride:x??null,audioBitrate:S,videoBitrate:g,bufferSize:m,maxRate:h,audioCodec:p,x264Preset:X??null,colorSpace:M0,binariesDirectory:z0,separateAudioTo:_0,metadata:T0,hardwareAcceleration:l0})}).then((p0)=>{D.verbose({indent:n,logLevel:i},"Stitching done in",j1+"ms"),M6.sort((x1,V1)=>V1.time-x1.time);let D6={buffer:p0,slowestFrames:M6},m0=()=>{if(v6===null){W6(D6);return}s2.internalRegisterUsageEvent({event:"cloud-render",host:null,succeeded:!0,licenseKey:v6??null,isProduction:O6??!0,isStill:!1}).then(()=>{D.verbose({indent:n,logLevel:i},"Usage event sent successfully")}).catch((x1)=>{D.error({indent:n,logLevel:i},"Failed to send usage event"),D.error({indent:!0,logLevel:i},x1)}).finally(()=>{W6(D6)})};if(ZY())d4().onRenderSucceed({indent:n,logLevel:i,output:N6}).then(()=>{m0()}).catch((x1)=>{D.error({indent:n,logLevel:i},"Could not create reproduction",x1),m0()});else m0()}).catch((p0)=>{if(B8=!0,l9.cancel(),b7.cancel(),T7.cancel(),b0!==void 0&&b0.exitCode===null){let D6=new Promise((m0)=>{setTimeout(()=>{m0()},2000),b0.on("close",m0)});try{b0.kill()}catch{}return D6.then(()=>{c6(p0)})}c6(p0)}).finally(()=>{if(g0!==null&&V4.existsSync(g0))f0(q9.dirname(g0));if($0&&V4.existsSync($0))f0($0);S7?.(!1).catch((p0)=>{D.error({indent:n,logLevel:i},"Could not cleanup: ",p0)})})});return TB({happyPath:nJ,cancelSignal:F,cancelMessage:C6.renderMedia})},RJ=r8(kB),R7=({proResProfile:$,x264Preset:X,crf:Y,composition:Q,inputProps:J,pixelFormat:q,codec:W,envVariables:H,frameRange:G,puppeteerInstance:_,outputLocation:j,onProgress:V,overwrite:U,onDownload:B,onBrowserLog:M,onStart:O,timeoutInMilliseconds:N,chromiumOptions:A,scale:R,browserExecutable:L,port:v,cancelSignal:F,muted:I,enforceAudioTrack:P,ffmpegOverride:x,audioBitrate:S,videoBitrate:g,encodingMaxRate:h,encodingBufferSize:m,audioCodec:p,jpegQuality:X0,concurrency:G0,serveUrl:Q0,disallowParallelEncoding:V0,everyNthFrame:n,imageFormat:N0,numberOfGifLoops:z,dumpBrowserLogs:C,preferLossless:d,verbose:r,quality:E0,logLevel:i,offthreadVideoCacheSizeInBytes:q0,colorSpace:O0,repro:M0,binariesDirectory:w0,separateAudioTo:z0,forSeamlessAacConcatenation:_0,onBrowserDownload:v0,onArtifact:R0,metadata:Y0,hardwareAcceleration:B0,chromeMode:T0,offthreadVideoThreads:l0,compositionStart:a,mediaCacheSizeInBytes:n0,isProduction:I6,...i0})=>{let O6=r||C?"verbose":i??"info";if(E0!==void 0)D.warn({indent:!1,logLevel:O6},'The "quality" option has been renamed. Please use "jpegQuality" instead.');let q6="licenseKey"in i0?i0.licenseKey:null,N6="apiKey"in i0?i0.apiKey:null;return RJ({proResProfile:$??void 0,x264Preset:X??null,codec:W,composition:Q,serveUrl:Q0,audioBitrate:S??null,audioCodec:p??null,browserExecutable:L??null,cancelSignal:F,chromiumOptions:A??{},concurrency:G0??null,crf:Y??null,disallowParallelEncoding:V0??!1,enforceAudioTrack:P??!1,envVariables:H??{},everyNthFrame:n??1,ffmpegOverride:x??void 0,frameRange:G??null,imageFormat:N0??null,serializedInputPropsWithCustomSchema:s.serializeJSONWithSpecialTypes({indent:void 0,staticBase:null,data:J??{}}).serializedString,jpegQuality:X0??E0??oQ,muted:I??!1,numberOfGifLoops:z??null,onBrowserLog:M??null,onDownload:B??(()=>{return}),onProgress:V??(()=>{return}),onStart:O??(()=>{return}),outputLocation:j??null,overwrite:U??pw,pixelFormat:q??null,port:v??null,puppeteerInstance:_??void 0,scale:R??1,timeoutInMilliseconds:N??t1,videoBitrate:g??null,encodingMaxRate:h??null,encodingBufferSize:m??null,logLevel:O6,preferLossless:d??!1,indent:!1,onCtrlCExit:()=>{return},server:void 0,serializedResolvedPropsWithCustomSchema:s.serializeJSONWithSpecialTypes({indent:void 0,staticBase:null,data:Q.props??{}}).serializedString,offthreadVideoCacheSizeInBytes:q0??null,offthreadVideoThreads:l0??null,colorSpace:O0??_J,repro:M0??!1,binariesDirectory:w0??null,separateAudioTo:z0??null,forSeamlessAacConcatenation:_0??!1,onBrowserDownload:v0??UQ({indent:!1,logLevel:O6,api:"renderMedia()"}),onArtifact:R0??null,metadata:Y0??null,compositionStart:a??0,hardwareAcceleration:B0??"disable",chromeMode:T0??"headless-shell",mediaCacheSizeInBytes:n0??null,licenseKey:q6??N6??null,onLog:e4,isProduction:I6??null})},gB=async({composition:$,imageFormat:X=sQ,serveUrl:Y,puppeteerInstance:Q,onError:J,serializedInputPropsWithCustomSchema:q,envVariables:W,output:H,frame:G=0,overwrite:_,browserExecutable:j,timeoutInMilliseconds:V,chromiumOptions:U,scale:B,proxyPort:M,cancelSignal:O,jpegQuality:N,onBrowserLog:A,sourceMapGetter:R,logLevel:L,indent:v,serializedResolvedPropsWithCustomSchema:F,onBrowserDownload:I,onArtifact:P,chromeMode:x,mediaCacheSizeInBytes:S,onLog:g})=>{X1($.height,"height","in the `config` object passed to `renderStill()`"),X1($.width,"width","in the `config` object passed to `renderStill()`"),t8($.fps,"in the `config` object of `renderStill()`",!1),HJ($.durationInFrames,{component:"in the `config` object passed to `renderStill()`",allowFloats:!1}),Yw(X),s.validateFrame({frame:G,durationInFrames:$.durationInFrames,allowFloats:!1});let h=HQ({durationInFrames:$.durationInFrames,frame:G});if(o8(V),M7(B),H=typeof H==="string"?yB.resolve(process.cwd(),H):null,S9(N),H){if(hB.existsSync(H)){if(!_)throw Error(`Cannot render still - "overwrite" option was set to false, but the output destination ${H} already exists.`);if(!fB(H).isFile())throw Error(`The output location ${H} already exists, but is not a file, but something else (e.g. folder). Cannot save to it.`)}d8(H)}let m=Q??await v9({browser:N9,browserExecutable:j,chromiumOptions:U,forceDeviceScaleFactor:B,indent:v,viewport:null,logLevel:L,onBrowserDownload:I,chromeMode:x}),p=await m.newPage({context:R,logLevel:L,indent:v,pageIndex:0,onBrowserLog:A,onLog:g});await p.setViewport({width:$.width,height:$.height,deviceScaleFactor:B});let G0=F9({page:p,onError:(C)=>{J(C),Q0()},frame:null}),Q0=async()=>{if(G0(),Q)await p.close();else m.close({silent:!0}).catch((C)=>{D.error({indent:v,logLevel:L},"Unable to close browser",C)})};O?.(()=>{Q0()}),await T9({serializedInputPropsWithCustomSchema:q,envVariables:W,page:p,serveUrl:Y,initialFrame:h,timeoutInMilliseconds:V,proxyPort:M,retriesRemaining:2,audioEnabled:!1,videoEnabled:!0,indent:v,logLevel:L,onServeUrlVisited:()=>{return},isMainTab:!0,mediaCacheSizeInBytes:S,initialMemoryAvailable:a1(L),darkMode:U.darkMode??!1}),await c0({pageFunction:(C,d,r,E0,i,q0,O0,M0,w0,z0,_0)=>{window.remotion_setBundleMode({type:"composition",compositionName:C,serializedResolvedPropsWithSchema:d,compositionDurationInFrames:r,compositionFps:E0,compositionHeight:i,compositionWidth:q0,compositionDefaultCodec:O0,compositionDefaultOutName:M0,compositionDefaultVideoImageFormat:w0,compositionDefaultPixelFormat:z0,compositionDefaultProResProfile:_0})},args:[$.id,F,$.durationInFrames,$.fps,$.height,$.width,$.defaultCodec,$.defaultOutName,$.defaultVideoImageFormat,$.defaultPixelFormat,$.defaultProResProfile],frame:null,page:p,timeoutInMilliseconds:V}),await uQ({frame:h,page:p,composition:$.id,timeoutInMilliseconds:V,indent:v,logLevel:L,attempt:0});let[V0,n]=await Promise.all([WJ({freePage:p,height:$.height,width:$.width,imageFormat:X,scale:B,output:H,jpegQuality:N,wantsBuffer:!H,timeoutInMilliseconds:V}),QJ({frame:G,freePage:p,timeoutInMilliseconds:V})]),N0=qJ({assets:n,frameBuffer:V0}),z=[];for(let C of N0){for(let d of z)if(C.filename===d.filename)throw Error(`An artifact with output "${C.filename}" was already registered at frame ${d.frame}, but now registered again at frame ${C.frame}. Artifacts must have unique names. https://remotion.dev/docs/artifacts`);z.push(C),P?.(C)}return await Q0(),{buffer:H?null:V0}},mB=($)=>{let X=[],Y=new Promise((Q,J)=>{let q=(W)=>J(W);e1($.server,{webpackConfigOrServeUrl:$.serveUrl,port:$.port,remotionRoot:Y1(),offthreadVideoThreads:$.offthreadVideoThreads??2,logLevel:$.logLevel,indent:$.indent,offthreadVideoCacheSizeInBytes:$.offthreadVideoCacheSizeInBytes,binariesDirectory:$.binariesDirectory,forceIPv4:!1},{onDownload:$.onDownload}).then(({server:W,cleanupServer:H})=>{X.push(()=>H(!1));let{serveUrl:G,offthreadPort:_,sourceMap:j}=W;return gB({...$,serveUrl:G,onError:q,proxyPort:_,sourceMapGetter:j})}).then((W)=>{if($.licenseKey===null){Q(W);return}s2.internalRegisterUsageEvent({licenseKey:$.licenseKey,event:"cloud-render",host:null,succeeded:!0,isStill:!0,isProduction:$.isProduction??!0}).then(()=>{D.verbose($,"Usage event sent successfully")}).catch((H)=>{D.error($,"Failed to send usage event"),D.error($,H)}).finally(()=>{Q(W)})}).catch((W)=>J(W)).finally(()=>{X.forEach((W)=>{W().catch((H)=>{D.error($,"Cleanup error:",H)})})})});return Promise.race([Y,new Promise((Q,J)=>{$.cancelSignal?.(()=>{J(Error(C6.renderStill))})})])},uB=r8(mB);var cB=async({page:$,serializedInputPropsWithCustomSchema:X,envVariables:Y,serveUrl:Q,timeoutInMilliseconds:J,port:q,id:W,indent:H,logLevel:G,onServeUrlVisited:_,mediaCacheSizeInBytes:j,chromiumOptions:V})=>{o8(J),await T9({serializedInputPropsWithCustomSchema:X,envVariables:Y,page:$,serveUrl:Q,initialFrame:0,timeoutInMilliseconds:J,proxyPort:q,retriesRemaining:2,audioEnabled:!1,videoEnabled:!1,indent:H,logLevel:G,onServeUrlVisited:_,isMainTab:!0,mediaCacheSizeInBytes:j,initialMemoryAvailable:a1(G),darkMode:V.darkMode??!1}),await c0({page:$,pageFunction:()=>{window.remotion_setBundleMode({type:"evaluation"})},frame:null,args:[],timeoutInMilliseconds:J}),await U9({page:$,timeoutInMilliseconds:J,frame:null,logLevel:G,indent:H}),D.verbose({indent:H,tag:"selectComposition()",logLevel:G},"Running calculateMetadata()...");let U=Date.now(),{value:B,size:M}=await c0({pageFunction:(S)=>{return window.remotion_calculateComposition(S)},frame:null,page:$,args:[W],timeoutInMilliseconds:J});D.verbose({indent:H,tag:"selectComposition()",logLevel:G},`calculateMetadata() took ${Date.now()-U}ms`);let O=B,{width:N,durationInFrames:A,fps:R,height:L,defaultCodec:v,defaultOutName:F,defaultVideoImageFormat:I,defaultPixelFormat:P,defaultProResProfile:x}=O;return{metadata:{id:W,width:N,height:L,fps:R,durationInFrames:A,props:s.deserializeJSONWithSpecialTypes(O.serializedResolvedPropsWithCustomSchema),defaultProps:s.deserializeJSONWithSpecialTypes(O.serializedDefaultPropsWithCustomSchema),defaultCodec:v,defaultOutName:F,defaultVideoImageFormat:I,defaultPixelFormat:P,defaultProResProfile:x},propsSize:M}},dB=async($)=>{let X=[],{puppeteerInstance:Y,browserExecutable:Q,chromiumOptions:J,serveUrl:q,logLevel:W,indent:H,port:G,envVariables:_,id:j,serializedInputPropsWithCustomSchema:V,onBrowserLog:U,server:B,timeoutInMilliseconds:M,offthreadVideoCacheSizeInBytes:O,binariesDirectory:N,onBrowserDownload:A,onServeUrlVisited:R,chromeMode:L,mediaCacheSizeInBytes:v}=$,[{page:F,cleanupPage:I},P]=await Promise.all([q7({passedInInstance:Y,browserExecutable:Q,chromiumOptions:J,forceDeviceScaleFactor:void 0,indent:H,logLevel:W,onBrowserDownload:A,chromeMode:L,pageIndex:0,onBrowserLog:U,onLog:YO.defaultOnLog}),e1($.server,{webpackConfigOrServeUrl:q,port:G,remotionRoot:Y1(),offthreadVideoThreads:0,logLevel:W,indent:H,offthreadVideoCacheSizeInBytes:O,binariesDirectory:N,forceIPv4:!1},{onDownload:()=>{return}}).then((x)=>{return X.push(()=>x.cleanupServer(!0)),x})]);return X.push(()=>I()),new Promise((x,S)=>{let g=(h)=>S(h);X.push(F9({page:F,frame:null,onError:g})),F.setBrowserSourceMapGetter(P.server.sourceMap),cB({serveUrl:P.server.serveUrl,page:F,port:P.server.offthreadPort,browserExecutable:Q,chromiumOptions:J,envVariables:_,id:j,serializedInputPropsWithCustomSchema:V,timeoutInMilliseconds:M,logLevel:W,indent:H,puppeteerInstance:Y,server:B,offthreadVideoCacheSizeInBytes:O,binariesDirectory:N,onBrowserDownload:A,onServeUrlVisited:R,chromeMode:L,mediaCacheSizeInBytes:v}).then((h)=>{return x(h)}).catch((h)=>{S(h)}).finally(()=>{X.forEach((h)=>{h().catch((m)=>{D.error({indent:H,logLevel:W},"Cleanup error:",m)})})})})},lB=r8(dB);var pB=async({browserExecutable:$,indent:X,logLevel:Y,chromiumOptions:Q,timeoutInMilliseconds:J,onBrowserDownload:q,chromeMode:W,onLog:H})=>{let{page:G,cleanupPage:_}=await q7({passedInInstance:void 0,browserExecutable:$,chromiumOptions:Q,forceDeviceScaleFactor:void 0,indent:X,logLevel:Y,onBrowserDownload:q,chromeMode:W,pageIndex:0,onBrowserLog:null,onLog:H});await G.goto({url:"chrome://gpu",timeout:12000});let{value:j}=await c0({pageFunction:()=>{let V=[],U=document.querySelector("info-view")?.shadowRoot?.querySelector("ul")?.querySelectorAll("li");return[].forEach.call(U,(B)=>{let[M,O]=B.innerText.split(": ");V.push({feature:M,status:O})}),V},frame:null,args:[],page:G,timeoutInMilliseconds:J});return _(),j},nB=({setting:$,value:X,checkIfValidForCurrentMachine:Y})=>{if(typeof X>"u")return;if(X===null)return;if(typeof X!=="number"&&typeof X!=="string")throw Error($+" must a number or a string but is "+X);if(typeof X==="number"){if(X%1!==0)throw Error($+" must be an integer, but is "+X);if(Y){if(X<u4())throw Error(`${$} must be at least ${u4()}, but is ${JSON.stringify(X)}`);if(X>m4())throw Error(`${$} is set higher than the amount of CPU cores available. Available CPU cores: ${m4()}, value set: ${X}`)}}else if(!/^\d+(\.\d+)?%$/.test(X))throw Error(`${$} must be a number or percentage, but is ${JSON.stringify(X)}`)},m4=()=>{return Y7()},u4=()=>1,FJ=($,X)=>{if(X<=4)return!1;return $==="aac"},zJ=($)=>{return $==="h264"},rB=async({fps:$,codec:X,filelistDir:Y,numberOfGifLoops:Q,output:J,indent:q,logLevel:W,onProgress:H,files:G,addRemotionMetadata:_,binariesDirectory:j,cancelSignal:V})=>{let U=G.map((R)=>`file '${R}'`).join(`
`),B=oB(Y,"video-files.txt");sB(B,U);let M=X==="gif"?"gif":"copy",O=["-hide_banner","-r",String($),"-f","concat","-safe","0","-i",B,Q===null?null:"-loop",Q===null?null:L7(Q),X==="gif"?"-filter_complex":null,X==="gif"?"split[v],palettegen,[v]paletteuse":null,"-an","-c:v",M,X==="h265"?"-tag:v":null,X==="h265"?"hvc1":null,_?"-metadata":null,_?`comment=Made with Remotion ${u0}`:null,"-y",J].filter(A0),N=M!=="copy",A=Date.now();D.verbose({indent:q,logLevel:W},`Combining video ${N?"with reencoding":"without reencoding"}, command: ${O.join(" ")}`);try{let R=J6({args:O,bin:"ffmpeg",indent:q,logLevel:W,binariesDirectory:j,cancelSignal:V});return R.stderr?.on("data",(L)=>{let v=k6(L.toString("utf8"),$);if(v===void 0)D.verbose({indent:q,logLevel:W},L.toString("utf8"));else D.verbose({indent:q,logLevel:W},`Encoded ${v} video frames`),H(v)}),await R,D.verbose({indent:q,logLevel:W},`Finished combining video in ${Date.now()-A}ms`),J}catch(R){throw iB(B,{recursive:!0}),R}},tB=({files:$})=>{return`concat:${$.join("|")}`},aB=async({videoOutput:$,audioOutput:X,output:Y,indent:Q,logLevel:J,onProgress:q,binariesDirectory:W,fps:H,cancelSignal:G,addFaststart:_,metadata:j,numberOfGifLoops:V})=>{let U=Date.now();D.verbose({indent:Q,logLevel:J},"Muxing video and audio together");let B=["-hide_banner",$?"-i":null,$,X?"-i":null,X,$?"-c:v":null,$?"copy":null,X?"-c:a":null,X?"copy":null,V===null?null:"-loop",V===null?null:L7(V),_?"-movflags":null,_?"faststart":null,...EJ(j??{}),"-y",Y].filter(A0);D.verbose({indent:Q,logLevel:J},"Combining command: ",B);let M=J6({bin:"ffmpeg",args:B,indent:Q,logLevel:J,binariesDirectory:W,cancelSignal:G});M.stderr?.on("data",(O)=>{let N=O.toString("utf8"),A=k6(N,H);if(A===void 0){if(!N.includes("Estimating duration from bitrate, this may be inaccurate"))D.verbose({indent:Q,logLevel:J},N)}else D.verbose({indent:Q,logLevel:J},`Combined ${A} frames`),q(A)}),await M,D.verbose({indent:Q,logLevel:J},`Muxing done in ${Date.now()-U}ms`)},eB={"h264-mkv":!1,"h264-ts":!1,h264:!0,h265:!0,aac:!1,gif:!1,mp3:!1,prores:!1,vp8:!1,vp9:!1,wav:!1},$O="remotion-filelist",XO=async({outputLocation:$,onProgress:X,codec:Y,fps:Q,numberOfGifLoops:J,audioBitrate:q,indent:W,logLevel:H,binariesDirectory:G,cancelSignal:_,metadata:j,audioFiles:V,videoFiles:U,framesPerChunk:B,audioCodec:M,preferLossless:O,everyNthFrame:N,frameRange:A,compositionDurationInFrames:R})=>{LJ(J,Y);let L=x9($O),v=!c8(Y),F=k9({setting:M,codec:Y,preferLossless:O,separateAudioTo:null}),I=F!==null&&V.length>0,P=zJ(Y),x=FJ(F,B),S=C9(R,A),g=b9(S,N).length,h=v?PY(L,`video.${Z9(Y,F)}`):null,m=I?PY(L,`audio.${N7(F)}`):null,p=B/Q,X0=0,G0=0,Q0=0,V0=()=>{let n=(I?g:0)+(v?g:0)+g,N0=X0+G0+Q0;X({frames:N0/n*g,totalProgress:N0/n})};D.verbose({indent:W,logLevel:H},`Combining chunks, audio = ${I===!1?"no":x?"seamlessly":"normally"}, video = ${v===!1?"no":P?"seamlessly":"normally"}`),await Promise.all([I&&m?ww({audioBitrate:q,filelistDir:L,files:V,indent:W,logLevel:H,output:m,resolvedAudioCodec:F,seamless:x,chunkDurationInSeconds:p,addRemotionMetadata:!v,binariesDirectory:G,fps:Q,cancelSignal:_,onProgress:(n)=>{X0=n,V0()}}):null,v&&!P&&h?rB({codec:Y,filelistDir:L,fps:Q,indent:W,logLevel:H,numberOfGifLoops:J,output:h,files:U,addRemotionMetadata:!I,binariesDirectory:G,cancelSignal:_,onProgress:(n)=>{G0=n,V0()}}):null].filter(A0));try{await aB({audioOutput:m,indent:W,logLevel:H,onProgress:(n)=>{Q0=n,V0()},output:$,videoOutput:P?tB({files:U}):h,binariesDirectory:G,fps:Q,cancelSignal:_,addFaststart:eB[Y],metadata:j,numberOfGifLoops:J}),X({totalProgress:1,frames:g}),vY(L,{recursive:!0})}catch(n){throw vY(L,{recursive:!0}),n}};var YO={resolveConcurrency:K7,serveStatic:b4,validateEvenDimensionsWithCodec:f9,getFileExtensionFromCodec:Z9,tmpDir:x9,deleteDirectory:f0,isServeUrl:l8,ensureOutputDirectory:d8,getRealFrameRange:C9,validatePuppeteerTimeout:o8,downloadFile:O9,parseStack:R9,symbolicateError:gV,SymbolicateableError:s8,getFramesToRender:b9,getExtensionOfFilename:pQ,getDesiredPort:SQ,isPathInside:fQ,execa:xY.default,registerErrorSymbolicationLock:mU,unlockErrorSymbolicationLock:uU,canUseParallelEncoding:F4,mimeContentType:zQ,mimeLookup:FQ,validateConcurrency:nB,validPixelFormats:w9,DEFAULT_BROWSER:N9,validateFrameRange:mV,DEFAULT_OPENGL_RENDERER:J7,validateOpenGlRenderer:AQ,validCodecs:z4,DEFAULT_PIXEL_FORMAT:B7,validateJpegQuality:S9,DEFAULT_TIMEOUT:t1,DEFAULT_CODEC:WQ,logLevels:TY,isEqualOrBelowLogLevel:t6,isValidLogLevel:Dj,perf:rQ,convertToPositiveFrameIndex:HQ,findRemotionRoot:Y1,validateBitrate:S6,getMinConcurrency:u4,getMaxConcurrency:m4,getDefaultAudioCodec:k4,defaultFileExtensionMap:A1,supportedAudioCodecs:C4,makeFileExtensionMap:oU,defaultCodecsForFileExtension:rU,getExecutablePath:L9,callFf:J6,validStillImageFormats:Z4,validVideoImageFormats:nQ,DEFAULT_STILL_IMAGE_FORMAT:sQ,DEFAULT_VIDEO_IMAGE_FORMAT:iQ,DEFAULT_JPEG_QUALITY:oQ,chalk:y,Log:D,INDENT_TOKEN:CY,isColorSupported:c4,HeadlessBrowser:A9,prepareServer:gQ,makeOrReuseServer:e1,internalRenderStill:uB,internalOpenBrowser:v9,internalSelectComposition:lB,internalGetCompositions:lQ,internalRenderFrames:GJ,internalRenderMedia:RJ,validOpenGlRenderers:v4,isIpV6Supported:j7,getChromiumGpuInformation:pB,getPortConfig:kQ,makeDownloadMap:bQ,getExtensionFromAudioCodec:N7,makeFileExecutableIfItIsNot:i8,resolveAudioCodec:k9,getShouldRenderAudio:AJ,codecSupportsMedia:h9,toMegabytes:f8,internalEnsureBrowser:EQ,printUsefulErrorMessage:dQ,DEFAULT_RENDER_FRAMES_OFFTHREAD_VIDEO_THREADS:P9,canConcatVideoSeamlessly:zJ,canConcatAudioSeamlessly:FJ,internalCombineChunks:XO,defaultOnLog:e4};IV("info",!1);var{serve:UN}=globalThis.Bun;import B6 from"path";import a0 from"fs";import fJ from"os";import yJ from"crypto";var w={};Xq(w,{void:()=>mO,util:()=>U0,unknown:()=>yO,union:()=>lO,undefined:()=>kO,tuple:()=>iO,transformer:()=>QN,symbol:()=>SO,string:()=>SJ,strictObject:()=>dO,setErrorMap:()=>qO,set:()=>rO,record:()=>sO,quotelessJson:()=>QO,promise:()=>YN,preprocess:()=>WN,pipeline:()=>HN,ostring:()=>GN,optional:()=>JN,onumber:()=>_N,oboolean:()=>jN,objectUtil:()=>F7,object:()=>cO,number:()=>kJ,nullable:()=>qN,null:()=>hO,never:()=>gO,nativeEnum:()=>XN,nan:()=>bO,map:()=>oO,makeIssue:()=>a8,literal:()=>eO,lazy:()=>aO,late:()=>xO,isValid:()=>J1,isDirty:()=>g9,isAsync:()=>X8,isAborted:()=>y9,intersection:()=>nO,instanceof:()=>TO,getParsedType:()=>R6,getErrorMap:()=>$8,function:()=>tO,enum:()=>$N,effect:()=>QN,discriminatedUnion:()=>pO,defaultErrorMap:()=>h6,datetimeRegex:()=>bJ,date:()=>CO,custom:()=>CJ,coerce:()=>VN,boolean:()=>hJ,bigint:()=>ZO,array:()=>uO,any:()=>fO,addIssueToContext:()=>f,ZodVoid:()=>$2,ZodUnknown:()=>q1,ZodUnion:()=>H8,ZodUndefined:()=>q8,ZodType:()=>j0,ZodTuple:()=>z6,ZodTransformer:()=>w6,ZodSymbol:()=>e8,ZodString:()=>j6,ZodSet:()=>I1,ZodSchema:()=>j0,ZodRecord:()=>X2,ZodReadonly:()=>w8,ZodPromise:()=>v1,ZodPipeline:()=>J2,ZodParsedType:()=>Z,ZodOptional:()=>K6,ZodObject:()=>I0,ZodNumber:()=>W1,ZodNullable:()=>y6,ZodNull:()=>W8,ZodNever:()=>F6,ZodNativeEnum:()=>V8,ZodNaN:()=>Q2,ZodMap:()=>Y2,ZodLiteral:()=>j8,ZodLazy:()=>_8,ZodIssueCode:()=>T,ZodIntersection:()=>G8,ZodFunction:()=>Q8,ZodFirstPartyTypeKind:()=>t,ZodError:()=>t0,ZodEnum:()=>G1,ZodEffects:()=>w6,ZodDiscriminatedUnion:()=>m9,ZodDefault:()=>K8,ZodDate:()=>F1,ZodCatch:()=>U8,ZodBranded:()=>u9,ZodBoolean:()=>J8,ZodBigInt:()=>H1,ZodArray:()=>V6,ZodAny:()=>z1,Schema:()=>j0,ParseStatus:()=>y0,OK:()=>d0,NEVER:()=>KN,INVALID:()=>o,EMPTY_PATH:()=>WO,DIRTY:()=>R1,BRAND:()=>PO});var U0;(function($){$.assertEqual=(J)=>{};function X(J){}$.assertIs=X;function Y(J){throw Error()}$.assertNever=Y,$.arrayToEnum=(J)=>{let q={};for(let W of J)q[W]=W;return q},$.getValidEnumValues=(J)=>{let q=$.objectKeys(J).filter((H)=>typeof J[J[H]]!=="number"),W={};for(let H of q)W[H]=J[H];return $.objectValues(W)},$.objectValues=(J)=>{return $.objectKeys(J).map(function(q){return J[q]})},$.objectKeys=typeof Object.keys==="function"?(J)=>Object.keys(J):(J)=>{let q=[];for(let W in J)if(Object.prototype.hasOwnProperty.call(J,W))q.push(W);return q},$.find=(J,q)=>{for(let W of J)if(q(W))return W;return},$.isInteger=typeof Number.isInteger==="function"?(J)=>Number.isInteger(J):(J)=>typeof J==="number"&&Number.isFinite(J)&&Math.floor(J)===J;function Q(J,q=" | "){return J.map((W)=>typeof W==="string"?`'${W}'`:W).join(q)}$.joinValues=Q,$.jsonStringifyReplacer=(J,q)=>{if(typeof q==="bigint")return q.toString();return q}})(U0||(U0={}));var F7;(function($){$.mergeShapes=(X,Y)=>{return{...X,...Y}}})(F7||(F7={}));var Z=U0.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),R6=($)=>{switch(typeof $){case"undefined":return Z.undefined;case"string":return Z.string;case"number":return Number.isNaN($)?Z.nan:Z.number;case"boolean":return Z.boolean;case"function":return Z.function;case"bigint":return Z.bigint;case"symbol":return Z.symbol;case"object":if(Array.isArray($))return Z.array;if($===null)return Z.null;if($.then&&typeof $.then==="function"&&$.catch&&typeof $.catch==="function")return Z.promise;if(typeof Map<"u"&&$ instanceof Map)return Z.map;if(typeof Set<"u"&&$ instanceof Set)return Z.set;if(typeof Date<"u"&&$ instanceof Date)return Z.date;return Z.object;default:return Z.unknown}};var T=U0.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),QO=($)=>{return JSON.stringify($,null,2).replace(/"([^"]+)":/g,"$1:")};class t0 extends Error{get errors(){return this.issues}constructor($){super();this.issues=[],this.addIssue=(Y)=>{this.issues=[...this.issues,Y]},this.addIssues=(Y=[])=>{this.issues=[...this.issues,...Y]};let X=new.target.prototype;if(Object.setPrototypeOf)Object.setPrototypeOf(this,X);else this.__proto__=X;this.name="ZodError",this.issues=$}format($){let X=$||function(J){return J.message},Y={_errors:[]},Q=(J)=>{for(let q of J.issues)if(q.code==="invalid_union")q.unionErrors.map(Q);else if(q.code==="invalid_return_type")Q(q.returnTypeError);else if(q.code==="invalid_arguments")Q(q.argumentsError);else if(q.path.length===0)Y._errors.push(X(q));else{let W=Y,H=0;while(H<q.path.length){let G=q.path[H];if(H!==q.path.length-1)W[G]=W[G]||{_errors:[]};else W[G]=W[G]||{_errors:[]},W[G]._errors.push(X(q));W=W[G],H++}}};return Q(this),Y}static assert($){if(!($ instanceof t0))throw Error(`Not a ZodError: ${$}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,U0.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten($=(X)=>X.message){let X={},Y=[];for(let Q of this.issues)if(Q.path.length>0){let J=Q.path[0];X[J]=X[J]||[],X[J].push($(Q))}else Y.push($(Q));return{formErrors:Y,fieldErrors:X}}get formErrors(){return this.flatten()}}t0.create=($)=>{return new t0($)};var JO=($,X)=>{let Y;switch($.code){case T.invalid_type:if($.received===Z.undefined)Y="Required";else Y=`Expected ${$.expected}, received ${$.received}`;break;case T.invalid_literal:Y=`Invalid literal value, expected ${JSON.stringify($.expected,U0.jsonStringifyReplacer)}`;break;case T.unrecognized_keys:Y=`Unrecognized key(s) in object: ${U0.joinValues($.keys,", ")}`;break;case T.invalid_union:Y="Invalid input";break;case T.invalid_union_discriminator:Y=`Invalid discriminator value. Expected ${U0.joinValues($.options)}`;break;case T.invalid_enum_value:Y=`Invalid enum value. Expected ${U0.joinValues($.options)}, received '${$.received}'`;break;case T.invalid_arguments:Y="Invalid function arguments";break;case T.invalid_return_type:Y="Invalid function return type";break;case T.invalid_date:Y="Invalid date";break;case T.invalid_string:if(typeof $.validation==="object")if("includes"in $.validation){if(Y=`Invalid input: must include "${$.validation.includes}"`,typeof $.validation.position==="number")Y=`${Y} at one or more positions greater than or equal to ${$.validation.position}`}else if("startsWith"in $.validation)Y=`Invalid input: must start with "${$.validation.startsWith}"`;else if("endsWith"in $.validation)Y=`Invalid input: must end with "${$.validation.endsWith}"`;else U0.assertNever($.validation);else if($.validation!=="regex")Y=`Invalid ${$.validation}`;else Y="Invalid";break;case T.too_small:if($.type==="array")Y=`Array must contain ${$.exact?"exactly":$.inclusive?"at least":"more than"} ${$.minimum} element(s)`;else if($.type==="string")Y=`String must contain ${$.exact?"exactly":$.inclusive?"at least":"over"} ${$.minimum} character(s)`;else if($.type==="number")Y=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="bigint")Y=`Number must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${$.minimum}`;else if($.type==="date")Y=`Date must be ${$.exact?"exactly equal to ":$.inclusive?"greater than or equal to ":"greater than "}${new Date(Number($.minimum))}`;else Y="Invalid input";break;case T.too_big:if($.type==="array")Y=`Array must contain ${$.exact?"exactly":$.inclusive?"at most":"less than"} ${$.maximum} element(s)`;else if($.type==="string")Y=`String must contain ${$.exact?"exactly":$.inclusive?"at most":"under"} ${$.maximum} character(s)`;else if($.type==="number")Y=`Number must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="bigint")Y=`BigInt must be ${$.exact?"exactly":$.inclusive?"less than or equal to":"less than"} ${$.maximum}`;else if($.type==="date")Y=`Date must be ${$.exact?"exactly":$.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number($.maximum))}`;else Y="Invalid input";break;case T.custom:Y="Invalid input";break;case T.invalid_intersection_types:Y="Intersection results could not be merged";break;case T.not_multiple_of:Y=`Number must be a multiple of ${$.multipleOf}`;break;case T.not_finite:Y="Number must be finite";break;default:Y=X.defaultError,U0.assertNever($)}return{message:Y}},h6=JO;var IJ=h6;function qO($){IJ=$}function $8(){return IJ}var a8=($)=>{let{data:X,path:Y,errorMaps:Q,issueData:J}=$,q=[...Y,...J.path||[]],W={...J,path:q};if(J.message!==void 0)return{...J,path:q,message:J.message};let H="",G=Q.filter((_)=>!!_).slice().reverse();for(let _ of G)H=_(W,{data:X,defaultError:H}).message;return{...J,path:q,message:H}},WO=[];function f($,X){let Y=$8(),Q=a8({issueData:X,data:$.data,path:$.path,errorMaps:[$.common.contextualErrorMap,$.schemaErrorMap,Y,Y===h6?void 0:h6].filter((J)=>!!J)});$.common.issues.push(Q)}class y0{constructor(){this.value="valid"}dirty(){if(this.value==="valid")this.value="dirty"}abort(){if(this.value!=="aborted")this.value="aborted"}static mergeArray($,X){let Y=[];for(let Q of X){if(Q.status==="aborted")return o;if(Q.status==="dirty")$.dirty();Y.push(Q.value)}return{status:$.value,value:Y}}static async mergeObjectAsync($,X){let Y=[];for(let Q of X){let J=await Q.key,q=await Q.value;Y.push({key:J,value:q})}return y0.mergeObjectSync($,Y)}static mergeObjectSync($,X){let Y={};for(let Q of X){let{key:J,value:q}=Q;if(J.status==="aborted")return o;if(q.status==="aborted")return o;if(J.status==="dirty")$.dirty();if(q.status==="dirty")$.dirty();if(J.value!=="__proto__"&&(typeof q.value<"u"||Q.alwaysSet))Y[J.value]=q.value}return{status:$.value,value:Y}}}var o=Object.freeze({status:"aborted"}),R1=($)=>({status:"dirty",value:$}),d0=($)=>({status:"valid",value:$}),y9=($)=>$.status==="aborted",g9=($)=>$.status==="dirty",J1=($)=>$.status==="valid",X8=($)=>typeof Promise<"u"&&$ instanceof Promise;var c;(function($){$.errToObj=(X)=>typeof X==="string"?{message:X}:X||{},$.toString=(X)=>typeof X==="string"?X:X?.message})(c||(c={}));class U6{constructor($,X,Y,Q){this._cachedPath=[],this.parent=$,this.data=X,this._path=Y,this._key=Q}get path(){if(!this._cachedPath.length)if(Array.isArray(this._key))this._cachedPath.push(...this._path,...this._key);else this._cachedPath.push(...this._path,this._key);return this._cachedPath}}var vJ=($,X)=>{if(J1(X))return{success:!0,data:X.value};else{if(!$.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let Y=new t0($.common.issues);return this._error=Y,this._error}}}};function H0($){if(!$)return{};let{errorMap:X,invalid_type_error:Y,required_error:Q,description:J}=$;if(X&&(Y||Q))throw Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);if(X)return{errorMap:X,description:J};return{errorMap:(W,H)=>{let{message:G}=$;if(W.code==="invalid_enum_value")return{message:G??H.defaultError};if(typeof H.data>"u")return{message:G??Q??H.defaultError};if(W.code!=="invalid_type")return{message:H.defaultError};return{message:G??Y??H.defaultError}},description:J}}class j0{get description(){return this._def.description}_getType($){return R6($.data)}_getOrReturnCtx($,X){return X||{common:$.parent.common,data:$.data,parsedType:R6($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}_processInputParams($){return{status:new y0,ctx:{common:$.parent.common,data:$.data,parsedType:R6($.data),schemaErrorMap:this._def.errorMap,path:$.path,parent:$.parent}}}_parseSync($){let X=this._parse($);if(X8(X))throw Error("Synchronous parse encountered promise.");return X}_parseAsync($){let X=this._parse($);return Promise.resolve(X)}parse($,X){let Y=this.safeParse($,X);if(Y.success)return Y.data;throw Y.error}safeParse($,X){let Y={common:{issues:[],async:X?.async??!1,contextualErrorMap:X?.errorMap},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:R6($)},Q=this._parseSync({data:$,path:Y.path,parent:Y});return vJ(Y,Q)}"~validate"($){let X={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:R6($)};if(!this["~standard"].async)try{let Y=this._parseSync({data:$,path:[],parent:X});return J1(Y)?{value:Y.value}:{issues:X.common.issues}}catch(Y){if(Y?.message?.toLowerCase()?.includes("encountered"))this["~standard"].async=!0;X.common={issues:[],async:!0}}return this._parseAsync({data:$,path:[],parent:X}).then((Y)=>J1(Y)?{value:Y.value}:{issues:X.common.issues})}async parseAsync($,X){let Y=await this.safeParseAsync($,X);if(Y.success)return Y.data;throw Y.error}async safeParseAsync($,X){let Y={common:{issues:[],contextualErrorMap:X?.errorMap,async:!0},path:X?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:$,parsedType:R6($)},Q=this._parse({data:$,path:Y.path,parent:Y}),J=await(X8(Q)?Q:Promise.resolve(Q));return vJ(Y,J)}refine($,X){let Y=(Q)=>{if(typeof X==="string"||typeof X>"u")return{message:X};else if(typeof X==="function")return X(Q);else return X};return this._refinement((Q,J)=>{let q=$(Q),W=()=>J.addIssue({code:T.custom,...Y(Q)});if(typeof Promise<"u"&&q instanceof Promise)return q.then((H)=>{if(!H)return W(),!1;else return!0});if(!q)return W(),!1;else return!0})}refinement($,X){return this._refinement((Y,Q)=>{if(!$(Y))return Q.addIssue(typeof X==="function"?X(Y,Q):X),!1;else return!0})}_refinement($){return new w6({schema:this,typeName:t.ZodEffects,effect:{type:"refinement",refinement:$}})}superRefine($){return this._refinement($)}constructor($){this.spa=this.safeParseAsync,this._def=$,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:(X)=>this["~validate"](X)}}optional(){return K6.create(this,this._def)}nullable(){return y6.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return V6.create(this)}promise(){return v1.create(this,this._def)}or($){return H8.create([this,$],this._def)}and($){return G8.create(this,$,this._def)}transform($){return new w6({...H0(this._def),schema:this,typeName:t.ZodEffects,effect:{type:"transform",transform:$}})}default($){let X=typeof $==="function"?$:()=>$;return new K8({...H0(this._def),innerType:this,defaultValue:X,typeName:t.ZodDefault})}brand(){return new u9({typeName:t.ZodBranded,type:this,...H0(this._def)})}catch($){let X=typeof $==="function"?$:()=>$;return new U8({...H0(this._def),innerType:this,catchValue:X,typeName:t.ZodCatch})}describe($){return new this.constructor({...this._def,description:$})}pipe($){return J2.create(this,$)}readonly(){return w8.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}var HO=/^c[^\s-]{8,}$/i,GO=/^[0-9a-z]+$/,_O=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jO=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,VO=/^[a-z0-9_-]{21}$/i,KO=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,UO=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,wO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,BO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",z7,OO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,NO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,AO=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",LO=new RegExp(`^${xJ}$`);function TJ($){let X="[0-5]\\d";if($.precision)X=`${X}\\.\\d{${$.precision}}`;else if($.precision==null)X=`${X}(\\.\\d+)?`;let Y=$.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${X})${Y}`}function RO($){return new RegExp(`^${TJ($)}$`)}function bJ($){let X=`${xJ}T${TJ($)}`,Y=[];if(Y.push($.local?"Z?":"Z"),$.offset)Y.push("([+-]\\d{2}:?\\d{2})");return X=`${X}(${Y.join("|")})`,new RegExp(`^${X}$`)}function FO($,X){if((X==="v4"||!X)&&OO.test($))return!0;if((X==="v6"||!X)&&MO.test($))return!0;return!1}function zO($,X){if(!KO.test($))return!1;try{let[Y]=$.split(".");if(!Y)return!1;let Q=Y.replace(/-/g,"+").replace(/_/g,"/").padEnd(Y.length+(4-Y.length%4)%4,"="),J=JSON.parse(atob(Q));if(typeof J!=="object"||J===null)return!1;if("typ"in J&&J?.typ!=="JWT")return!1;if(!J.alg)return!1;if(X&&J.alg!==X)return!1;return!0}catch{return!1}}function IO($,X){if((X==="v4"||!X)&&NO.test($))return!0;if((X==="v6"||!X)&&DO.test($))return!0;return!1}class j6 extends j0{_parse($){if(this._def.coerce)$.data=String($.data);if(this._getType($)!==Z.string){let J=this._getOrReturnCtx($);return f(J,{code:T.invalid_type,expected:Z.string,received:J.parsedType}),o}let Y=new y0,Q=void 0;for(let J of this._def.checks)if(J.kind==="min"){if($.data.length<J.value)Q=this._getOrReturnCtx($,Q),f(Q,{code:T.too_small,minimum:J.value,type:"string",inclusive:!0,exact:!1,message:J.message}),Y.dirty()}else if(J.kind==="max"){if($.data.length>J.value)Q=this._getOrReturnCtx($,Q),f(Q,{code:T.too_big,maximum:J.value,type:"string",inclusive:!0,exact:!1,message:J.message}),Y.dirty()}else if(J.kind==="length"){let q=$.data.length>J.value,W=$.data.length<J.value;if(q||W){if(Q=this._getOrReturnCtx($,Q),q)f(Q,{code:T.too_big,maximum:J.value,type:"string",inclusive:!0,exact:!0,message:J.message});else if(W)f(Q,{code:T.too_small,minimum:J.value,type:"string",inclusive:!0,exact:!0,message:J.message});Y.dirty()}}else if(J.kind==="email"){if(!wO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"email",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="emoji"){if(!z7)z7=new RegExp(BO,"u");if(!z7.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"emoji",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="uuid"){if(!jO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"uuid",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="nanoid"){if(!VO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"nanoid",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="cuid"){if(!HO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"cuid",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="cuid2"){if(!GO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"cuid2",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="ulid"){if(!_O.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"ulid",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="url")try{new URL($.data)}catch{Q=this._getOrReturnCtx($,Q),f(Q,{validation:"url",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="regex"){if(J.regex.lastIndex=0,!J.regex.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"regex",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="trim")$.data=$.data.trim();else if(J.kind==="includes"){if(!$.data.includes(J.value,J.position))Q=this._getOrReturnCtx($,Q),f(Q,{code:T.invalid_string,validation:{includes:J.value,position:J.position},message:J.message}),Y.dirty()}else if(J.kind==="toLowerCase")$.data=$.data.toLowerCase();else if(J.kind==="toUpperCase")$.data=$.data.toUpperCase();else if(J.kind==="startsWith"){if(!$.data.startsWith(J.value))Q=this._getOrReturnCtx($,Q),f(Q,{code:T.invalid_string,validation:{startsWith:J.value},message:J.message}),Y.dirty()}else if(J.kind==="endsWith"){if(!$.data.endsWith(J.value))Q=this._getOrReturnCtx($,Q),f(Q,{code:T.invalid_string,validation:{endsWith:J.value},message:J.message}),Y.dirty()}else if(J.kind==="datetime"){if(!bJ(J).test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{code:T.invalid_string,validation:"datetime",message:J.message}),Y.dirty()}else if(J.kind==="date"){if(!LO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{code:T.invalid_string,validation:"date",message:J.message}),Y.dirty()}else if(J.kind==="time"){if(!RO(J).test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{code:T.invalid_string,validation:"time",message:J.message}),Y.dirty()}else if(J.kind==="duration"){if(!UO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"duration",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="ip"){if(!FO($.data,J.version))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"ip",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="jwt"){if(!zO($.data,J.alg))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"jwt",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="cidr"){if(!IO($.data,J.version))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"cidr",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="base64"){if(!EO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"base64",code:T.invalid_string,message:J.message}),Y.dirty()}else if(J.kind==="base64url"){if(!AO.test($.data))Q=this._getOrReturnCtx($,Q),f(Q,{validation:"base64url",code:T.invalid_string,message:J.message}),Y.dirty()}else U0.assertNever(J);return{status:Y.value,value:$.data}}_regex($,X,Y){return this.refinement((Q)=>$.test(Q),{validation:X,code:T.invalid_string,...c.errToObj(Y)})}_addCheck($){return new j6({...this._def,checks:[...this._def.checks,$]})}email($){return this._addCheck({kind:"email",...c.errToObj($)})}url($){return this._addCheck({kind:"url",...c.errToObj($)})}emoji($){return this._addCheck({kind:"emoji",...c.errToObj($)})}uuid($){return this._addCheck({kind:"uuid",...c.errToObj($)})}nanoid($){return this._addCheck({kind:"nanoid",...c.errToObj($)})}cuid($){return this._addCheck({kind:"cuid",...c.errToObj($)})}cuid2($){return this._addCheck({kind:"cuid2",...c.errToObj($)})}ulid($){return this._addCheck({kind:"ulid",...c.errToObj($)})}base64($){return this._addCheck({kind:"base64",...c.errToObj($)})}base64url($){return this._addCheck({kind:"base64url",...c.errToObj($)})}jwt($){return this._addCheck({kind:"jwt",...c.errToObj($)})}ip($){return this._addCheck({kind:"ip",...c.errToObj($)})}cidr($){return this._addCheck({kind:"cidr",...c.errToObj($)})}datetime($){if(typeof $==="string")return this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:$});return this._addCheck({kind:"datetime",precision:typeof $?.precision>"u"?null:$?.precision,offset:$?.offset??!1,local:$?.local??!1,...c.errToObj($?.message)})}date($){return this._addCheck({kind:"date",message:$})}time($){if(typeof $==="string")return this._addCheck({kind:"time",precision:null,message:$});return this._addCheck({kind:"time",precision:typeof $?.precision>"u"?null:$?.precision,...c.errToObj($?.message)})}duration($){return this._addCheck({kind:"duration",...c.errToObj($)})}regex($,X){return this._addCheck({kind:"regex",regex:$,...c.errToObj(X)})}includes($,X){return this._addCheck({kind:"includes",value:$,position:X?.position,...c.errToObj(X?.message)})}startsWith($,X){return this._addCheck({kind:"startsWith",value:$,...c.errToObj(X)})}endsWith($,X){return this._addCheck({kind:"endsWith",value:$,...c.errToObj(X)})}min($,X){return this._addCheck({kind:"min",value:$,...c.errToObj(X)})}max($,X){return this._addCheck({kind:"max",value:$,...c.errToObj(X)})}length($,X){return this._addCheck({kind:"length",value:$,...c.errToObj(X)})}nonempty($){return this.min(1,c.errToObj($))}trim(){return new j6({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new j6({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new j6({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(($)=>$.kind==="datetime")}get isDate(){return!!this._def.checks.find(($)=>$.kind==="date")}get isTime(){return!!this._def.checks.find(($)=>$.kind==="time")}get isDuration(){return!!this._def.checks.find(($)=>$.kind==="duration")}get isEmail(){return!!this._def.checks.find(($)=>$.kind==="email")}get isURL(){return!!this._def.checks.find(($)=>$.kind==="url")}get isEmoji(){return!!this._def.checks.find(($)=>$.kind==="emoji")}get isUUID(){return!!this._def.checks.find(($)=>$.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(($)=>$.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(($)=>$.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(($)=>$.kind==="cuid2")}get isULID(){return!!this._def.checks.find(($)=>$.kind==="ulid")}get isIP(){return!!this._def.checks.find(($)=>$.kind==="ip")}get isCIDR(){return!!this._def.checks.find(($)=>$.kind==="cidr")}get isBase64(){return!!this._def.checks.find(($)=>$.kind==="base64")}get isBase64url(){return!!this._def.checks.find(($)=>$.kind==="base64url")}get minLength(){let $=null;for(let X of this._def.checks)if(X.kind==="min"){if($===null||X.value>$)$=X.value}return $}get maxLength(){let $=null;for(let X of this._def.checks)if(X.kind==="max"){if($===null||X.value<$)$=X.value}return $}}j6.create=($)=>{return new j6({checks:[],typeName:t.ZodString,coerce:$?.coerce??!1,...H0($)})};function vO($,X){let Y=($.toString().split(".")[1]||"").length,Q=(X.toString().split(".")[1]||"").length,J=Y>Q?Y:Q,q=Number.parseInt($.toFixed(J).replace(".","")),W=Number.parseInt(X.toFixed(J).replace(".",""));return q%W/10**J}class W1 extends j0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse($){if(this._def.coerce)$.data=Number($.data);if(this._getType($)!==Z.number){let J=this._getOrReturnCtx($);return f(J,{code:T.invalid_type,expected:Z.number,received:J.parsedType}),o}let Y=void 0,Q=new y0;for(let J of this._def.checks)if(J.kind==="int"){if(!U0.isInteger($.data))Y=this._getOrReturnCtx($,Y),f(Y,{code:T.invalid_type,expected:"integer",received:"float",message:J.message}),Q.dirty()}else if(J.kind==="min"){if(J.inclusive?$.data<J.value:$.data<=J.value)Y=this._getOrReturnCtx($,Y),f(Y,{code:T.too_small,minimum:J.value,type:"number",inclusive:J.inclusive,exact:!1,message:J.message}),Q.dirty()}else if(J.kind==="max"){if(J.inclusive?$.data>J.value:$.data>=J.value)Y=this._getOrReturnCtx($,Y),f(Y,{code:T.too_big,maximum:J.value,type:"number",inclusive:J.inclusive,exact:!1,message:J.message}),Q.dirty()}else if(J.kind==="multipleOf"){if(vO($.data,J.value)!==0)Y=this._getOrReturnCtx($,Y),f(Y,{code:T.not_multiple_of,multipleOf:J.value,message:J.message}),Q.dirty()}else if(J.kind==="finite"){if(!Number.isFinite($.data))Y=this._getOrReturnCtx($,Y),f(Y,{code:T.not_finite,message:J.message}),Q.dirty()}else U0.assertNever(J);return{status:Q.value,value:$.data}}gte($,X){return this.setLimit("min",$,!0,c.toString(X))}gt($,X){return this.setLimit("min",$,!1,c.toString(X))}lte($,X){return this.setLimit("max",$,!0,c.toString(X))}lt($,X){return this.setLimit("max",$,!1,c.toString(X))}setLimit($,X,Y,Q){return new W1({...this._def,checks:[...this._def.checks,{kind:$,value:X,inclusive:Y,message:c.toString(Q)}]})}_addCheck($){return new W1({...this._def,checks:[...this._def.checks,$]})}int($){return this._addCheck({kind:"int",message:c.toString($)})}positive($){return this._addCheck({kind:"min",value:0,inclusive:!1,message:c.toString($)})}negative($){return this._addCheck({kind:"max",value:0,inclusive:!1,message:c.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:0,inclusive:!0,message:c.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:0,inclusive:!0,message:c.toString($)})}multipleOf($,X){return this._addCheck({kind:"multipleOf",value:$,message:c.toString(X)})}finite($){return this._addCheck({kind:"finite",message:c.toString($)})}safe($){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:c.toString($)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:c.toString($)})}get minValue(){let $=null;for(let X of this._def.checks)if(X.kind==="min"){if($===null||X.value>$)$=X.value}return $}get maxValue(){let $=null;for(let X of this._def.checks)if(X.kind==="max"){if($===null||X.value<$)$=X.value}return $}get isInt(){return!!this._def.checks.find(($)=>$.kind==="int"||$.kind==="multipleOf"&&U0.isInteger($.value))}get isFinite(){let $=null,X=null;for(let Y of this._def.checks)if(Y.kind==="finite"||Y.kind==="int"||Y.kind==="multipleOf")return!0;else if(Y.kind==="min"){if(X===null||Y.value>X)X=Y.value}else if(Y.kind==="max"){if($===null||Y.value<$)$=Y.value}return Number.isFinite(X)&&Number.isFinite($)}}W1.create=($)=>{return new W1({checks:[],typeName:t.ZodNumber,coerce:$?.coerce||!1,...H0($)})};class H1 extends j0{constructor(){super(...arguments);this.min=this.gte,this.max=this.lte}_parse($){if(this._def.coerce)try{$.data=BigInt($.data)}catch{return this._getInvalidInput($)}if(this._getType($)!==Z.bigint)return this._getInvalidInput($);let Y=void 0,Q=new y0;for(let J of this._def.checks)if(J.kind==="min"){if(J.inclusive?$.data<J.value:$.data<=J.value)Y=this._getOrReturnCtx($,Y),f(Y,{code:T.too_small,type:"bigint",minimum:J.value,inclusive:J.inclusive,message:J.message}),Q.dirty()}else if(J.kind==="max"){if(J.inclusive?$.data>J.value:$.data>=J.value)Y=this._getOrReturnCtx($,Y),f(Y,{code:T.too_big,type:"bigint",maximum:J.value,inclusive:J.inclusive,message:J.message}),Q.dirty()}else if(J.kind==="multipleOf"){if($.data%J.value!==BigInt(0))Y=this._getOrReturnCtx($,Y),f(Y,{code:T.not_multiple_of,multipleOf:J.value,message:J.message}),Q.dirty()}else U0.assertNever(J);return{status:Q.value,value:$.data}}_getInvalidInput($){let X=this._getOrReturnCtx($);return f(X,{code:T.invalid_type,expected:Z.bigint,received:X.parsedType}),o}gte($,X){return this.setLimit("min",$,!0,c.toString(X))}gt($,X){return this.setLimit("min",$,!1,c.toString(X))}lte($,X){return this.setLimit("max",$,!0,c.toString(X))}lt($,X){return this.setLimit("max",$,!1,c.toString(X))}setLimit($,X,Y,Q){return new H1({...this._def,checks:[...this._def.checks,{kind:$,value:X,inclusive:Y,message:c.toString(Q)}]})}_addCheck($){return new H1({...this._def,checks:[...this._def.checks,$]})}positive($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:c.toString($)})}negative($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:c.toString($)})}nonpositive($){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:c.toString($)})}nonnegative($){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:c.toString($)})}multipleOf($,X){return this._addCheck({kind:"multipleOf",value:$,message:c.toString(X)})}get minValue(){let $=null;for(let X of this._def.checks)if(X.kind==="min"){if($===null||X.value>$)$=X.value}return $}get maxValue(){let $=null;for(let X of this._def.checks)if(X.kind==="max"){if($===null||X.value<$)$=X.value}return $}}H1.create=($)=>{return new H1({checks:[],typeName:t.ZodBigInt,coerce:$?.coerce??!1,...H0($)})};class J8 extends j0{_parse($){if(this._def.coerce)$.data=Boolean($.data);if(this._getType($)!==Z.boolean){let Y=this._getOrReturnCtx($);return f(Y,{code:T.invalid_type,expected:Z.boolean,received:Y.parsedType}),o}return d0($.data)}}J8.create=($)=>{return new J8({typeName:t.ZodBoolean,coerce:$?.coerce||!1,...H0($)})};class F1 extends j0{_parse($){if(this._def.coerce)$.data=new Date($.data);if(this._getType($)!==Z.date){let J=this._getOrReturnCtx($);return f(J,{code:T.invalid_type,expected:Z.date,received:J.parsedType}),o}if(Number.isNaN($.data.getTime())){let J=this._getOrReturnCtx($);return f(J,{code:T.invalid_date}),o}let Y=new y0,Q=void 0;for(let J of this._def.checks)if(J.kind==="min"){if($.data.getTime()<J.value)Q=this._getOrReturnCtx($,Q),f(Q,{code:T.too_small,message:J.message,inclusive:!0,exact:!1,minimum:J.value,type:"date"}),Y.dirty()}else if(J.kind==="max"){if($.data.getTime()>J.value)Q=this._getOrReturnCtx($,Q),f(Q,{code:T.too_big,message:J.message,inclusive:!0,exact:!1,maximum:J.value,type:"date"}),Y.dirty()}else U0.assertNever(J);return{status:Y.value,value:new Date($.data.getTime())}}_addCheck($){return new F1({...this._def,checks:[...this._def.checks,$]})}min($,X){return this._addCheck({kind:"min",value:$.getTime(),message:c.toString(X)})}max($,X){return this._addCheck({kind:"max",value:$.getTime(),message:c.toString(X)})}get minDate(){let $=null;for(let X of this._def.checks)if(X.kind==="min"){if($===null||X.value>$)$=X.value}return $!=null?new Date($):null}get maxDate(){let $=null;for(let X of this._def.checks)if(X.kind==="max"){if($===null||X.value<$)$=X.value}return $!=null?new Date($):null}}F1.create=($)=>{return new F1({checks:[],coerce:$?.coerce||!1,typeName:t.ZodDate,...H0($)})};class e8 extends j0{_parse($){if(this._getType($)!==Z.symbol){let Y=this._getOrReturnCtx($);return f(Y,{code:T.invalid_type,expected:Z.symbol,received:Y.parsedType}),o}return d0($.data)}}e8.create=($)=>{return new e8({typeName:t.ZodSymbol,...H0($)})};class q8 extends j0{_parse($){if(this._getType($)!==Z.undefined){let Y=this._getOrReturnCtx($);return f(Y,{code:T.invalid_type,expected:Z.undefined,received:Y.parsedType}),o}return d0($.data)}}q8.create=($)=>{return new q8({typeName:t.ZodUndefined,...H0($)})};class W8 extends j0{_parse($){if(this._getType($)!==Z.null){let Y=this._getOrReturnCtx($);return f(Y,{code:T.invalid_type,expected:Z.null,received:Y.parsedType}),o}return d0($.data)}}W8.create=($)=>{return new W8({typeName:t.ZodNull,...H0($)})};class z1 extends j0{constructor(){super(...arguments);this._any=!0}_parse($){return d0($.data)}}z1.create=($)=>{return new z1({typeName:t.ZodAny,...H0($)})};class q1 extends j0{constructor(){super(...arguments);this._unknown=!0}_parse($){return d0($.data)}}q1.create=($)=>{return new q1({typeName:t.ZodUnknown,...H0($)})};class F6 extends j0{_parse($){let X=this._getOrReturnCtx($);return f(X,{code:T.invalid_type,expected:Z.never,received:X.parsedType}),o}}F6.create=($)=>{return new F6({typeName:t.ZodNever,...H0($)})};class $2 extends j0{_parse($){if(this._getType($)!==Z.undefined){let Y=this._getOrReturnCtx($);return f(Y,{code:T.invalid_type,expected:Z.void,received:Y.parsedType}),o}return d0($.data)}}$2.create=($)=>{return new $2({typeName:t.ZodVoid,...H0($)})};class V6 extends j0{_parse($){let{ctx:X,status:Y}=this._processInputParams($),Q=this._def;if(X.parsedType!==Z.array)return f(X,{code:T.invalid_type,expected:Z.array,received:X.parsedType}),o;if(Q.exactLength!==null){let q=X.data.length>Q.exactLength.value,W=X.data.length<Q.exactLength.value;if(q||W)f(X,{code:q?T.too_big:T.too_small,minimum:W?Q.exactLength.value:void 0,maximum:q?Q.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:Q.exactLength.message}),Y.dirty()}if(Q.minLength!==null){if(X.data.length<Q.minLength.value)f(X,{code:T.too_small,minimum:Q.minLength.value,type:"array",inclusive:!0,exact:!1,message:Q.minLength.message}),Y.dirty()}if(Q.maxLength!==null){if(X.data.length>Q.maxLength.value)f(X,{code:T.too_big,maximum:Q.maxLength.value,type:"array",inclusive:!0,exact:!1,message:Q.maxLength.message}),Y.dirty()}if(X.common.async)return Promise.all([...X.data].map((q,W)=>{return Q.type._parseAsync(new U6(X,q,X.path,W))})).then((q)=>{return y0.mergeArray(Y,q)});let J=[...X.data].map((q,W)=>{return Q.type._parseSync(new U6(X,q,X.path,W))});return y0.mergeArray(Y,J)}get element(){return this._def.type}min($,X){return new V6({...this._def,minLength:{value:$,message:c.toString(X)}})}max($,X){return new V6({...this._def,maxLength:{value:$,message:c.toString(X)}})}length($,X){return new V6({...this._def,exactLength:{value:$,message:c.toString(X)}})}nonempty($){return this.min(1,$)}}V6.create=($,X)=>{return new V6({type:$,minLength:null,maxLength:null,exactLength:null,typeName:t.ZodArray,...H0(X)})};function Y8($){if($ instanceof I0){let X={};for(let Y in $.shape){let Q=$.shape[Y];X[Y]=K6.create(Y8(Q))}return new I0({...$._def,shape:()=>X})}else if($ instanceof V6)return new V6({...$._def,type:Y8($.element)});else if($ instanceof K6)return K6.create(Y8($.unwrap()));else if($ instanceof y6)return y6.create(Y8($.unwrap()));else if($ instanceof z6)return z6.create($.items.map((X)=>Y8(X)));else return $}class I0 extends j0{constructor(){super(...arguments);this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let $=this._def.shape(),X=U0.objectKeys($);return this._cached={shape:$,keys:X},this._cached}_parse($){if(this._getType($)!==Z.object){let G=this._getOrReturnCtx($);return f(G,{code:T.invalid_type,expected:Z.object,received:G.parsedType}),o}let{status:Y,ctx:Q}=this._processInputParams($),{shape:J,keys:q}=this._getCached(),W=[];if(!(this._def.catchall instanceof F6&&this._def.unknownKeys==="strip")){for(let G in Q.data)if(!q.includes(G))W.push(G)}let H=[];for(let G of q){let _=J[G],j=Q.data[G];H.push({key:{status:"valid",value:G},value:_._parse(new U6(Q,j,Q.path,G)),alwaysSet:G in Q.data})}if(this._def.catchall instanceof F6){let G=this._def.unknownKeys;if(G==="passthrough")for(let _ of W)H.push({key:{status:"valid",value:_},value:{status:"valid",value:Q.data[_]}});else if(G==="strict"){if(W.length>0)f(Q,{code:T.unrecognized_keys,keys:W}),Y.dirty()}else if(G==="strip");else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let G=this._def.catchall;for(let _ of W){let j=Q.data[_];H.push({key:{status:"valid",value:_},value:G._parse(new U6(Q,j,Q.path,_)),alwaysSet:_ in Q.data})}}if(Q.common.async)return Promise.resolve().then(async()=>{let G=[];for(let _ of H){let j=await _.key,V=await _.value;G.push({key:j,value:V,alwaysSet:_.alwaysSet})}return G}).then((G)=>{return y0.mergeObjectSync(Y,G)});else return y0.mergeObjectSync(Y,H)}get shape(){return this._def.shape()}strict($){return c.errToObj,new I0({...this._def,unknownKeys:"strict",...$!==void 0?{errorMap:(X,Y)=>{let Q=this._def.errorMap?.(X,Y).message??Y.defaultError;if(X.code==="unrecognized_keys")return{message:c.errToObj($).message??Q};return{message:Q}}}:{}})}strip(){return new I0({...this._def,unknownKeys:"strip"})}passthrough(){return new I0({...this._def,unknownKeys:"passthrough"})}extend($){return new I0({...this._def,shape:()=>({...this._def.shape(),...$})})}merge($){return new I0({unknownKeys:$._def.unknownKeys,catchall:$._def.catchall,shape:()=>({...this._def.shape(),...$._def.shape()}),typeName:t.ZodObject})}setKey($,X){return this.augment({[$]:X})}catchall($){return new I0({...this._def,catchall:$})}pick($){let X={};for(let Y of U0.objectKeys($))if($[Y]&&this.shape[Y])X[Y]=this.shape[Y];return new I0({...this._def,shape:()=>X})}omit($){let X={};for(let Y of U0.objectKeys(this.shape))if(!$[Y])X[Y]=this.shape[Y];return new I0({...this._def,shape:()=>X})}deepPartial(){return Y8(this)}partial($){let X={};for(let Y of U0.objectKeys(this.shape)){let Q=this.shape[Y];if($&&!$[Y])X[Y]=Q;else X[Y]=Q.optional()}return new I0({...this._def,shape:()=>X})}required($){let X={};for(let Y of U0.objectKeys(this.shape))if($&&!$[Y])X[Y]=this.shape[Y];else{let J=this.shape[Y];while(J instanceof K6)J=J._def.innerType;X[Y]=J}return new I0({...this._def,shape:()=>X})}keyof(){return ZJ(U0.objectKeys(this.shape))}}I0.create=($,X)=>{return new I0({shape:()=>$,unknownKeys:"strip",catchall:F6.create(),typeName:t.ZodObject,...H0(X)})};I0.strictCreate=($,X)=>{return new I0({shape:()=>$,unknownKeys:"strict",catchall:F6.create(),typeName:t.ZodObject,...H0(X)})};I0.lazycreate=($,X)=>{return new I0({shape:$,unknownKeys:"strip",catchall:F6.create(),typeName:t.ZodObject,...H0(X)})};class H8 extends j0{_parse($){let{ctx:X}=this._processInputParams($),Y=this._def.options;function Q(J){for(let W of J)if(W.result.status==="valid")return W.result;for(let W of J)if(W.result.status==="dirty")return X.common.issues.push(...W.ctx.common.issues),W.result;let q=J.map((W)=>new t0(W.ctx.common.issues));return f(X,{code:T.invalid_union,unionErrors:q}),o}if(X.common.async)return Promise.all(Y.map(async(J)=>{let q={...X,common:{...X.common,issues:[]},parent:null};return{result:await J._parseAsync({data:X.data,path:X.path,parent:q}),ctx:q}})).then(Q);else{let J=void 0,q=[];for(let H of Y){let G={...X,common:{...X.common,issues:[]},parent:null},_=H._parseSync({data:X.data,path:X.path,parent:G});if(_.status==="valid")return _;else if(_.status==="dirty"&&!J)J={result:_,ctx:G};if(G.common.issues.length)q.push(G.common.issues)}if(J)return X.common.issues.push(...J.ctx.common.issues),J.result;let W=q.map((H)=>new t0(H));return f(X,{code:T.invalid_union,unionErrors:W}),o}}get options(){return this._def.options}}H8.create=($,X)=>{return new H8({options:$,typeName:t.ZodUnion,...H0(X)})};var f6=($)=>{if($ instanceof _8)return f6($.schema);else if($ instanceof w6)return f6($.innerType());else if($ instanceof j8)return[$.value];else if($ instanceof G1)return $.options;else if($ instanceof V8)return U0.objectValues($.enum);else if($ instanceof K8)return f6($._def.innerType);else if($ instanceof q8)return[void 0];else if($ instanceof W8)return[null];else if($ instanceof K6)return[void 0,...f6($.unwrap())];else if($ instanceof y6)return[null,...f6($.unwrap())];else if($ instanceof u9)return f6($.unwrap());else if($ instanceof w8)return f6($.unwrap());else if($ instanceof U8)return f6($._def.innerType);else return[]};class m9 extends j0{_parse($){let{ctx:X}=this._processInputParams($);if(X.parsedType!==Z.object)return f(X,{code:T.invalid_type,expected:Z.object,received:X.parsedType}),o;let Y=this.discriminator,Q=X.data[Y],J=this.optionsMap.get(Q);if(!J)return f(X,{code:T.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[Y]}),o;if(X.common.async)return J._parseAsync({data:X.data,path:X.path,parent:X});else return J._parseSync({data:X.data,path:X.path,parent:X})}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create($,X,Y){let Q=new Map;for(let J of X){let q=f6(J.shape[$]);if(!q.length)throw Error(`A discriminator value for key \`${$}\` could not be extracted from all schema options`);for(let W of q){if(Q.has(W))throw Error(`Discriminator property ${String($)} has duplicate value ${String(W)}`);Q.set(W,J)}}return new m9({typeName:t.ZodDiscriminatedUnion,discriminator:$,options:X,optionsMap:Q,...H0(Y)})}}function I7($,X){let Y=R6($),Q=R6(X);if($===X)return{valid:!0,data:$};else if(Y===Z.object&&Q===Z.object){let J=U0.objectKeys(X),q=U0.objectKeys($).filter((H)=>J.indexOf(H)!==-1),W={...$,...X};for(let H of q){let G=I7($[H],X[H]);if(!G.valid)return{valid:!1};W[H]=G.data}return{valid:!0,data:W}}else if(Y===Z.array&&Q===Z.array){if($.length!==X.length)return{valid:!1};let J=[];for(let q=0;q<$.length;q++){let W=$[q],H=X[q],G=I7(W,H);if(!G.valid)return{valid:!1};J.push(G.data)}return{valid:!0,data:J}}else if(Y===Z.date&&Q===Z.date&&+$===+X)return{valid:!0,data:$};else return{valid:!1}}class G8 extends j0{_parse($){let{status:X,ctx:Y}=this._processInputParams($),Q=(J,q)=>{if(y9(J)||y9(q))return o;let W=I7(J.value,q.value);if(!W.valid)return f(Y,{code:T.invalid_intersection_types}),o;if(g9(J)||g9(q))X.dirty();return{status:X.value,value:W.data}};if(Y.common.async)return Promise.all([this._def.left._parseAsync({data:Y.data,path:Y.path,parent:Y}),this._def.right._parseAsync({data:Y.data,path:Y.path,parent:Y})]).then(([J,q])=>Q(J,q));else return Q(this._def.left._parseSync({data:Y.data,path:Y.path,parent:Y}),this._def.right._parseSync({data:Y.data,path:Y.path,parent:Y}))}}G8.create=($,X,Y)=>{return new G8({left:$,right:X,typeName:t.ZodIntersection,...H0(Y)})};class z6 extends j0{_parse($){let{status:X,ctx:Y}=this._processInputParams($);if(Y.parsedType!==Z.array)return f(Y,{code:T.invalid_type,expected:Z.array,received:Y.parsedType}),o;if(Y.data.length<this._def.items.length)return f(Y,{code:T.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),o;if(!this._def.rest&&Y.data.length>this._def.items.length)f(Y,{code:T.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X.dirty();let J=[...Y.data].map((q,W)=>{let H=this._def.items[W]||this._def.rest;if(!H)return null;return H._parse(new U6(Y,q,Y.path,W))}).filter((q)=>!!q);if(Y.common.async)return Promise.all(J).then((q)=>{return y0.mergeArray(X,q)});else return y0.mergeArray(X,J)}get items(){return this._def.items}rest($){return new z6({...this._def,rest:$})}}z6.create=($,X)=>{if(!Array.isArray($))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new z6({items:$,typeName:t.ZodTuple,rest:null,...H0(X)})};class X2 extends j0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:X,ctx:Y}=this._processInputParams($);if(Y.parsedType!==Z.object)return f(Y,{code:T.invalid_type,expected:Z.object,received:Y.parsedType}),o;let Q=[],J=this._def.keyType,q=this._def.valueType;for(let W in Y.data)Q.push({key:J._parse(new U6(Y,W,Y.path,W)),value:q._parse(new U6(Y,Y.data[W],Y.path,W)),alwaysSet:W in Y.data});if(Y.common.async)return y0.mergeObjectAsync(X,Q);else return y0.mergeObjectSync(X,Q)}get element(){return this._def.valueType}static create($,X,Y){if(X instanceof j0)return new X2({keyType:$,valueType:X,typeName:t.ZodRecord,...H0(Y)});return new X2({keyType:j6.create(),valueType:$,typeName:t.ZodRecord,...H0(X)})}}class Y2 extends j0{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse($){let{status:X,ctx:Y}=this._processInputParams($);if(Y.parsedType!==Z.map)return f(Y,{code:T.invalid_type,expected:Z.map,received:Y.parsedType}),o;let Q=this._def.keyType,J=this._def.valueType,q=[...Y.data.entries()].map(([W,H],G)=>{return{key:Q._parse(new U6(Y,W,Y.path,[G,"key"])),value:J._parse(new U6(Y,H,Y.path,[G,"value"]))}});if(Y.common.async){let W=new Map;return Promise.resolve().then(async()=>{for(let H of q){let G=await H.key,_=await H.value;if(G.status==="aborted"||_.status==="aborted")return o;if(G.status==="dirty"||_.status==="dirty")X.dirty();W.set(G.value,_.value)}return{status:X.value,value:W}})}else{let W=new Map;for(let H of q){let{key:G,value:_}=H;if(G.status==="aborted"||_.status==="aborted")return o;if(G.status==="dirty"||_.status==="dirty")X.dirty();W.set(G.value,_.value)}return{status:X.value,value:W}}}}Y2.create=($,X,Y)=>{return new Y2({valueType:X,keyType:$,typeName:t.ZodMap,...H0(Y)})};class I1 extends j0{_parse($){let{status:X,ctx:Y}=this._processInputParams($);if(Y.parsedType!==Z.set)return f(Y,{code:T.invalid_type,expected:Z.set,received:Y.parsedType}),o;let Q=this._def;if(Q.minSize!==null){if(Y.data.size<Q.minSize.value)f(Y,{code:T.too_small,minimum:Q.minSize.value,type:"set",inclusive:!0,exact:!1,message:Q.minSize.message}),X.dirty()}if(Q.maxSize!==null){if(Y.data.size>Q.maxSize.value)f(Y,{code:T.too_big,maximum:Q.maxSize.value,type:"set",inclusive:!0,exact:!1,message:Q.maxSize.message}),X.dirty()}let J=this._def.valueType;function q(H){let G=new Set;for(let _ of H){if(_.status==="aborted")return o;if(_.status==="dirty")X.dirty();G.add(_.value)}return{status:X.value,value:G}}let W=[...Y.data.values()].map((H,G)=>J._parse(new U6(Y,H,Y.path,G)));if(Y.common.async)return Promise.all(W).then((H)=>q(H));else return q(W)}min($,X){return new I1({...this._def,minSize:{value:$,message:c.toString(X)}})}max($,X){return new I1({...this._def,maxSize:{value:$,message:c.toString(X)}})}size($,X){return this.min($,X).max($,X)}nonempty($){return this.min(1,$)}}I1.create=($,X)=>{return new I1({valueType:$,minSize:null,maxSize:null,typeName:t.ZodSet,...H0(X)})};class Q8 extends j0{constructor(){super(...arguments);this.validate=this.implement}_parse($){let{ctx:X}=this._processInputParams($);if(X.parsedType!==Z.function)return f(X,{code:T.invalid_type,expected:Z.function,received:X.parsedType}),o;function Y(W,H){return a8({data:W,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,$8(),h6].filter((G)=>!!G),issueData:{code:T.invalid_arguments,argumentsError:H}})}function Q(W,H){return a8({data:W,path:X.path,errorMaps:[X.common.contextualErrorMap,X.schemaErrorMap,$8(),h6].filter((G)=>!!G),issueData:{code:T.invalid_return_type,returnTypeError:H}})}let J={errorMap:X.common.contextualErrorMap},q=X.data;if(this._def.returns instanceof v1){let W=this;return d0(async function(...H){let G=new t0([]),_=await W._def.args.parseAsync(H,J).catch((U)=>{throw G.addIssue(Y(H,U)),G}),j=await Reflect.apply(q,this,_);return await W._def.returns._def.type.parseAsync(j,J).catch((U)=>{throw G.addIssue(Q(j,U)),G})})}else{let W=this;return d0(function(...H){let G=W._def.args.safeParse(H,J);if(!G.success)throw new t0([Y(H,G.error)]);let _=Reflect.apply(q,this,G.data),j=W._def.returns.safeParse(_,J);if(!j.success)throw new t0([Q(_,j.error)]);return j.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...$){return new Q8({...this._def,args:z6.create($).rest(q1.create())})}returns($){return new Q8({...this._def,returns:$})}implement($){return this.parse($)}strictImplement($){return this.parse($)}static create($,X,Y){return new Q8({args:$?$:z6.create([]).rest(q1.create()),returns:X||q1.create(),typeName:t.ZodFunction,...H0(Y)})}}class _8 extends j0{get schema(){return this._def.getter()}_parse($){let{ctx:X}=this._processInputParams($);return this._def.getter()._parse({data:X.data,path:X.path,parent:X})}}_8.create=($,X)=>{return new _8({getter:$,typeName:t.ZodLazy,...H0(X)})};class j8 extends j0{_parse($){if($.data!==this._def.value){let X=this._getOrReturnCtx($);return f(X,{received:X.data,code:T.invalid_literal,expected:this._def.value}),o}return{status:"valid",value:$.data}}get value(){return this._def.value}}j8.create=($,X)=>{return new j8({value:$,typeName:t.ZodLiteral,...H0(X)})};function ZJ($,X){return new G1({values:$,typeName:t.ZodEnum,...H0(X)})}class G1 extends j0{_parse($){if(typeof $.data!=="string"){let X=this._getOrReturnCtx($),Y=this._def.values;return f(X,{expected:U0.joinValues(Y),received:X.parsedType,code:T.invalid_type}),o}if(!this._cache)this._cache=new Set(this._def.values);if(!this._cache.has($.data)){let X=this._getOrReturnCtx($),Y=this._def.values;return f(X,{received:X.data,code:T.invalid_enum_value,options:Y}),o}return d0($.data)}get options(){return this._def.values}get enum(){let $={};for(let X of this._def.values)$[X]=X;return $}get Values(){let $={};for(let X of this._def.values)$[X]=X;return $}get Enum(){let $={};for(let X of this._def.values)$[X]=X;return $}extract($,X=this._def){return G1.create($,{...this._def,...X})}exclude($,X=this._def){return G1.create(this.options.filter((Y)=>!$.includes(Y)),{...this._def,...X})}}G1.create=ZJ;class V8 extends j0{_parse($){let X=U0.getValidEnumValues(this._def.values),Y=this._getOrReturnCtx($);if(Y.parsedType!==Z.string&&Y.parsedType!==Z.number){let Q=U0.objectValues(X);return f(Y,{expected:U0.joinValues(Q),received:Y.parsedType,code:T.invalid_type}),o}if(!this._cache)this._cache=new Set(U0.getValidEnumValues(this._def.values));if(!this._cache.has($.data)){let Q=U0.objectValues(X);return f(Y,{received:Y.data,code:T.invalid_enum_value,options:Q}),o}return d0($.data)}get enum(){return this._def.values}}V8.create=($,X)=>{return new V8({values:$,typeName:t.ZodNativeEnum,...H0(X)})};class v1 extends j0{unwrap(){return this._def.type}_parse($){let{ctx:X}=this._processInputParams($);if(X.parsedType!==Z.promise&&X.common.async===!1)return f(X,{code:T.invalid_type,expected:Z.promise,received:X.parsedType}),o;let Y=X.parsedType===Z.promise?X.data:Promise.resolve(X.data);return d0(Y.then((Q)=>{return this._def.type.parseAsync(Q,{path:X.path,errorMap:X.common.contextualErrorMap})}))}}v1.create=($,X)=>{return new v1({type:$,typeName:t.ZodPromise,...H0(X)})};class w6 extends j0{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse($){let{status:X,ctx:Y}=this._processInputParams($),Q=this._def.effect||null,J={addIssue:(q)=>{if(f(Y,q),q.fatal)X.abort();else X.dirty()},get path(){return Y.path}};if(J.addIssue=J.addIssue.bind(J),Q.type==="preprocess"){let q=Q.transform(Y.data,J);if(Y.common.async)return Promise.resolve(q).then(async(W)=>{if(X.value==="aborted")return o;let H=await this._def.schema._parseAsync({data:W,path:Y.path,parent:Y});if(H.status==="aborted")return o;if(H.status==="dirty")return R1(H.value);if(X.value==="dirty")return R1(H.value);return H});else{if(X.value==="aborted")return o;let W=this._def.schema._parseSync({data:q,path:Y.path,parent:Y});if(W.status==="aborted")return o;if(W.status==="dirty")return R1(W.value);if(X.value==="dirty")return R1(W.value);return W}}if(Q.type==="refinement"){let q=(W)=>{let H=Q.refinement(W,J);if(Y.common.async)return Promise.resolve(H);if(H instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return W};if(Y.common.async===!1){let W=this._def.schema._parseSync({data:Y.data,path:Y.path,parent:Y});if(W.status==="aborted")return o;if(W.status==="dirty")X.dirty();return q(W.value),{status:X.value,value:W.value}}else return this._def.schema._parseAsync({data:Y.data,path:Y.path,parent:Y}).then((W)=>{if(W.status==="aborted")return o;if(W.status==="dirty")X.dirty();return q(W.value).then(()=>{return{status:X.value,value:W.value}})})}if(Q.type==="transform")if(Y.common.async===!1){let q=this._def.schema._parseSync({data:Y.data,path:Y.path,parent:Y});if(!J1(q))return o;let W=Q.transform(q.value,J);if(W instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:X.value,value:W}}else return this._def.schema._parseAsync({data:Y.data,path:Y.path,parent:Y}).then((q)=>{if(!J1(q))return o;return Promise.resolve(Q.transform(q.value,J)).then((W)=>({status:X.value,value:W}))});U0.assertNever(Q)}}w6.create=($,X,Y)=>{return new w6({schema:$,typeName:t.ZodEffects,effect:X,...H0(Y)})};w6.createWithPreprocess=($,X,Y)=>{return new w6({schema:X,effect:{type:"preprocess",transform:$},typeName:t.ZodEffects,...H0(Y)})};class K6 extends j0{_parse($){if(this._getType($)===Z.undefined)return d0(void 0);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}K6.create=($,X)=>{return new K6({innerType:$,typeName:t.ZodOptional,...H0(X)})};class y6 extends j0{_parse($){if(this._getType($)===Z.null)return d0(null);return this._def.innerType._parse($)}unwrap(){return this._def.innerType}}y6.create=($,X)=>{return new y6({innerType:$,typeName:t.ZodNullable,...H0(X)})};class K8 extends j0{_parse($){let{ctx:X}=this._processInputParams($),Y=X.data;if(X.parsedType===Z.undefined)Y=this._def.defaultValue();return this._def.innerType._parse({data:Y,path:X.path,parent:X})}removeDefault(){return this._def.innerType}}K8.create=($,X)=>{return new K8({innerType:$,typeName:t.ZodDefault,defaultValue:typeof X.default==="function"?X.default:()=>X.default,...H0(X)})};class U8 extends j0{_parse($){let{ctx:X}=this._processInputParams($),Y={...X,common:{...X.common,issues:[]}},Q=this._def.innerType._parse({data:Y.data,path:Y.path,parent:{...Y}});if(X8(Q))return Q.then((J)=>{return{status:"valid",value:J.status==="valid"?J.value:this._def.catchValue({get error(){return new t0(Y.common.issues)},input:Y.data})}});else return{status:"valid",value:Q.status==="valid"?Q.value:this._def.catchValue({get error(){return new t0(Y.common.issues)},input:Y.data})}}removeCatch(){return this._def.innerType}}U8.create=($,X)=>{return new U8({innerType:$,typeName:t.ZodCatch,catchValue:typeof X.catch==="function"?X.catch:()=>X.catch,...H0(X)})};class Q2 extends j0{_parse($){if(this._getType($)!==Z.nan){let Y=this._getOrReturnCtx($);return f(Y,{code:T.invalid_type,expected:Z.nan,received:Y.parsedType}),o}return{status:"valid",value:$.data}}}Q2.create=($)=>{return new Q2({typeName:t.ZodNaN,...H0($)})};var PO=Symbol("zod_brand");class u9 extends j0{_parse($){let{ctx:X}=this._processInputParams($),Y=X.data;return this._def.type._parse({data:Y,path:X.path,parent:X})}unwrap(){return this._def.type}}class J2 extends j0{_parse($){let{status:X,ctx:Y}=this._processInputParams($);if(Y.common.async)return(async()=>{let J=await this._def.in._parseAsync({data:Y.data,path:Y.path,parent:Y});if(J.status==="aborted")return o;if(J.status==="dirty")return X.dirty(),R1(J.value);else return this._def.out._parseAsync({data:J.value,path:Y.path,parent:Y})})();else{let Q=this._def.in._parseSync({data:Y.data,path:Y.path,parent:Y});if(Q.status==="aborted")return o;if(Q.status==="dirty")return X.dirty(),{status:"dirty",value:Q.value};else return this._def.out._parseSync({data:Q.value,path:Y.path,parent:Y})}}static create($,X){return new J2({in:$,out:X,typeName:t.ZodPipeline})}}class w8 extends j0{_parse($){let X=this._def.innerType._parse($),Y=(Q)=>{if(J1(Q))Q.value=Object.freeze(Q.value);return Q};return X8(X)?X.then((Q)=>Y(Q)):Y(X)}unwrap(){return this._def.innerType}}w8.create=($,X)=>{return new w8({innerType:$,typeName:t.ZodReadonly,...H0(X)})};function PJ($,X){let Y=typeof $==="function"?$(X):typeof $==="string"?{message:$}:$;return typeof Y==="string"?{message:Y}:Y}function CJ($,X={},Y){if($)return z1.create().superRefine((Q,J)=>{let q=$(Q);if(q instanceof Promise)return q.then((W)=>{if(!W){let H=PJ(X,Q),G=H.fatal??Y??!0;J.addIssue({code:"custom",...H,fatal:G})}});if(!q){let W=PJ(X,Q),H=W.fatal??Y??!0;J.addIssue({code:"custom",...W,fatal:H})}return});return z1.create()}var xO={object:I0.lazycreate},t;(function($){$.ZodString="ZodString",$.ZodNumber="ZodNumber",$.ZodNaN="ZodNaN",$.ZodBigInt="ZodBigInt",$.ZodBoolean="ZodBoolean",$.ZodDate="ZodDate",$.ZodSymbol="ZodSymbol",$.ZodUndefined="ZodUndefined",$.ZodNull="ZodNull",$.ZodAny="ZodAny",$.ZodUnknown="ZodUnknown",$.ZodNever="ZodNever",$.ZodVoid="ZodVoid",$.ZodArray="ZodArray",$.ZodObject="ZodObject",$.ZodUnion="ZodUnion",$.ZodDiscriminatedUnion="ZodDiscriminatedUnion",$.ZodIntersection="ZodIntersection",$.ZodTuple="ZodTuple",$.ZodRecord="ZodRecord",$.ZodMap="ZodMap",$.ZodSet="ZodSet",$.ZodFunction="ZodFunction",$.ZodLazy="ZodLazy",$.ZodLiteral="ZodLiteral",$.ZodEnum="ZodEnum",$.ZodEffects="ZodEffects",$.ZodNativeEnum="ZodNativeEnum",$.ZodOptional="ZodOptional",$.ZodNullable="ZodNullable",$.ZodDefault="ZodDefault",$.ZodCatch="ZodCatch",$.ZodPromise="ZodPromise",$.ZodBranded="ZodBranded",$.ZodPipeline="ZodPipeline",$.ZodReadonly="ZodReadonly"})(t||(t={}));var TO=($,X={message:`Input not instance of ${$.name}`})=>CJ((Y)=>Y instanceof $,X),SJ=j6.create,kJ=W1.create,bO=Q2.create,ZO=H1.create,hJ=J8.create,CO=F1.create,SO=e8.create,kO=q8.create,hO=W8.create,fO=z1.create,yO=q1.create,gO=F6.create,mO=$2.create,uO=V6.create,cO=I0.create,dO=I0.strictCreate,lO=H8.create,pO=m9.create,nO=G8.create,iO=z6.create,sO=X2.create,oO=Y2.create,rO=I1.create,tO=Q8.create,aO=_8.create,eO=j8.create,$N=G1.create,XN=V8.create,YN=v1.create,QN=w6.create,JN=K6.create,qN=y6.create,WN=w6.createWithPreprocess,HN=J2.create,GN=()=>SJ().optional(),_N=()=>kJ().optional(),jN=()=>hJ().optional(),VN={string:($)=>j6.create({...$,coerce:!0}),number:($)=>W1.create({...$,coerce:!0}),boolean:($)=>J8.create({...$,coerce:!0}),bigint:($)=>H1.create({...$,coerce:!0}),date:($)=>F1.create({...$,coerce:!0})};var KN=o;var __dirname="/home/z/my-project/mini-services/video-renderer",v7=3031,P7=[B6.join(process.cwd(),"bundle"),"/app/mini-services-dist/video-renderer/bundle",B6.join(process.cwd(),"..","..","out","bundle"),B6.join(process.cwd(),"..","..","bundle"),B6.join(process.cwd(),"..","out","bundle"),"/out/bundle","/app/out/bundle","/app/next-service-dist/out/bundle"],e0=P7.find(($)=>a0.existsSync($));if(!e0)e0=B6.join(__dirname,"bundle");console.log("\uD83C\uDFAC Video Renderer Service starting...");console.log(`\uD83D\uDCC1 Working directory: ${process.cwd()}`);console.log("\uD83D\uDCC1 Checking paths:");P7.forEach(($)=>{console.log(`   ${$} - ${a0.existsSync($)?"EXISTS":"not found"}`)});console.log(`\uD83D\uDCC1 Using bundle path: ${e0}`);console.log(`\uD83D\uDCC1 Bundle exists: ${a0.existsSync(e0)}`);var c9={low:{crf:28},medium:{crf:23},high:{crf:18}},gJ=w.object({title:w.string().max(100).optional(),subtitle:w.string().max(200).optional(),logoUrl:w.string().url().optional(),duration:w.number().min(1).max(5).optional().default(2)}),L0=w.object({verticalAlign:w.enum(["top","center","bottom"]).optional(),horizontalAlign:w.enum(["left","center","right"]).optional(),enterAnimation:w.enum(["fade","slide-up","slide-down","slide-left","slide-right","zoom","bounce","rotate","flip","none"]).optional(),exitAnimation:w.enum(["fade","slide-up","slide-down","slide-left","slide-right","zoom","bounce","rotate","flip","none"]).optional(),animationDuration:w.number().min(0.1).max(2).optional(),backgroundColor:w.string().optional(),backgroundImage:w.string().optional(),backgroundBlur:w.number().min(0).max(20).optional(),borderColor:w.string().optional(),borderWidth:w.number().min(0).max(10).optional(),borderRadius:w.number().min(0).max(100).optional(),shadowEnabled:w.boolean().optional(),shadowColor:w.string().optional(),shadowBlur:w.number().min(0).max(50).optional(),padding:w.number().min(0).max(100).optional(),margin:w.number().min(0).max(50).optional()}),wN=w.object({aspectRatio:w.enum(["16:9","9:16","1:1","4:5"]).default("9:16"),theme:w.enum(["dark_modern","light_clean","gradient_vibrant","minimal_bw"]).default("dark_modern"),fps:w.number().int().min(1).max(60).default(30),duration:w.number().optional(),intro:gJ.optional(),outro:gJ.optional()}),BN=w.discriminatedUnion("type",[w.object({type:w.literal("stat"),heading:w.string(),value:w.string(),subtext:w.string().optional(),trend:w.enum(["up","down","neutral"]).optional()}).merge(L0),w.object({type:w.literal("comparison"),items:w.array(w.object({label:w.string(),value:w.number(),color:w.string().optional()})),title:w.string().optional()}).merge(L0),w.object({type:w.literal("text"),content:w.string(),style:w.enum(["body","heading","caption"]).optional()}).merge(L0),w.object({type:w.literal("quote"),text:w.string(),author:w.string().optional()}).merge(L0),w.object({type:w.literal("list"),items:w.array(w.string()),style:w.enum(["bullet","numbered","checklist"]).optional()}).merge(L0),w.object({type:w.literal("timeline"),events:w.array(w.object({year:w.string(),title:w.string(),description:w.string().optional()}))}).merge(L0),w.object({type:w.literal("callout"),title:w.string(),content:w.string(),variant:w.enum(["success","warning","error","info"]).optional()}).merge(L0),w.object({type:w.literal("icon-list"),items:w.array(w.object({icon:w.string(),title:w.string(),description:w.string().optional()}))}).merge(L0),w.object({type:w.literal("line-chart"),data:w.array(w.number()),title:w.string().optional(),xAxis:w.array(w.string()).optional()}).merge(L0),w.object({type:w.literal("pie-chart"),segments:w.array(w.object({label:w.string(),value:w.number(),color:w.string().optional()})),title:w.string().optional()}).merge(L0),w.object({type:w.literal("code"),code:w.string(),language:w.string().optional(),filename:w.string().optional()}).merge(L0),w.object({type:w.literal("testimonial"),quote:w.string(),author:w.string(),role:w.string().optional(),avatar:w.string().optional()}).merge(L0),w.object({type:w.literal("image"),src:w.string(),alt:w.string().optional(),caption:w.string().optional()}).merge(L0),w.object({type:w.literal("whatsapp-chat"),title:w.string().max(100).optional(),person1:w.object({name:w.string().max(50),avatar:w.string().optional(),isOnline:w.boolean().optional().default(!0)}),person2:w.object({name:w.string().max(50),avatar:w.string().optional(),isOnline:w.boolean().optional().default(!0)}),messages:w.array(w.object({from:w.enum(["person1","person2"]),text:w.string().max(500),time:w.string().max(20).optional(),showReadReceipt:w.boolean().optional().default(!0)})).min(1).max(50),showTypingIndicator:w.boolean().optional().default(!0),lastSeen:w.string().max(50).optional()}).merge(L0),w.object({type:w.literal("motivational-image"),imageSrc:w.string().min(1),imageAlt:w.string().max(200).optional(),imageEffect:w.enum(["none","fade","slide-up","slide-down","slide-left","slide-right","zoom-in","zoom-out","ken-burns","blur","rotate","bounce"]).default("fade"),imageEffectDuration:w.number().min(0.5).max(5).default(1.5),text:w.string().min(1).max(500).optional(),textStyle:w.enum(["default","quote","typing","words","glow","outline","bold-glow","shadow"]).default("default"),fontSize:w.enum(["small","medium","large","xlarge","xxlarge"]).default("xlarge"),fontWeight:w.enum(["normal","bold","black"]).default("bold"),textColor:w.string().default("#FFFFFF"),textAlign:w.enum(["left","center","right"]).default("center"),textPosition:w.enum(["top","center","bottom"]).default("center"),textAnimationDelay:w.number().min(0).max(5).default(0.3),colorOverlay:w.object({enabled:w.boolean().default(!1),color:w.string().default("#000000"),opacity:w.number().min(0).max(1).default(0.4),animation:w.enum(["none","fade","pulse"]).default("fade")}).optional(),backgroundColor:w.string().default("#000000"),imageFit:w.enum(["cover","contain","fill"]).default("cover"),imagePosition:w.enum(["center","top","bottom","left","right"]).default("center"),audioSrc:w.string().optional(),audioVolume:w.number().min(0).max(1).default(0.7),duration:w.number().min(1).max(120).optional()}).merge(L0),w.object({type:w.literal("counter"),label:w.string().max(100),from:w.number().default(0),to:w.number().default(100),duration:w.number().min(1).max(10).default(3),prefix:w.string().max(20).optional(),suffix:w.string().max(20).optional(),decimals:w.number().min(0).max(5).default(0),color:w.string().default("#3B82F6"),animationStyle:w.enum(["linear","easeOut","easeInOut","bounce"]).default("easeOut")}).merge(L0),w.object({type:w.literal("progress-bar"),label:w.string().max(100).optional(),value:w.number().min(0).max(100).default(75),color:w.string().default("#10B981"),backgroundColor:w.string().default("#1F2937"),height:w.enum(["small","medium","large"]).default("medium"),showPercentage:w.boolean().default(!0),animated:w.boolean().default(!0),stripes:w.boolean().default(!1)}).merge(L0),w.object({type:w.literal("qr-code"),data:w.string().min(1).max(500),title:w.string().max(100).optional(),subtitle:w.string().max(200).optional(),size:w.enum(["small","medium","large"]).default("medium"),fgColor:w.string().default("#000000"),bgColor:w.string().default("#FFFFFF")}).merge(L0),w.object({type:w.literal("video"),src:w.string().min(1),poster:w.string().optional(),autoPlay:w.boolean().default(!0),loop:w.boolean().default(!1),muted:w.boolean().default(!0),controls:w.boolean().default(!1),caption:w.string().max(200).optional()}).merge(L0),w.object({type:w.literal("avatar-grid"),title:w.string().max(100).optional(),subtitle:w.string().max(200).optional(),avatars:w.array(w.object({name:w.string().max(50),role:w.string().max(100).optional(),image:w.string().optional()})).min(1).max(12),layout:w.enum(["grid","carousel","stacked"]).default("grid"),columns:w.number().min(2).max(6).default(3)}).merge(L0),w.object({type:w.literal("social-stats"),platform:w.enum(["twitter","instagram","youtube","tiktok","linkedin","facebook"]),username:w.string().max(50),followers:w.number().min(0),posts:w.number().min(0).optional(),likes:w.number().min(0).optional(),verified:w.boolean().default(!1),showGrowth:w.boolean().default(!0),growthPercentage:w.number().optional()}).merge(L0),w.object({type:w.literal("cta"),text:w.string().max(50),description:w.string().max(200).optional(),buttonStyle:w.enum(["primary","secondary","outline","ghost"]).default("primary"),color:w.string().default("#3B82F6"),size:w.enum(["small","medium","large"]).default("large"),icon:w.string().optional(),pulse:w.boolean().default(!0)}).merge(L0),w.object({type:w.literal("gradient-text"),text:w.string().max(200),gradient:w.array(w.string()).min(2).max(5).default(["#3B82F6","#8B5CF6"]),angle:w.number().min(0).max(360).default(45),animate:w.boolean().default(!0),animationSpeed:w.number().min(1).max(10).default(3),fontSize:w.enum(["small","medium","large","xlarge","xxlarge"]).default("xlarge"),fontWeight:w.enum(["normal","bold","black"]).default("bold")}).merge(L0),w.object({type:w.literal("animated-bg"),style:w.enum(["particles","waves","gradient","noise","geometric","aurora"]),primaryColor:w.string().default("#3B82F6"),secondaryColor:w.string().default("#8B5CF6"),speed:w.number().min(0.5).max(5).default(1),intensity:w.number().min(0.1).max(1).default(0.5),overlay:w.boolean().default(!1),overlayOpacity:w.number().min(0).max(1).default(0.3)}).merge(L0),w.object({type:w.literal("countdown"),title:w.string().max(100).optional(),targetDate:w.string().optional(),days:w.number().min(0).optional(),hours:w.number().min(0).max(23).optional(),minutes:w.number().min(0).max(59).optional(),seconds:w.number().min(0).max(59).optional(),style:w.enum(["modern","classic","minimal","flip"]).default("modern"),color:w.string().default("#FFFFFF"),showLabels:w.boolean().default(!0)}).merge(L0),w.object({type:w.literal("weather-block"),location:w.string().max(100).default("San Francisco"),temperature:w.number().default(72),unit:w.enum(["F","C"]).default("F"),condition:w.enum(["sunny","partly-cloudy","cloudy","rainy","stormy","snowy","windy","foggy","night-clear","night-cloudy"]).default("partly-cloudy"),description:w.string().max(100).optional(),humidity:w.number().min(0).max(100).default(65),windSpeed:w.number().min(0).default(12),highTemp:w.number().optional(),lowTemp:w.number().optional(),showForecast:w.boolean().default(!0),showDetails:w.boolean().default(!0),cardStyle:w.enum(["glass","solid","minimal","gradient"]).default("glass"),accentColor:w.string().default("#38BDF8"),animateIcon:w.boolean().default(!0)}).merge(L0),w.object({type:w.literal("tower-chart-3d"),title:w.string().max(100).default("Top Rankings"),subtitle:w.string().max(200).optional(),items:w.array(w.object({rank:w.number().int().min(1),name:w.string().max(100),value:w.number().min(0),valueFormatted:w.string().max(50).optional(),color:w.string().optional(),image:w.string().optional(),subtitle:w.string().max(100).optional()})).min(1).max(50),towerStyle:w.enum(["boxes","cylinders","hexagons"]).default("boxes"),towerSpacing:w.number().min(2).max(10).default(5),baseHeight:w.number().min(1).max(5).default(2),maxHeight:w.number().min(10).max(50).default(25),gradientStart:w.string().default("#3B82F6"),gradientEnd:w.string().default("#8B5CF6"),useGradientByRank:w.boolean().default(!0),showValueLabels:w.boolean().default(!0),showRankNumbers:w.boolean().default(!0),cameraDistance:w.number().min(10).max(50).default(20),cameraPauseDuration:w.number().min(0.2).max(2).default(0.4),cameraMoveSpeed:w.number().min(0.3).max(3).default(0.8),cameraAngle:w.number().min(0).max(90).default(30),animationDirection:w.enum(["top-to-bottom","bottom-to-top"]).default("top-to-bottom"),backgroundColor:w.string().default("#0a0a1a"),groundColor:w.string().default("#151525"),showGround:w.boolean().default(!0),ambientIntensity:w.number().min(0.3).max(2).default(0.6),showLabels3D:w.boolean().default(!0),backgroundPreset:w.enum(["none","cyber-grid","mountain-range","ocean-waves","forest-trees","city-skyline","abstract-waves","space-station","aurora-borealis","volcanic-inferno","crystal-caves","desert-dunes","neon-tokyo","floating-islands","deep-ocean","galaxy-nebula","matrix-rain","ice-glacier","steampunk-gears","alien-planet","tron-grid","football-stadium","race-track","concert-stage","castle-grounds","airport-runway","theme-park","ancient-ruins","zen-garden","ski-resort","vineyard"]).default("cyber-grid"),introAnimation:w.enum(["fade","zoom","slide-up","none"]).default("fade"),itemRevealDelay:w.number().min(0).max(0.5).default(0.05),customModelPath:w.string().optional(),customModelPosition:w.object({x:w.number().default(0),y:w.number().default(35),z:w.number().default(-60)}).optional(),customModelScale:w.number().min(0.1).max(10).default(2),customModelRotation:w.number().min(0).max(360).default(0)}).merge(L0)]),ON=w.object({videoMeta:wN,contentBlocks:w.array(BN)});function NN($){let{videoMeta:X,contentBlocks:Y}=$,Q={"16:9":{width:1920,height:1080},"9:16":{width:1080,height:1920},"1:1":{width:1080,height:1080},"4:5":{width:1080,height:1350}},{width:J,height:q}=Q[X.aspectRatio]||Q["9:16"],W=X.intro?.duration||2,H=X.outro?.duration||2,G=0;Y.forEach((U)=>{let B=U.type;if(B==="whatsapp-chat"){let O=(U.messages||[]).length,N=O<=5?2:O<=15?1.5:O<=30?1:0.8,A=2.5,R=3+O*N+1.5;G+=Math.min(60,R)}else if(B==="motivational-image"){let M=U;if(M.duration)G+=M.duration;else if(M.audioSrc){let O=M.text?.length||0,N=Math.ceil(O/20);G+=Math.max(5,N+3)}else{let O=M.text?.length||0,N=Math.ceil(O/30);G+=Math.min(10,4+N)}}else if(B==="code"){let M=U.code||"";G+=Math.min(8,Math.ceil(M.length/100))}else if(B==="timeline"){let M=U.events||[];G+=4+Math.ceil(M.length*0.5)}else if(B==="list"){let M=U.items||[];G+=3+Math.ceil(M.length*0.5)}else if(B==="counter")G+=U.duration||3;else if(B==="progress-bar")G+=3;else if(B==="qr-code")G+=4;else if(B==="video")G+=U.loop?10:5;else if(B==="avatar-grid"){let M=U.avatars||[];G+=3+Math.ceil(M.length*0.2)}else if(B==="social-stats")G+=4;else if(B==="cta")G+=4;else if(B==="gradient-text")G+=U.animationSpeed||3;else if(B==="animated-bg")G+=5;else if(B==="countdown")G+=6;else if(B==="weather-block")G+=5;else if(B==="tower-chart-3d"){let M=U.items||[],O=U.cameraPauseDuration||0.4,N=U.cameraMoveSpeed||0.8,A=1.5+M.length*(O+N)+1;G+=Math.min(60,A)}else G+=3});let _=W+G+H,j=X.duration||_,V=Math.round(j*X.fps);return{width:J,height:q,fps:X.fps,durationInFrames:V}}async function MN($,X){let Y={stat:"stat-scene",comparison:"comparison-scene",text:"text-scene",quote:"quote-scene",list:"list-scene",timeline:"timeline-scene",callout:"callout-scene","icon-list":"icon-list-scene","line-chart":"line-chart-scene","pie-chart":"pie-chart-scene",code:"code-scene",testimonial:"testimonial-scene",image:"image-scene","whatsapp-chat":"whatsapp-chat-scene","motivational-image":"motivational-image-scene",counter:"counter-scene","progress-bar":"progress-bar-scene","qr-code":"qr-code-scene",video:"video-scene","avatar-grid":"avatar-grid-scene","social-stats":"social-stats-scene",cta:"cta-scene","gradient-text":"gradient-text-scene","animated-bg":"animated-bg-scene",countdown:"countdown-scene","weather-block":"weather-scene","tower-chart-3d":"tower-chart-3d-scene"};return{decisions:X.map((J,q)=>{let W=J.type,H=2;if(W==="whatsapp-chat"){let _=(J.messages||[]).length,j=_<=5?2:_<=15?1.5:_<=30?1:0.8,V=2.5,U=3+_*j+1.5;H=Math.min(60,U)}else if(W==="motivational-image"){let G=J;if(G.duration)H=G.duration;else if(G.audioSrc){let _=G.text?.length||0,j=Math.ceil(_/20);H=Math.max(5,j+3)}else{let _=G.text?.length||0,j=Math.ceil(_/30);H=Math.min(10,4+j)}}else if(W==="code"){let G=J.code||"";H=Math.min(8,Math.ceil(G.length/100))}else if(W==="timeline"){let G=J.events||[];H=4+Math.ceil(G.length*0.5)}else if(W==="list"){let G=J.items||[];H=3+Math.ceil(G.length*0.5)}else if(W==="counter")H=J.duration||3;else if(W==="progress-bar")H=3;else if(W==="qr-code")H=4;else if(W==="video")H=J.loop?10:5;else if(W==="avatar-grid"){let G=J.avatars||[];H=3+Math.ceil(G.length*0.2)}else if(W==="social-stats")H=4;else if(W==="cta")H=4;else if(W==="gradient-text")H=J.animationSpeed||3;else if(W==="animated-bg")H=5;else if(W==="countdown")H=6;else if(W==="weather-block")H=5;else if(W==="tower-chart-3d"){let G=J.items||[],_=J.cameraPauseDuration||0.4,j=J.cameraMoveSpeed||0.8;H=Math.min(60,1.5+G.length*(_+j)+1)}return{blockIndex:q,componentId:Y[W]||"text-scene",duration:H,motionProfile:W==="whatsapp-chat"?"subtle":W==="motivational-image"?"dynamic":"dynamic",animation:{enter:0.4,hold:H-0.8,exit:0.4}}}),globalStyle:{theme:$.theme}}}UN({port:v7,async fetch($){let X=new URL($.url),Y={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, OPTIONS","Access-Control-Allow-Headers":"Content-Type"};if($.method==="OPTIONS")return new Response(null,{headers:Y});if(X.pathname==="/health")return Response.json({status:"ok",service:"video-renderer",cwd:process.cwd(),bundlePath:e0,bundleExists:a0.existsSync(e0),checkedPaths:P7.map((Q)=>({path:Q,exists:a0.existsSync(Q)})),port:v7},{headers:Y});if(X.pathname==="/debug"&&$.method==="GET"){let Q=(J)=>{try{return a0.readdirSync(J).map((q)=>{let W=B6.join(J,q),H=a0.statSync(W);return{name:q,isDir:H.isDirectory(),size:H.size}})}catch{return null}};return Response.json({cwd:process.cwd(),env:{NODE_ENV:"development",HOME:process.env.HOME},directories:{".":Q(process.cwd()),"..":Q(B6.join(process.cwd(),"..")),bundle:a0.existsSync(B6.join(process.cwd(),"bundle"))?Q(B6.join(process.cwd(),"bundle"))?.slice(0,5):"not found"}},{headers:Y})}if(X.pathname==="/render"&&$.method==="POST"){let Q=Date.now();try{let J=await $.json(),{compositionConfig:q,props:W,quality:H="medium"}=J;if(!q||!W)return Response.json({error:"Missing compositionConfig or props"},{status:400,headers:Y});if(!a0.existsSync(e0))return Response.json({error:"Remotion bundle not found",bundlePath:e0,setupInstruction:"Run: bun run video:bundle"},{status:500,headers:Y});console.log("\uD83C\uDFA5 Rendering video..."),console.log("  Composition:",q),console.log("  Quality:",H);let G=fJ.tmpdir(),j=`video-${yJ.randomBytes(8).toString("hex")}.mp4`,V=B6.join(G,j),{crf:U}=c9[H]||c9.medium,M=(await V7(e0,{inputProps:W})).find((A)=>A.id==="DynamicVideo");if(!M)return Response.json({error:"DynamicVideo composition not found in bundle"},{status:500,headers:Y});await R7({serveUrl:e0,composition:{id:M.id,durationInFrames:q.durationInFrames,fps:q.fps,width:q.width,height:q.height,props:W},codec:"h264",outputLocation:V,inputProps:W,crf:U,logLevel:"warn",enforceAudioTrack:!0});let O=a0.readFileSync(V);try{a0.unlinkSync(V)}catch{}let N=((Date.now()-Q)/1000).toFixed(1);return console.log(`\u2705 Video rendered in ${N}s (${O.length} bytes)`),new Response(O,{status:200,headers:{...Y,"Content-Type":"video/mp4","Content-Disposition":'attachment; filename="video.mp4"',"Content-Length":String(O.length),"X-Processing-Time":`${N}s`,"X-Video-Duration":`${(q.durationInFrames/q.fps).toFixed(1)}s`,"X-Video-Resolution":`${q.width}x${q.height}`}})}catch(J){return console.error("\u274C Render error:",J),Response.json({error:"Failed to render video",message:J instanceof Error?J.message:"Unknown error"},{status:500,headers:Y})}}if(X.pathname==="/render-full"&&$.method==="POST"){let Q=Date.now();try{let J=await $.json(),q=ON.safeParse(J);if(!q.success)return Response.json({error:"Validation failed",details:q.error.issues},{status:400,headers:Y});let W=q.data,H=J.title||"Video",G=J.subtitle||"",_=J.quality||"medium";if(!a0.existsSync(e0))return Response.json({error:"Remotion bundle not found",bundlePath:e0,setupInstruction:"Run: bun run video:bundle"},{status:500,headers:Y});let j=await MN(W.videoMeta,W.contentBlocks),V=NN(W),U={input:W,plan:j,title:H,subtitle:G};console.log("\uD83C\uDFA5 Full render requested..."),console.log("  Content blocks:",W.contentBlocks.length),console.log("  Duration:",`${(V.durationInFrames/V.fps).toFixed(1)}s`),console.log("  Resolution:",`${V.width}x${V.height}`),console.log("  Props:",JSON.stringify(U,null,2));let B=fJ.tmpdir(),O=`video-${yJ.randomBytes(8).toString("hex")}.mp4`,N=B6.join(B,O),{crf:A}=c9[_]||c9.medium,L=(await V7(e0,{inputProps:U})).find((I)=>I.id==="DynamicVideo");if(!L)return Response.json({error:"DynamicVideo composition not found in bundle"},{status:500,headers:Y});await R7({serveUrl:e0,composition:{id:L.id,durationInFrames:V.durationInFrames,fps:V.fps,width:V.width,height:V.height,props:U},codec:"h264",outputLocation:N,inputProps:U,crf:A,logLevel:"warn",enforceAudioTrack:!0});let v=a0.readFileSync(N);try{a0.unlinkSync(N)}catch{}let F=((Date.now()-Q)/1000).toFixed(1);return console.log(`\u2705 Video rendered in ${F}s (${v.length} bytes)`),new Response(v,{status:200,headers:{...Y,"Content-Type":"video/mp4","Content-Disposition":`attachment; filename="${H.replace(/\s+/g,"-").toLowerCase()}.mp4"`,"Content-Length":String(v.length),"X-Processing-Time":`${F}s`,"X-Video-Duration":`${(V.durationInFrames/V.fps).toFixed(1)}s`,"X-Video-Resolution":`${V.width}x${V.height}`}})}catch(J){return console.error("\u274C Full render error:",J),Response.json({error:"Failed to render video",message:J instanceof Error?J.message:"Unknown error",stack:J instanceof Error?J.stack:void 0},{status:500,headers:Y})}}return Response.json({error:"Not found",endpoints:["GET /health","POST /render","POST /render-full"]},{status:404,headers:Y})}});console.log(`\uD83D\uDE80 Video Renderer Service running on port ${v7}`);console.log("\uD83D\uDCE1 Endpoints:");console.log("   GET  /health      - Health check");console.log("   POST /render      - Render with pre-calculated props");console.log("   POST /render-full - Full render from raw input");
